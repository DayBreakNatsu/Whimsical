function Cv(i,n){for(var s=0;s<n.length;s++){const l=n[s];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in i)){const c=Object.getOwnPropertyDescriptor(l,u);c&&Object.defineProperty(i,u,c.get?c:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(u){if(u.ep)return;u.ep=!0;const c=s(u);fetch(u.href,c)}})();function tp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Rv(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var n=i.default;if(typeof n=="function"){var s=function l(){var u=!1;try{u=this instanceof l}catch{}return u?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(l){var u=Object.getOwnPropertyDescriptor(i,l);Object.defineProperty(s,l,u.get?u:{enumerable:!0,get:function(){return i[l]}})}),s}var gc={exports:{}},Ir={};var ng;function kv(){if(ng)return Ir;ng=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(l,u,c){var f=null;if(c!==void 0&&(f=""+c),u.key!==void 0&&(f=""+u.key),"key"in u){c={};for(var g in u)g!=="key"&&(c[g]=u[g])}else c=u;return u=c.ref,{$$typeof:i,type:l,key:f,ref:u!==void 0?u:null,props:c}}return Ir.Fragment=n,Ir.jsx=s,Ir.jsxs=s,Ir}var sg;function Uv(){return sg||(sg=1,gc.exports=kv()),gc.exports}var h=Uv(),pc={exports:{}},de={};var rg;function Dv(){if(rg)return de;rg=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function _(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,C={};function D(E,V,X){this.props=E,this.context=V,this.refs=C,this.updater=X||N}D.prototype.isReactComponent={},D.prototype.setState=function(E,V){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,V,"setState")},D.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function L(){}L.prototype=D.prototype;function B(E,V,X){this.props=E,this.context=V,this.refs=C,this.updater=X||N}var Q=B.prototype=new L;Q.constructor=B,O(Q,D.prototype),Q.isPureReactComponent=!0;var se=Array.isArray;function P(){}var K={H:null,A:null,T:null,S:null},ge=Object.prototype.hasOwnProperty;function ue(E,V,X){var Z=X.ref;return{$$typeof:i,type:E,key:V,ref:Z!==void 0?Z:null,props:X}}function I(E,V){return ue(E.type,V,E.props)}function ee(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function Oe(E){var V={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(X){return V[X]})}var Ae=/\/+/g;function qe(E,V){return typeof E=="object"&&E!==null&&E.key!=null?Oe(""+E.key):V.toString(36)}function ut(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(P,P):(E.status="pending",E.then(function(V){E.status==="pending"&&(E.status="fulfilled",E.value=V)},function(V){E.status==="pending"&&(E.status="rejected",E.reason=V)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function H(E,V,X,Z,ce){var fe=typeof E;(fe==="undefined"||fe==="boolean")&&(E=null);var _e=!1;if(E===null)_e=!0;else switch(fe){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(E.$$typeof){case i:case n:_e=!0;break;case x:return _e=E._init,H(_e(E._payload),V,X,Z,ce)}}if(_e)return ce=ce(E),_e=Z===""?"."+qe(E,0):Z,se(ce)?(X="",_e!=null&&(X=_e.replace(Ae,"$&/")+"/"),H(ce,V,X,"",function(qa){return qa})):ce!=null&&(ee(ce)&&(ce=I(ce,X+(ce.key==null||E&&E.key===ce.key?"":(""+ce.key).replace(Ae,"$&/")+"/")+_e)),V.push(ce)),1;_e=0;var Ke=Z===""?".":Z+":";if(se(E))for(var He=0;He<E.length;He++)Z=E[He],fe=Ke+qe(Z,He),_e+=H(Z,V,X,fe,ce);else if(He=_(E),typeof He=="function")for(E=He.call(E),He=0;!(Z=E.next()).done;)Z=Z.value,fe=Ke+qe(Z,He++),_e+=H(Z,V,X,fe,ce);else if(fe==="object"){if(typeof E.then=="function")return H(ut(E),V,X,Z,ce);throw V=String(E),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return _e}function J(E,V,X){if(E==null)return E;var Z=[],ce=0;return H(E,Z,"","",function(fe){return V.call(X,fe,ce++)}),Z}function ie(E){if(E._status===-1){var V=E._result;V=V(),V.then(function(X){(E._status===0||E._status===-1)&&(E._status=1,E._result=X)},function(X){(E._status===0||E._status===-1)&&(E._status=2,E._result=X)}),E._status===-1&&(E._status=0,E._result=V)}if(E._status===1)return E._result.default;throw E._result}var pe=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},Ee={map:J,forEach:function(E,V,X){J(E,function(){V.apply(this,arguments)},X)},count:function(E){var V=0;return J(E,function(){V++}),V},toArray:function(E){return J(E,function(V){return V})||[]},only:function(E){if(!ee(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return de.Activity=v,de.Children=Ee,de.Component=D,de.Fragment=s,de.Profiler=u,de.PureComponent=B,de.StrictMode=l,de.Suspense=m,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,de.__COMPILER_RUNTIME={__proto__:null,c:function(E){return K.H.useMemoCache(E)}},de.cache=function(E){return function(){return E.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(E,V,X){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var Z=O({},E.props),ce=E.key;if(V!=null)for(fe in V.key!==void 0&&(ce=""+V.key),V)!ge.call(V,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&V.ref===void 0||(Z[fe]=V[fe]);var fe=arguments.length-2;if(fe===1)Z.children=X;else if(1<fe){for(var _e=Array(fe),Ke=0;Ke<fe;Ke++)_e[Ke]=arguments[Ke+2];Z.children=_e}return ue(E.type,ce,Z)},de.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},de.createElement=function(E,V,X){var Z,ce={},fe=null;if(V!=null)for(Z in V.key!==void 0&&(fe=""+V.key),V)ge.call(V,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ce[Z]=V[Z]);var _e=arguments.length-2;if(_e===1)ce.children=X;else if(1<_e){for(var Ke=Array(_e),He=0;He<_e;He++)Ke[He]=arguments[He+2];ce.children=Ke}if(E&&E.defaultProps)for(Z in _e=E.defaultProps,_e)ce[Z]===void 0&&(ce[Z]=_e[Z]);return ue(E,fe,ce)},de.createRef=function(){return{current:null}},de.forwardRef=function(E){return{$$typeof:g,render:E}},de.isValidElement=ee,de.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:ie}},de.memo=function(E,V){return{$$typeof:y,type:E,compare:V===void 0?null:V}},de.startTransition=function(E){var V=K.T,X={};K.T=X;try{var Z=E(),ce=K.S;ce!==null&&ce(X,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(P,pe)}catch(fe){pe(fe)}finally{V!==null&&X.types!==null&&(V.types=X.types),K.T=V}},de.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},de.use=function(E){return K.H.use(E)},de.useActionState=function(E,V,X){return K.H.useActionState(E,V,X)},de.useCallback=function(E,V){return K.H.useCallback(E,V)},de.useContext=function(E){return K.H.useContext(E)},de.useDebugValue=function(){},de.useDeferredValue=function(E,V){return K.H.useDeferredValue(E,V)},de.useEffect=function(E,V){return K.H.useEffect(E,V)},de.useEffectEvent=function(E){return K.H.useEffectEvent(E)},de.useId=function(){return K.H.useId()},de.useImperativeHandle=function(E,V,X){return K.H.useImperativeHandle(E,V,X)},de.useInsertionEffect=function(E,V){return K.H.useInsertionEffect(E,V)},de.useLayoutEffect=function(E,V){return K.H.useLayoutEffect(E,V)},de.useMemo=function(E,V){return K.H.useMemo(E,V)},de.useOptimistic=function(E,V){return K.H.useOptimistic(E,V)},de.useReducer=function(E,V,X){return K.H.useReducer(E,V,X)},de.useRef=function(E){return K.H.useRef(E)},de.useState=function(E){return K.H.useState(E)},de.useSyncExternalStore=function(E,V,X){return K.H.useSyncExternalStore(E,V,X)},de.useTransition=function(){return K.H.useTransition()},de.version="19.2.0",de}var ig;function Qc(){return ig||(ig=1,pc.exports=Dv()),pc.exports}var R=Qc();const ql=tp(R);var yc={exports:{}},Qr={},bc={exports:{}},vc={};var lg;function zv(){return lg||(lg=1,(function(i){function n(H,J){var ie=H.length;H.push(J);e:for(;0<ie;){var pe=ie-1>>>1,Ee=H[pe];if(0<u(Ee,J))H[pe]=J,H[ie]=Ee,ie=pe;else break e}}function s(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var J=H[0],ie=H.pop();if(ie!==J){H[0]=ie;e:for(var pe=0,Ee=H.length,E=Ee>>>1;pe<E;){var V=2*(pe+1)-1,X=H[V],Z=V+1,ce=H[Z];if(0>u(X,ie))Z<Ee&&0>u(ce,X)?(H[pe]=ce,H[Z]=ie,pe=Z):(H[pe]=X,H[V]=ie,pe=V);else if(Z<Ee&&0>u(ce,ie))H[pe]=ce,H[Z]=ie,pe=Z;else break e}}return J}function u(H,J){var ie=H.sortIndex-J.sortIndex;return ie!==0?ie:H.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var m=[],y=[],x=1,v=null,w=3,_=!1,N=!1,O=!1,C=!1,D=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function Q(H){for(var J=s(y);J!==null;){if(J.callback===null)l(y);else if(J.startTime<=H)l(y),J.sortIndex=J.expirationTime,n(m,J);else break;J=s(y)}}function se(H){if(O=!1,Q(H),!N)if(s(m)!==null)N=!0,P||(P=!0,Oe());else{var J=s(y);J!==null&&ut(se,J.startTime-H)}}var P=!1,K=-1,ge=5,ue=-1;function I(){return C?!0:!(i.unstable_now()-ue<ge)}function ee(){if(C=!1,P){var H=i.unstable_now();ue=H;var J=!0;try{e:{N=!1,O&&(O=!1,L(K),K=-1),_=!0;var ie=w;try{t:{for(Q(H),v=s(m);v!==null&&!(v.expirationTime>H&&I());){var pe=v.callback;if(typeof pe=="function"){v.callback=null,w=v.priorityLevel;var Ee=pe(v.expirationTime<=H);if(H=i.unstable_now(),typeof Ee=="function"){v.callback=Ee,Q(H),J=!0;break t}v===s(m)&&l(m),Q(H)}else l(m);v=s(m)}if(v!==null)J=!0;else{var E=s(y);E!==null&&ut(se,E.startTime-H),J=!1}}break e}finally{v=null,w=ie,_=!1}J=void 0}}finally{J?Oe():P=!1}}}var Oe;if(typeof B=="function")Oe=function(){B(ee)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,qe=Ae.port2;Ae.port1.onmessage=ee,Oe=function(){qe.postMessage(null)}}else Oe=function(){D(ee,0)};function ut(H,J){K=D(function(){H(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(H){switch(w){case 1:case 2:case 3:var J=3;break;default:J=w}var ie=w;w=J;try{return H()}finally{w=ie}},i.unstable_requestPaint=function(){C=!0},i.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=w;w=H;try{return J()}finally{w=ie}},i.unstable_scheduleCallback=function(H,J,ie){var pe=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?pe+ie:pe):ie=pe,H){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ie+Ee,H={id:x++,callback:J,priorityLevel:H,startTime:ie,expirationTime:Ee,sortIndex:-1},ie>pe?(H.sortIndex=ie,n(y,H),s(m)===null&&H===s(y)&&(O?(L(K),K=-1):O=!0,ut(se,ie-pe))):(H.sortIndex=Ee,n(m,H),N||_||(N=!0,P||(P=!0,Oe()))),H},i.unstable_shouldYield=I,i.unstable_wrapCallback=function(H){var J=w;return function(){var ie=w;w=J;try{return H.apply(this,arguments)}finally{w=ie}}}})(vc)),vc}var og;function Mv(){return og||(og=1,bc.exports=zv()),bc.exports}var xc={exports:{}},pt={};var ug;function Bv(){if(ug)return pt;ug=1;var i=Qc();function n(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(m,y,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:v==null?null:""+v,children:m,containerInfo:y,implementation:x}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,pt.createPortal=function(m,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return c(m,y,null,x)},pt.flushSync=function(m){var y=f.T,x=l.p;try{if(f.T=null,l.p=2,m)return m()}finally{f.T=y,l.p=x,l.d.f()}},pt.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(m,y))},pt.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},pt.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var x=y.as,v=g(x,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,_=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?l.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:_}):x==="script"&&l.d.X(m,{crossOrigin:v,integrity:w,fetchPriority:_,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},pt.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=g(y.as,y.crossOrigin);l.d.M(m,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(m)},pt.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,v=g(x,y.crossOrigin);l.d.L(m,x,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},pt.preloadModule=function(m,y){if(typeof m=="string")if(y){var x=g(y.as,y.crossOrigin);l.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(m)},pt.requestFormReset=function(m){l.d.r(m)},pt.unstable_batchedUpdates=function(m,y){return m(y)},pt.useFormState=function(m,y,x){return f.H.useFormState(m,y,x)},pt.useFormStatus=function(){return f.H.useHostTransitionStatus()},pt.version="19.2.0",pt}var cg;function Lv(){if(cg)return xc.exports;cg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),xc.exports=Bv(),xc.exports}var dg;function qv(){if(dg)return Qr;dg=1;var i=Mv(),n=Qc(),s=Lv();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(l(188))}function y(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,r=t;;){var o=a.return;if(o===null)break;var d=o.alternate;if(d===null){if(r=o.return,r!==null){a=r;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===a)return m(o),e;if(d===r)return m(o),t;d=d.sibling}throw Error(l(188))}if(a.return!==r.return)a=o,r=d;else{for(var p=!1,b=o.child;b;){if(b===a){p=!0,a=o,r=d;break}if(b===r){p=!0,r=o,a=d;break}b=b.sibling}if(!p){for(b=d.child;b;){if(b===a){p=!0,a=d,r=o;break}if(b===r){p=!0,r=d,a=o;break}b=b.sibling}if(!p)throw Error(l(189))}}if(a.alternate!==r)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),B=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function Oe(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Symbol.for("react.client.reference");function qe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ae?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case D:return"Profiler";case C:return"StrictMode";case se:return"Suspense";case P:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case B:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:qe(e.type)||"Memo";case ge:t=e._payload,e=e._init;try{return qe(e(t))}catch{}}return null}var ut=Array.isArray,H=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},pe=[],Ee=-1;function E(e){return{current:e}}function V(e){0>Ee||(e.current=pe[Ee],pe[Ee]=null,Ee--)}function X(e,t){Ee++,pe[Ee]=e.current,e.current=t}var Z=E(null),ce=E(null),fe=E(null),_e=E(null);function Ke(e,t){switch(X(fe,t),X(ce,e),X(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Nm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Nm(t),e=Tm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(Z),X(Z,e)}function He(){V(Z),V(ce),V(fe)}function qa(e){e.memoizedState!==null&&X(_e,e);var t=Z.current,a=Tm(t,e.type);t!==a&&(X(ce,e),X(Z,a))}function bn(e){ce.current===e&&(V(Z),V(ce)),_e.current===e&&(V(_e),Vr._currentValue=ie)}var Ha,er;function oa(e){if(Ha===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ha=t&&t[1]||"",er=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ha+e+er}var In=!1;function $a(e,t){if(!e||In)return"";In=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(M){var z=M}Reflect.construct(e,[],G)}else{try{G.call()}catch(M){z=M}e.call(G.prototype)}}else{try{throw Error()}catch(M){z=M}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(M){if(M&&z&&typeof M.stack=="string")return[M.stack,z.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),p=d[0],b=d[1];if(p&&b){var S=p.split(`
`),U=b.split(`
`);for(o=r=0;r<S.length&&!S[r].includes("DetermineComponentFrameRoot");)r++;for(;o<U.length&&!U[o].includes("DetermineComponentFrameRoot");)o++;if(r===S.length||o===U.length)for(r=S.length-1,o=U.length-1;1<=r&&0<=o&&S[r]!==U[o];)o--;for(;1<=r&&0<=o;r--,o--)if(S[r]!==U[o]){if(r!==1||o!==1)do if(r--,o--,0>o||S[r]!==U[o]){var q=`
`+S[r].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=r&&0<=o);break}}}finally{In=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?oa(a):""}function ui(e,t){switch(e.tag){case 26:case 27:case 5:return oa(e.type);case 16:return oa("Lazy");case 13:return e.child!==t&&t!==null?oa("Suspense Fallback"):oa("Suspense");case 19:return oa("SuspenseList");case 0:case 15:return $a(e.type,!1);case 11:return $a(e.type.render,!1);case 1:return $a(e.type,!0);case 31:return oa("Activity");default:return""}}function tr(e){try{var t="",a=null;do t+=ui(e,a),a=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Qn=Object.prototype.hasOwnProperty,Ga=i.unstable_scheduleCallback,Jn=i.unstable_cancelCallback,ci=i.unstable_shouldYield,di=i.unstable_requestPaint,nt=i.unstable_now,ar=i.unstable_getCurrentPriorityLevel,nr=i.unstable_ImmediatePriority,hi=i.unstable_UserBlockingPriority,Xn=i.unstable_NormalPriority,eo=i.unstable_LowPriority,Zn=i.unstable_IdlePriority,to=i.log,At=i.unstable_setDisableYieldValue,vn=null,bt=null;function ea(e){if(typeof to=="function"&&At(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(vn,e)}catch{}}var vt=Math.clz32?Math.clz32:xn,fi=Math.log,mi=Math.LN2;function xn(e){return e>>>=0,e===0?32:31-(fi(e)/mi|0)|0}var ua=256,wn=262144,ga=4194304;function $t(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fn(e,t,a){var r=e.pendingLanes;if(r===0)return 0;var o=0,d=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var b=r&134217727;return b!==0?(r=b&~d,r!==0?o=$t(r):(p&=b,p!==0?o=$t(p):a||(a=b&~e,a!==0&&(o=$t(a))))):(b=r&~d,b!==0?o=$t(b):p!==0?o=$t(p):a||(a=r&~e,a!==0&&(o=$t(a)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:o}function Va(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ao(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wn(){var e=ga;return ga<<=1,(ga&62914560)===0&&(ga=4194304),e}function j(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Y(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function re(e,t,a,r,o,d){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,S=e.expirationTimes,U=e.hiddenUpdates;for(a=p&~a;0<a;){var q=31-vt(a),G=1<<q;b[q]=0,S[q]=-1;var z=U[q];if(z!==null)for(U[q]=null,q=0;q<z.length;q++){var M=z[q];M!==null&&(M.lane&=-536870913)}a&=~G}r!==0&&Ne(e,r,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(p&~t))}function Ne(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-vt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|a&261930}function pa(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var r=31-vt(a),o=1<<r;o&t|e[r]&t&&(e[r]|=t),a&=~o}}function ud(e,t){var a=t&-t;return a=(a&42)!==0?1:no(a),(a&(e.suspendedLanes|t))!==0?0:a}function no(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function so(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cd(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Xm(e.type))}function dd(e,t){var a=J.p;try{return J.p=e,t()}finally{J.p=a}}var Ya=Math.random().toString(36).slice(2),ct="__reactFiber$"+Ya,_t="__reactProps$"+Ya,es="__reactContainer$"+Ya,ro="__reactEvents$"+Ya,vy="__reactListeners$"+Ya,xy="__reactHandles$"+Ya,hd="__reactResources$"+Ya,sr="__reactMarker$"+Ya;function io(e){delete e[ct],delete e[_t],delete e[ro],delete e[vy],delete e[xy]}function ts(e){var t=e[ct];if(t)return t;for(var a=e.parentNode;a;){if(t=a[es]||a[ct]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Dm(e);e!==null;){if(a=e[ct])return a;e=Dm(e)}return t}e=a,a=e.parentNode}return null}function as(e){if(e=e[ct]||e[es]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function rr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function ns(e){var t=e[hd];return t||(t=e[hd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[sr]=!0}var fd=new Set,md={};function _n(e,t){ss(e,t),ss(e+"Capture",t)}function ss(e,t){for(md[e]=t,e=0;e<t.length;e++)fd.add(t[e])}var wy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gd={},pd={};function _y(e){return Qn.call(pd,e)?!0:Qn.call(gd,e)?!1:wy.test(e)?pd[e]=!0:(gd[e]=!0,!1)}function gi(e,t,a){if(_y(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function pi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ya(e,t,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+r)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sy(e,t,a){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(p){a=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lo(e){if(!e._valueTracker){var t=yd(e)?"checked":"value";e._valueTracker=Sy(e,t,""+e[t])}}function bd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),r="";return e&&(r=yd(e)?e.checked?"true":"false":e.value),e=r,e!==a?(t.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jy=/[\n"\\]/g;function Vt(e){return e.replace(jy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function oo(e,t,a,r,o,d,p,b){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?uo(e,p,Gt(t)):a!=null?uo(e,p,Gt(a)):r!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Gt(b):e.removeAttribute("name")}function vd(e,t,a,r,o,d,p,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){lo(e);return}a=a!=null?""+Gt(a):"",t=t!=null?""+Gt(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=b?e.checked:!!r,e.defaultChecked=!!r,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),lo(e)}function uo(e,t,a){t==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function rs(e,t,a,r){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&r&&(e[a].defaultSelected=!0)}else{for(a=""+Gt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function xd(e,t,a){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Gt(a):""}function wd(e,t,a,r){if(t==null){if(r!=null){if(a!=null)throw Error(l(92));if(ut(r)){if(1<r.length)throw Error(l(93));r=r[0]}a=r}a==null&&(a=""),t=a}a=Gt(t),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r),lo(e)}function is(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Ey=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _d(e,t,a){var r=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,a):typeof a!="number"||a===0||Ey.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Sd(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&a[o]!==r&&_d(e,o,r)}else for(var d in t)t.hasOwnProperty(d)&&_d(e,d,t[d])}function co(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ny=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ty=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bi(e){return Ty.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ba(){}var ho=null;function fo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ls=null,os=null;function jd(e){var t=as(e);if(t&&(e=t.stateNode)){var a=e[_t]||null;e:switch(e=t.stateNode,t.type){case"input":if(oo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Vt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var r=a[t];if(r!==e&&r.form===e.form){var o=r[_t]||null;if(!o)throw Error(l(90));oo(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)r=a[t],r.form===e.form&&bd(r)}break e;case"textarea":xd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&rs(e,!!a.multiple,t,!1)}}}var mo=!1;function Ed(e,t,a){if(mo)return e(t,a);mo=!0;try{var r=e(t);return r}finally{if(mo=!1,(ls!==null||os!==null)&&(rl(),ls&&(t=ls,e=os,os=ls=null,jd(t),e)))for(t=0;t<e.length;t++)jd(e[t])}}function ir(e,t){var a=e.stateNode;if(a===null)return null;var r=a[_t]||null;if(r===null)return null;a=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),go=!1;if(va)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){go=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{go=!1}var Pa=null,po=null,vi=null;function Nd(){if(vi)return vi;var e,t=po,a=t.length,r,o="value"in Pa?Pa.value:Pa.textContent,d=o.length;for(e=0;e<a&&t[e]===o[e];e++);var p=a-e;for(r=1;r<=p&&t[a-r]===o[d-r];r++);return vi=o.slice(e,1<r?1-r:void 0)}function xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wi(){return!0}function Td(){return!1}function St(e){function t(a,r,o,d,p){this._reactName=a,this._targetInst=o,this.type=r,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?wi:Td,this.isPropagationStopped=Td,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),t}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=St(Sn),or=v({},Sn,{view:0,detail:0}),Oy=St(or),yo,bo,ur,Si=v({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ur&&(ur&&e.type==="mousemove"?(yo=e.screenX-ur.screenX,bo=e.screenY-ur.screenY):bo=yo=0,ur=e),yo)},movementY:function(e){return"movementY"in e?e.movementY:bo}}),Od=St(Si),Ay=v({},Si,{dataTransfer:0}),Cy=St(Ay),Ry=v({},or,{relatedTarget:0}),vo=St(Ry),ky=v({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Uy=St(ky),Dy=v({},Sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zy=St(Dy),My=v({},Sn,{data:0}),Ad=St(My),By={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ly={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qy[e])?!!t[e]:!1}function xo(){return Hy}var $y=v({},or,{key:function(e){if(e.key){var t=By[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ly[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xo,charCode:function(e){return e.type==="keypress"?xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gy=St($y),Vy=v({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cd=St(Vy),Yy=v({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xo}),Py=St(Yy),Ky=v({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iy=St(Ky),Qy=v({},Si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jy=St(Qy),Xy=v({},Sn,{newState:0,oldState:0}),Zy=St(Xy),Fy=[9,13,27,32],wo=va&&"CompositionEvent"in window,cr=null;va&&"documentMode"in document&&(cr=document.documentMode);var Wy=va&&"TextEvent"in window&&!cr,Rd=va&&(!wo||cr&&8<cr&&11>=cr),kd=" ",Ud=!1;function Dd(e,t){switch(e){case"keyup":return Fy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var us=!1;function eb(e,t){switch(e){case"compositionend":return zd(t);case"keypress":return t.which!==32?null:(Ud=!0,kd);case"textInput":return e=t.data,e===kd&&Ud?null:e;default:return null}}function tb(e,t){if(us)return e==="compositionend"||!wo&&Dd(e,t)?(e=Nd(),vi=po=Pa=null,us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rd&&t.locale!=="ko"?null:t.data;default:return null}}var ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ab[e.type]:t==="textarea"}function Bd(e,t,a,r){ls?os?os.push(r):os=[r]:ls=r,t=hl(t,"onChange"),0<t.length&&(a=new _i("onChange","change",null,a,r),e.push({event:a,listeners:t}))}var dr=null,hr=null;function nb(e){xm(e,0)}function ji(e){var t=rr(e);if(bd(t))return e}function Ld(e,t){if(e==="change")return t}var qd=!1;if(va){var _o;if(va){var So="oninput"in document;if(!So){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),So=typeof Hd.oninput=="function"}_o=So}else _o=!1;qd=_o&&(!document.documentMode||9<document.documentMode)}function $d(){dr&&(dr.detachEvent("onpropertychange",Gd),hr=dr=null)}function Gd(e){if(e.propertyName==="value"&&ji(hr)){var t=[];Bd(t,hr,e,fo(e)),Ed(nb,t)}}function sb(e,t,a){e==="focusin"?($d(),dr=t,hr=a,dr.attachEvent("onpropertychange",Gd)):e==="focusout"&&$d()}function rb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ji(hr)}function ib(e,t){if(e==="click")return ji(t)}function lb(e,t){if(e==="input"||e==="change")return ji(t)}function ob(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:ob;function fr(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var o=a[r];if(!Qn.call(t,o)||!Ct(e[o],t[o]))return!1}return!0}function Vd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yd(e,t){var a=Vd(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vd(a)}}function Pd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=yi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=yi(e.document)}return t}function jo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ub=va&&"documentMode"in document&&11>=document.documentMode,cs=null,Eo=null,mr=null,No=!1;function Id(e,t,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;No||cs==null||cs!==yi(r)||(r=cs,"selectionStart"in r&&jo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mr&&fr(mr,r)||(mr=r,r=hl(Eo,"onSelect"),0<r.length&&(t=new _i("onSelect","select",null,t,a),e.push({event:t,listeners:r}),t.target=cs)))}function jn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ds={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionrun:jn("Transition","TransitionRun"),transitionstart:jn("Transition","TransitionStart"),transitioncancel:jn("Transition","TransitionCancel"),transitionend:jn("Transition","TransitionEnd")},To={},Qd={};va&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function En(e){if(To[e])return To[e];if(!ds[e])return e;var t=ds[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Qd)return To[e]=t[a];return e}var Jd=En("animationend"),Xd=En("animationiteration"),Zd=En("animationstart"),cb=En("transitionrun"),db=En("transitionstart"),hb=En("transitioncancel"),Fd=En("transitionend"),Wd=new Map,Oo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oo.push("scrollEnd");function ta(e,t){Wd.set(e,t),_n(t,[e])}var Ei=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yt=[],hs=0,Ao=0;function Ni(){for(var e=hs,t=Ao=hs=0;t<e;){var a=Yt[t];Yt[t++]=null;var r=Yt[t];Yt[t++]=null;var o=Yt[t];Yt[t++]=null;var d=Yt[t];if(Yt[t++]=null,r!==null&&o!==null){var p=r.pending;p===null?o.next=o:(o.next=p.next,p.next=o),r.pending=o}d!==0&&eh(a,o,d)}}function Ti(e,t,a,r){Yt[hs++]=e,Yt[hs++]=t,Yt[hs++]=a,Yt[hs++]=r,Ao|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Co(e,t,a,r){return Ti(e,t,a,r),Oi(e)}function Nn(e,t){return Ti(e,null,null,t),Oi(e)}function eh(e,t,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var o=!1,d=e.return;d!==null;)d.childLanes|=a,r=d.alternate,r!==null&&(r.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-vt(a),e=d.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=a|536870912),d):null}function Oi(e){if(50<Mr)throw Mr=0,qu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var fs={};function fb(e,t,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,a,r){return new fb(e,t,a,r)}function Ro(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xa(e,t){var a=e.alternate;return a===null?(a=Rt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function th(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ai(e,t,a,r,o,d){var p=0;if(r=e,typeof e=="function")Ro(e)&&(p=1);else if(typeof e=="string")p=bv(e,a,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=Rt(31,a,t,o),e.elementType=ue,e.lanes=d,e;case O:return Tn(a.children,o,d,t);case C:p=8,o|=24;break;case D:return e=Rt(12,a,t,o|2),e.elementType=D,e.lanes=d,e;case se:return e=Rt(13,a,t,o),e.elementType=se,e.lanes=d,e;case P:return e=Rt(19,a,t,o),e.elementType=P,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:p=10;break e;case L:p=9;break e;case Q:p=11;break e;case K:p=14;break e;case ge:p=16,r=null;break e}p=29,a=Error(l(130,e===null?"null":typeof e,"")),r=null}return t=Rt(p,a,t,o),t.elementType=e,t.type=r,t.lanes=d,t}function Tn(e,t,a,r){return e=Rt(7,e,r,t),e.lanes=a,e}function ko(e,t,a){return e=Rt(6,e,null,t),e.lanes=a,e}function ah(e){var t=Rt(18,null,null,0);return t.stateNode=e,t}function Uo(e,t,a){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var nh=new WeakMap;function Pt(e,t){if(typeof e=="object"&&e!==null){var a=nh.get(e);return a!==void 0?a:(t={value:e,source:t,stack:tr(t)},nh.set(e,t),t)}return{value:e,source:t,stack:tr(t)}}var ms=[],gs=0,Ci=null,gr=0,Kt=[],It=0,Ka=null,ca=1,da="";function wa(e,t){ms[gs++]=gr,ms[gs++]=Ci,Ci=e,gr=t}function sh(e,t,a){Kt[It++]=ca,Kt[It++]=da,Kt[It++]=Ka,Ka=e;var r=ca;e=da;var o=32-vt(r)-1;r&=~(1<<o),a+=1;var d=32-vt(t)+o;if(30<d){var p=o-o%5;d=(r&(1<<p)-1).toString(32),r>>=p,o-=p,ca=1<<32-vt(t)+o|a<<o|r,da=d+e}else ca=1<<d|a<<o|r,da=e}function Do(e){e.return!==null&&(wa(e,1),sh(e,1,0))}function zo(e){for(;e===Ci;)Ci=ms[--gs],ms[gs]=null,gr=ms[--gs],ms[gs]=null;for(;e===Ka;)Ka=Kt[--It],Kt[It]=null,da=Kt[--It],Kt[It]=null,ca=Kt[--It],Kt[It]=null}function rh(e,t){Kt[It++]=ca,Kt[It++]=da,Kt[It++]=Ka,ca=t.id,da=t.overflow,Ka=e}var dt=null,Be=null,we=!1,Ia=null,Qt=!1,Mo=Error(l(519));function Qa(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pr(Pt(t,e)),Mo}function ih(e){var t=e.stateNode,a=e.type,r=e.memoizedProps;switch(t[ct]=e,t[_t]=r,a){case"dialog":be("cancel",t),be("close",t);break;case"iframe":case"object":case"embed":be("load",t);break;case"video":case"audio":for(a=0;a<Lr.length;a++)be(Lr[a],t);break;case"source":be("error",t);break;case"img":case"image":case"link":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"input":be("invalid",t),vd(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":be("invalid",t);break;case"textarea":be("invalid",t),wd(t,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||r.suppressHydrationWarning===!0||jm(t.textContent,a)?(r.popover!=null&&(be("beforetoggle",t),be("toggle",t)),r.onScroll!=null&&be("scroll",t),r.onScrollEnd!=null&&be("scrollend",t),r.onClick!=null&&(t.onclick=ba),t=!0):t=!1,t||Qa(e,!0)}function lh(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:dt=dt.return}}function ps(e){if(e!==dt)return!1;if(!we)return lh(e),we=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ec(e.type,e.memoizedProps)),a=!a),a&&Be&&Qa(e),lh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Be=Um(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Be=Um(e)}else t===27?(t=Be,un(e.type)?(e=rc,rc=null,Be=e):Be=t):Be=dt?Xt(e.stateNode.nextSibling):null;return!0}function On(){Be=dt=null,we=!1}function Bo(){var e=Ia;return e!==null&&(Tt===null?Tt=e:Tt.push.apply(Tt,e),Ia=null),e}function pr(e){Ia===null?Ia=[e]:Ia.push(e)}var Lo=E(null),An=null,_a=null;function Ja(e,t,a){X(Lo,t._currentValue),t._currentValue=a}function Sa(e){e._currentValue=Lo.current,V(Lo)}function qo(e,t,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===a)break;e=e.return}}function Ho(e,t,a,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var p=o.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=o;for(var S=0;S<t.length;S++)if(b.context===t[S]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),qo(d.return,a,e),r||(p=null);break e}d=b.next}}else if(o.tag===18){if(p=o.return,p===null)throw Error(l(341));p.lanes|=a,d=p.alternate,d!==null&&(d.lanes|=a),qo(p,a,e),p=null}else p=o.child;if(p!==null)p.return=o;else for(p=o;p!==null;){if(p===e){p=null;break}if(o=p.sibling,o!==null){o.return=p.return,p=o;break}p=p.return}o=p}}function ys(e,t,a,r){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var p=o.alternate;if(p===null)throw Error(l(387));if(p=p.memoizedProps,p!==null){var b=o.type;Ct(o.pendingProps.value,p.value)||(e!==null?e.push(b):e=[b])}}else if(o===_e.current){if(p=o.alternate,p===null)throw Error(l(387));p.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Vr):e=[Vr])}o=o.return}e!==null&&Ho(t,e,a,r),t.flags|=262144}function Ri(e){for(e=e.firstContext;e!==null;){if(!Ct(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cn(e){An=e,_a=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return oh(An,e)}function ki(e,t){return An===null&&Cn(e),oh(e,t)}function oh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},_a===null){if(e===null)throw Error(l(308));_a=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _a=_a.next=t;return a}var mb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},gb=i.unstable_scheduleCallback,pb=i.unstable_NormalPriority,Xe={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $o(){return{controller:new mb,data:new Map,refCount:0}}function yr(e){e.refCount--,e.refCount===0&&gb(pb,function(){e.controller.abort()})}var br=null,Go=0,bs=0,vs=null;function yb(e,t){if(br===null){var a=br=[];Go=0,bs=Pu(),vs={status:"pending",value:void 0,then:function(r){a.push(r)}}}return Go++,t.then(uh,uh),t}function uh(){if(--Go===0&&br!==null){vs!==null&&(vs.status="fulfilled");var e=br;br=null,bs=0,vs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function bb(e,t){var a=[],r={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),r}var ch=H.S;H.S=function(e,t){Qf=nt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&yb(e,t),ch!==null&&ch(e,t)};var Rn=E(null);function Vo(){var e=Rn.current;return e!==null?e:ze.pooledCache}function Ui(e,t){t===null?X(Rn,Rn.current):X(Rn,t.pool)}function dh(){var e=Vo();return e===null?null:{parent:Xe._currentValue,pool:e}}var xs=Error(l(460)),Yo=Error(l(474)),Di=Error(l(542)),zi={then:function(){}};function hh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ba,ba),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,gh(e),e;default:if(typeof t.status=="string")t.then(ba,ba);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,gh(e),e}throw Un=t,xs}}function kn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Un=a,xs):a}}var Un=null;function mh(){if(Un===null)throw Error(l(459));var e=Un;return Un=null,e}function gh(e){if(e===xs||e===Di)throw Error(l(483))}var ws=null,vr=0;function Mi(e){var t=vr;return vr+=1,ws===null&&(ws=[]),fh(ws,e,t)}function xr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Bi(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ph(e){function t(A,T){if(e){var k=A.deletions;k===null?(A.deletions=[T],A.flags|=16):k.push(T)}}function a(A,T){if(!e)return null;for(;T!==null;)t(A,T),T=T.sibling;return null}function r(A){for(var T=new Map;A!==null;)A.key!==null?T.set(A.key,A):T.set(A.index,A),A=A.sibling;return T}function o(A,T){return A=xa(A,T),A.index=0,A.sibling=null,A}function d(A,T,k){return A.index=k,e?(k=A.alternate,k!==null?(k=k.index,k<T?(A.flags|=67108866,T):k):(A.flags|=67108866,T)):(A.flags|=1048576,T)}function p(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function b(A,T,k,$){return T===null||T.tag!==6?(T=ko(k,A.mode,$),T.return=A,T):(T=o(T,k),T.return=A,T)}function S(A,T,k,$){var ne=k.type;return ne===O?q(A,T,k.props.children,$,k.key):T!==null&&(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ge&&kn(ne)===T.type)?(T=o(T,k.props),xr(T,k),T.return=A,T):(T=Ai(k.type,k.key,k.props,null,A.mode,$),xr(T,k),T.return=A,T)}function U(A,T,k,$){return T===null||T.tag!==4||T.stateNode.containerInfo!==k.containerInfo||T.stateNode.implementation!==k.implementation?(T=Uo(k,A.mode,$),T.return=A,T):(T=o(T,k.children||[]),T.return=A,T)}function q(A,T,k,$,ne){return T===null||T.tag!==7?(T=Tn(k,A.mode,$,ne),T.return=A,T):(T=o(T,k),T.return=A,T)}function G(A,T,k){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=ko(""+T,A.mode,k),T.return=A,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _:return k=Ai(T.type,T.key,T.props,null,A.mode,k),xr(k,T),k.return=A,k;case N:return T=Uo(T,A.mode,k),T.return=A,T;case ge:return T=kn(T),G(A,T,k)}if(ut(T)||Oe(T))return T=Tn(T,A.mode,k,null),T.return=A,T;if(typeof T.then=="function")return G(A,Mi(T),k);if(T.$$typeof===B)return G(A,ki(A,T),k);Bi(A,T)}return null}function z(A,T,k,$){var ne=T!==null?T.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ne!==null?null:b(A,T,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _:return k.key===ne?S(A,T,k,$):null;case N:return k.key===ne?U(A,T,k,$):null;case ge:return k=kn(k),z(A,T,k,$)}if(ut(k)||Oe(k))return ne!==null?null:q(A,T,k,$,null);if(typeof k.then=="function")return z(A,T,Mi(k),$);if(k.$$typeof===B)return z(A,T,ki(A,k),$);Bi(A,k)}return null}function M(A,T,k,$,ne){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return A=A.get(k)||null,b(T,A,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case _:return A=A.get($.key===null?k:$.key)||null,S(T,A,$,ne);case N:return A=A.get($.key===null?k:$.key)||null,U(T,A,$,ne);case ge:return $=kn($),M(A,T,k,$,ne)}if(ut($)||Oe($))return A=A.get(k)||null,q(T,A,$,ne,null);if(typeof $.then=="function")return M(A,T,k,Mi($),ne);if($.$$typeof===B)return M(A,T,k,ki(T,$),ne);Bi(T,$)}return null}function F(A,T,k,$){for(var ne=null,Se=null,te=T,me=T=0,xe=null;te!==null&&me<k.length;me++){te.index>me?(xe=te,te=null):xe=te.sibling;var je=z(A,te,k[me],$);if(je===null){te===null&&(te=xe);break}e&&te&&je.alternate===null&&t(A,te),T=d(je,T,me),Se===null?ne=je:Se.sibling=je,Se=je,te=xe}if(me===k.length)return a(A,te),we&&wa(A,me),ne;if(te===null){for(;me<k.length;me++)te=G(A,k[me],$),te!==null&&(T=d(te,T,me),Se===null?ne=te:Se.sibling=te,Se=te);return we&&wa(A,me),ne}for(te=r(te);me<k.length;me++)xe=M(te,A,me,k[me],$),xe!==null&&(e&&xe.alternate!==null&&te.delete(xe.key===null?me:xe.key),T=d(xe,T,me),Se===null?ne=xe:Se.sibling=xe,Se=xe);return e&&te.forEach(function(mn){return t(A,mn)}),we&&wa(A,me),ne}function le(A,T,k,$){if(k==null)throw Error(l(151));for(var ne=null,Se=null,te=T,me=T=0,xe=null,je=k.next();te!==null&&!je.done;me++,je=k.next()){te.index>me?(xe=te,te=null):xe=te.sibling;var mn=z(A,te,je.value,$);if(mn===null){te===null&&(te=xe);break}e&&te&&mn.alternate===null&&t(A,te),T=d(mn,T,me),Se===null?ne=mn:Se.sibling=mn,Se=mn,te=xe}if(je.done)return a(A,te),we&&wa(A,me),ne;if(te===null){for(;!je.done;me++,je=k.next())je=G(A,je.value,$),je!==null&&(T=d(je,T,me),Se===null?ne=je:Se.sibling=je,Se=je);return we&&wa(A,me),ne}for(te=r(te);!je.done;me++,je=k.next())je=M(te,A,me,je.value,$),je!==null&&(e&&je.alternate!==null&&te.delete(je.key===null?me:je.key),T=d(je,T,me),Se===null?ne=je:Se.sibling=je,Se=je);return e&&te.forEach(function(Av){return t(A,Av)}),we&&wa(A,me),ne}function De(A,T,k,$){if(typeof k=="object"&&k!==null&&k.type===O&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case _:e:{for(var ne=k.key;T!==null;){if(T.key===ne){if(ne=k.type,ne===O){if(T.tag===7){a(A,T.sibling),$=o(T,k.props.children),$.return=A,A=$;break e}}else if(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ge&&kn(ne)===T.type){a(A,T.sibling),$=o(T,k.props),xr($,k),$.return=A,A=$;break e}a(A,T);break}else t(A,T);T=T.sibling}k.type===O?($=Tn(k.props.children,A.mode,$,k.key),$.return=A,A=$):($=Ai(k.type,k.key,k.props,null,A.mode,$),xr($,k),$.return=A,A=$)}return p(A);case N:e:{for(ne=k.key;T!==null;){if(T.key===ne)if(T.tag===4&&T.stateNode.containerInfo===k.containerInfo&&T.stateNode.implementation===k.implementation){a(A,T.sibling),$=o(T,k.children||[]),$.return=A,A=$;break e}else{a(A,T);break}else t(A,T);T=T.sibling}$=Uo(k,A.mode,$),$.return=A,A=$}return p(A);case ge:return k=kn(k),De(A,T,k,$)}if(ut(k))return F(A,T,k,$);if(Oe(k)){if(ne=Oe(k),typeof ne!="function")throw Error(l(150));return k=ne.call(k),le(A,T,k,$)}if(typeof k.then=="function")return De(A,T,Mi(k),$);if(k.$$typeof===B)return De(A,T,ki(A,k),$);Bi(A,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,T!==null&&T.tag===6?(a(A,T.sibling),$=o(T,k),$.return=A,A=$):(a(A,T),$=ko(k,A.mode,$),$.return=A,A=$),p(A)):a(A,T)}return function(A,T,k,$){try{vr=0;var ne=De(A,T,k,$);return ws=null,ne}catch(te){if(te===xs||te===Di)throw te;var Se=Rt(29,te,null,A.mode);return Se.lanes=$,Se.return=A,Se}finally{}}}var Dn=ph(!0),yh=ph(!1),Xa=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ko(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Te&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Oi(e),eh(e,null,a),t}return Ti(e,r,t,a),Oi(e)}function wr(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,pa(e,a)}}function Io(e,t){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var o=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?o=d=p:d=d.next=p,a=a.next}while(a!==null);d===null?o=d=t:d=d.next=t}else o=d=t;a={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Qo=!1;function _r(){if(Qo){var e=vs;if(e!==null)throw e}}function Sr(e,t,a,r){Qo=!1;var o=e.updateQueue;Xa=!1;var d=o.firstBaseUpdate,p=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var S=b,U=S.next;S.next=null,p===null?d=U:p.next=U,p=S;var q=e.alternate;q!==null&&(q=q.updateQueue,b=q.lastBaseUpdate,b!==p&&(b===null?q.firstBaseUpdate=U:b.next=U,q.lastBaseUpdate=S))}if(d!==null){var G=o.baseState;p=0,q=U=S=null,b=d;do{var z=b.lane&-536870913,M=z!==b.lane;if(M?(ve&z)===z:(r&z)===z){z!==0&&z===bs&&(Qo=!0),q!==null&&(q=q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var F=e,le=b;z=t;var De=a;switch(le.tag){case 1:if(F=le.payload,typeof F=="function"){G=F.call(De,G,z);break e}G=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=le.payload,z=typeof F=="function"?F.call(De,G,z):F,z==null)break e;G=v({},G,z);break e;case 2:Xa=!0}}z=b.callback,z!==null&&(e.flags|=64,M&&(e.flags|=8192),M=o.callbacks,M===null?o.callbacks=[z]:M.push(z))}else M={lane:z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},q===null?(U=q=M,S=G):q=q.next=M,p|=z;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;M=b,b=M.next,M.next=null,o.lastBaseUpdate=M,o.shared.pending=null}}while(!0);q===null&&(S=G),o.baseState=S,o.firstBaseUpdate=U,o.lastBaseUpdate=q,d===null&&(o.shared.lanes=0),nn|=p,e.lanes=p,e.memoizedState=G}}function bh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function vh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)bh(a[e],t)}var _s=E(null),Li=E(0);function xh(e,t){e=ka,X(Li,e),X(_s,t),ka=e|t.baseLanes}function Jo(){X(Li,ka),X(_s,_s.current)}function Xo(){ka=Li.current,V(_s),V(Li)}var kt=E(null),Jt=null;function Wa(e){var t=e.alternate;X(Ie,Ie.current&1),X(kt,e),Jt===null&&(t===null||_s.current!==null||t.memoizedState!==null)&&(Jt=e)}function Zo(e){X(Ie,Ie.current),X(kt,e),Jt===null&&(Jt=e)}function wh(e){e.tag===22?(X(Ie,Ie.current),X(kt,e),Jt===null&&(Jt=e)):en()}function en(){X(Ie,Ie.current),X(kt,kt.current)}function Ut(e){V(kt),Jt===e&&(Jt=null),V(Ie)}var Ie=E(0);function qi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||nc(a)||sc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=0,he=null,ke=null,Ze=null,Hi=!1,Ss=!1,zn=!1,$i=0,jr=0,js=null,vb=0;function Ye(){throw Error(l(321))}function Fo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ct(e[a],t[a]))return!1;return!0}function Wo(e,t,a,r,o,d){return ja=d,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=e===null||e.memoizedState===null?sf:mu,zn=!1,d=a(r,o),zn=!1,Ss&&(d=Sh(t,a,r,o)),_h(e),d}function _h(e){H.H=Tr;var t=ke!==null&&ke.next!==null;if(ja=0,Ze=ke=he=null,Hi=!1,jr=0,js=null,t)throw Error(l(300));e===null||Fe||(e=e.dependencies,e!==null&&Ri(e)&&(Fe=!0))}function Sh(e,t,a,r){he=e;var o=0;do{if(Ss&&(js=null),jr=0,Ss=!1,25<=o)throw Error(l(301));if(o+=1,Ze=ke=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=rf,d=t(a,r)}while(Ss);return d}function xb(){var e=H.H,t=e.useState()[0];return t=typeof t.then=="function"?Er(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(he.flags|=1024),t}function eu(){var e=$i!==0;return $i=0,e}function tu(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function au(e){if(Hi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Hi=!1}ja=0,Ze=ke=he=null,Ss=!1,jr=$i=0,js=null}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?he.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Qe(){if(ke===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Ze===null?he.memoizedState:Ze.next;if(t!==null)Ze=t,ke=e;else{if(e===null)throw he.alternate===null?Error(l(467)):Error(l(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Ze===null?he.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Gi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Er(e){var t=jr;return jr+=1,js===null&&(js=[]),e=fh(js,e,t),t=he,(Ze===null?t.memoizedState:Ze.next)===null&&(t=t.alternate,H.H=t===null||t.memoizedState===null?sf:mu),e}function Vi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Er(e);if(e.$$typeof===B)return ht(e)}throw Error(l(438,String(e)))}function nu(e){var t=null,a=he.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var r=he.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Gi(),he.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),r=0;r<e;r++)a[r]=I;return t.index++,a}function Ea(e,t){return typeof t=="function"?t(e):t}function Yi(e){var t=Qe();return su(t,ke,e)}function su(e,t,a){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=a;var o=e.baseQueue,d=r.pending;if(d!==null){if(o!==null){var p=o.next;o.next=d.next,d.next=p}t.baseQueue=o=d,r.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var b=p=null,S=null,U=t,q=!1;do{var G=U.lane&-536870913;if(G!==U.lane?(ve&G)===G:(ja&G)===G){var z=U.revertLane;if(z===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),G===bs&&(q=!0);else if((ja&z)===z){U=U.next,z===bs&&(q=!0);continue}else G={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},S===null?(b=S=G,p=d):S=S.next=G,he.lanes|=z,nn|=z;G=U.action,zn&&a(d,G),d=U.hasEagerState?U.eagerState:a(d,G)}else z={lane:G,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},S===null?(b=S=z,p=d):S=S.next=z,he.lanes|=G,nn|=G;U=U.next}while(U!==null&&U!==t);if(S===null?p=d:S.next=b,!Ct(d,e.memoizedState)&&(Fe=!0,q&&(a=vs,a!==null)))throw a;e.memoizedState=d,e.baseState=p,e.baseQueue=S,r.lastRenderedState=d}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ru(e){var t=Qe(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var r=a.dispatch,o=a.pending,d=t.memoizedState;if(o!==null){a.pending=null;var p=o=o.next;do d=e(d,p.action),p=p.next;while(p!==o);Ct(d,t.memoizedState)||(Fe=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,r]}function jh(e,t,a){var r=he,o=Qe(),d=we;if(d){if(a===void 0)throw Error(l(407));a=a()}else a=t();var p=!Ct((ke||o).memoizedState,a);if(p&&(o.memoizedState=a,Fe=!0),o=o.queue,ou(Th.bind(null,r,o,e),[e]),o.getSnapshot!==t||p||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,Es(9,{destroy:void 0},Nh.bind(null,r,o,a,t),null),ze===null)throw Error(l(349));d||(ja&127)!==0||Eh(r,t,a)}return a}function Eh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=he.updateQueue,t===null?(t=Gi(),he.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Nh(e,t,a,r){t.value=a,t.getSnapshot=r,Oh(t)&&Ah(e)}function Th(e,t,a){return a(function(){Oh(t)&&Ah(e)})}function Oh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ct(e,a)}catch{return!0}}function Ah(e){var t=Nn(e,2);t!==null&&Ot(t,e,2)}function iu(e){var t=xt();if(typeof e=="function"){var a=e;if(e=a(),zn){ea(!0);try{a()}finally{ea(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t}function Ch(e,t,a,r){return e.baseState=a,su(e,ke,typeof r=="function"?r:Ea)}function wb(e,t,a,r,o){if(Ii(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){d.listeners.push(p)}};H.T!==null?a(!0):d.isTransition=!1,r(d),a=t.pending,a===null?(d.next=t.pending=d,Rh(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Rh(e,t){var a=t.action,r=t.payload,o=e.state;if(t.isTransition){var d=H.T,p={};H.T=p;try{var b=a(o,r),S=H.S;S!==null&&S(p,b),kh(e,t,b)}catch(U){lu(e,t,U)}finally{d!==null&&p.types!==null&&(d.types=p.types),H.T=d}}else try{d=a(o,r),kh(e,t,d)}catch(U){lu(e,t,U)}}function kh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Uh(e,t,r)},function(r){return lu(e,t,r)}):Uh(e,t,a)}function Uh(e,t,a){t.status="fulfilled",t.value=a,Dh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Rh(e,a)))}function lu(e,t,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=a,Dh(t),t=t.next;while(t!==r)}e.action=null}function Dh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function zh(e,t){return t}function Mh(e,t){if(we){var a=ze.formState;if(a!==null){e:{var r=he;if(we){if(Be){t:{for(var o=Be,d=Qt;o.nodeType!==8;){if(!d){o=null;break t}if(o=Xt(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){Be=Xt(o.nextSibling),r=o.data==="F!";break e}}Qa(r)}r=!1}r&&(t=a[0])}}return a=xt(),a.memoizedState=a.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zh,lastRenderedState:t},a.queue=r,a=tf.bind(null,he,r),r.dispatch=a,r=iu(!1),d=fu.bind(null,he,!1,r.queue),r=xt(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,a=wb.bind(null,he,o,d,a),o.dispatch=a,r.memoizedState=e,[t,a,!1]}function Bh(e){var t=Qe();return Lh(t,ke,e)}function Lh(e,t,a){if(t=su(e,t,zh)[0],e=Yi(Ea)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Er(t)}catch(p){throw p===xs?Di:p}else r=t;t=Qe();var o=t.queue,d=o.dispatch;return a!==t.memoizedState&&(he.flags|=2048,Es(9,{destroy:void 0},_b.bind(null,o,a),null)),[r,d,e]}function _b(e,t){e.action=t}function qh(e){var t=Qe(),a=ke;if(a!==null)return Lh(t,a,e);Qe(),t=t.memoizedState,a=Qe();var r=a.queue.dispatch;return a.memoizedState=e,[t,r,!1]}function Es(e,t,a,r){return e={tag:e,create:a,deps:r,inst:t,next:null},t=he.updateQueue,t===null&&(t=Gi(),he.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,t.lastEffect=e),e}function Hh(){return Qe().memoizedState}function Pi(e,t,a,r){var o=xt();he.flags|=e,o.memoizedState=Es(1|t,{destroy:void 0},a,r===void 0?null:r)}function Ki(e,t,a,r){var o=Qe();r=r===void 0?null:r;var d=o.memoizedState.inst;ke!==null&&r!==null&&Fo(r,ke.memoizedState.deps)?o.memoizedState=Es(t,d,a,r):(he.flags|=e,o.memoizedState=Es(1|t,d,a,r))}function $h(e,t){Pi(8390656,8,e,t)}function ou(e,t){Ki(2048,8,e,t)}function Sb(e){he.flags|=4;var t=he.updateQueue;if(t===null)t=Gi(),he.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Gh(e){var t=Qe().memoizedState;return Sb({ref:t,nextImpl:e}),function(){if((Te&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Vh(e,t){return Ki(4,2,e,t)}function Yh(e,t){return Ki(4,4,e,t)}function Ph(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kh(e,t,a){a=a!=null?a.concat([e]):null,Ki(4,4,Ph.bind(null,t,e),a)}function uu(){}function Ih(e,t){var a=Qe();t=t===void 0?null:t;var r=a.memoizedState;return t!==null&&Fo(t,r[1])?r[0]:(a.memoizedState=[e,t],e)}function Qh(e,t){var a=Qe();t=t===void 0?null:t;var r=a.memoizedState;if(t!==null&&Fo(t,r[1]))return r[0];if(r=e(),zn){ea(!0);try{e()}finally{ea(!1)}}return a.memoizedState=[r,t],r}function cu(e,t,a){return a===void 0||(ja&1073741824)!==0&&(ve&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Xf(),he.lanes|=e,nn|=e,a)}function Jh(e,t,a,r){return Ct(a,t)?a:_s.current!==null?(e=cu(e,a,r),Ct(e,t)||(Fe=!0),e):(ja&42)===0||(ja&1073741824)!==0&&(ve&261930)===0?(Fe=!0,e.memoizedState=a):(e=Xf(),he.lanes|=e,nn|=e,t)}function Xh(e,t,a,r,o){var d=J.p;J.p=d!==0&&8>d?d:8;var p=H.T,b={};H.T=b,fu(e,!1,t,a);try{var S=o(),U=H.S;if(U!==null&&U(b,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var q=bb(S,r);Nr(e,t,q,Mt(e))}else Nr(e,t,r,Mt(e))}catch(G){Nr(e,t,{then:function(){},status:"rejected",reason:G},Mt())}finally{J.p=d,p!==null&&b.types!==null&&(p.types=b.types),H.T=p}}function jb(){}function du(e,t,a,r){if(e.tag!==5)throw Error(l(476));var o=Zh(e).queue;Xh(e,o,t,ie,a===null?jb:function(){return Fh(e),a(r)})}function Zh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:ie},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Fh(e){var t=Zh(e);t.next===null&&(t=e.alternate.memoizedState),Nr(e,t.next.queue,{},Mt())}function hu(){return ht(Vr)}function Wh(){return Qe().memoizedState}function ef(){return Qe().memoizedState}function Eb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Mt();e=Za(a);var r=Fa(t,e,a);r!==null&&(Ot(r,t,a),wr(r,t,a)),t={cache:$o()},e.payload=t;return}t=t.return}}function Nb(e,t,a){var r=Mt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ii(e)?af(t,a):(a=Co(e,t,a,r),a!==null&&(Ot(a,e,r),nf(a,t,r)))}function tf(e,t,a){var r=Mt();Nr(e,t,a,r)}function Nr(e,t,a,r){var o={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ii(e))af(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,b=d(p,a);if(o.hasEagerState=!0,o.eagerState=b,Ct(b,p))return Ti(e,t,o,0),ze===null&&Ni(),!1}catch{}finally{}if(a=Co(e,t,o,r),a!==null)return Ot(a,e,r),nf(a,t,r),!0}return!1}function fu(e,t,a,r){if(r={lane:2,revertLane:Pu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ii(e)){if(t)throw Error(l(479))}else t=Co(e,a,r,2),t!==null&&Ot(t,e,2)}function Ii(e){var t=e.alternate;return e===he||t!==null&&t===he}function af(e,t){Ss=Hi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function nf(e,t,a){if((a&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,pa(e,a)}}var Tr={readContext:ht,use:Vi,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};Tr.useEffectEvent=Ye;var sf={readContext:ht,use:Vi,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:$h,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Pi(4194308,4,Ph.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Pi(4194308,4,e,t)},useInsertionEffect:function(e,t){Pi(4,2,e,t)},useMemo:function(e,t){var a=xt();t=t===void 0?null:t;var r=e();if(zn){ea(!0);try{e()}finally{ea(!1)}}return a.memoizedState=[r,t],r},useReducer:function(e,t,a){var r=xt();if(a!==void 0){var o=a(t);if(zn){ea(!0);try{a(t)}finally{ea(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=Nb.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:function(e){e=iu(e);var t=e.queue,a=tf.bind(null,he,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:uu,useDeferredValue:function(e,t){var a=xt();return cu(a,e,t)},useTransition:function(){var e=iu(!1);return e=Xh.bind(null,he,e.queue,!0,!1),xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var r=he,o=xt();if(we){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),ze===null)throw Error(l(349));(ve&127)!==0||Eh(r,t,a)}o.memoizedState=a;var d={value:a,getSnapshot:t};return o.queue=d,$h(Th.bind(null,r,d,e),[e]),r.flags|=2048,Es(9,{destroy:void 0},Nh.bind(null,r,d,a,t),null),a},useId:function(){var e=xt(),t=ze.identifierPrefix;if(we){var a=da,r=ca;a=(r&~(1<<32-vt(r)-1)).toString(32)+a,t="_"+t+"R_"+a,a=$i++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=vb++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:hu,useFormState:Mh,useActionState:Mh,useOptimistic:function(e){var t=xt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=fu.bind(null,he,!0,a),a.dispatch=t,[e,t]},useMemoCache:nu,useCacheRefresh:function(){return xt().memoizedState=Eb.bind(null,he)},useEffectEvent:function(e){var t=xt(),a={impl:e};return t.memoizedState=a,function(){if((Te&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},mu={readContext:ht,use:Vi,useCallback:Ih,useContext:ht,useEffect:ou,useImperativeHandle:Kh,useInsertionEffect:Vh,useLayoutEffect:Yh,useMemo:Qh,useReducer:Yi,useRef:Hh,useState:function(){return Yi(Ea)},useDebugValue:uu,useDeferredValue:function(e,t){var a=Qe();return Jh(a,ke.memoizedState,e,t)},useTransition:function(){var e=Yi(Ea)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:Er(e),t]},useSyncExternalStore:jh,useId:Wh,useHostTransitionStatus:hu,useFormState:Bh,useActionState:Bh,useOptimistic:function(e,t){var a=Qe();return Ch(a,ke,e,t)},useMemoCache:nu,useCacheRefresh:ef};mu.useEffectEvent=Gh;var rf={readContext:ht,use:Vi,useCallback:Ih,useContext:ht,useEffect:ou,useImperativeHandle:Kh,useInsertionEffect:Vh,useLayoutEffect:Yh,useMemo:Qh,useReducer:ru,useRef:Hh,useState:function(){return ru(Ea)},useDebugValue:uu,useDeferredValue:function(e,t){var a=Qe();return ke===null?cu(a,e,t):Jh(a,ke.memoizedState,e,t)},useTransition:function(){var e=ru(Ea)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:Er(e),t]},useSyncExternalStore:jh,useId:Wh,useHostTransitionStatus:hu,useFormState:qh,useActionState:qh,useOptimistic:function(e,t){var a=Qe();return ke!==null?Ch(a,ke,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:nu,useCacheRefresh:ef};rf.useEffectEvent=Gh;function gu(e,t,a,r){t=e.memoizedState,a=a(r,t),a=a==null?t:v({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var pu={enqueueSetState:function(e,t,a){e=e._reactInternals;var r=Mt(),o=Za(r);o.payload=t,a!=null&&(o.callback=a),t=Fa(e,o,r),t!==null&&(Ot(t,e,r),wr(t,e,r))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var r=Mt(),o=Za(r);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Fa(e,o,r),t!==null&&(Ot(t,e,r),wr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Mt(),r=Za(a);r.tag=2,t!=null&&(r.callback=t),t=Fa(e,r,a),t!==null&&(Ot(t,e,a),wr(t,e,a))}};function lf(e,t,a,r,o,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,d,p):t.prototype&&t.prototype.isPureReactComponent?!fr(a,r)||!fr(o,d):!0}function of(e,t,a,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,r),t.state!==e&&pu.enqueueReplaceState(t,t.state,null)}function Mn(e,t){var a=t;if("ref"in t){a={};for(var r in t)r!=="ref"&&(a[r]=t[r])}if(e=e.defaultProps){a===t&&(a=v({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function uf(e){Ei(e)}function cf(e){console.error(e)}function df(e){Ei(e)}function Qi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function hf(e,t,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function yu(e,t,a){return a=Za(a),a.tag=3,a.payload={element:null},a.callback=function(){Qi(e,t)},a}function ff(e){return e=Za(e),e.tag=3,e}function mf(e,t,a,r){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var d=r.value;e.payload=function(){return o(d)},e.callback=function(){hf(t,a,r)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){hf(t,a,r),typeof o!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})})}function Tb(e,t,a,r,o){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=a.alternate,t!==null&&ys(t,a,o,!0),a=kt.current,a!==null){switch(a.tag){case 31:case 13:return Jt===null?il():a.alternate===null&&Pe===0&&(Pe=3),a.flags&=-257,a.flags|=65536,a.lanes=o,r===zi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([r]):t.add(r),Gu(e,r,o)),!1;case 22:return a.flags|=65536,r===zi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([r]):a.add(r)),Gu(e,r,o)),!1}throw Error(l(435,a.tag))}return Gu(e,r,o),il(),!1}if(we)return t=kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==Mo&&(e=Error(l(422),{cause:r}),pr(Pt(e,a)))):(r!==Mo&&(t=Error(l(423),{cause:r}),pr(Pt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Pt(r,a),o=yu(e.stateNode,r,o),Io(e,o),Pe!==4&&(Pe=2)),!1;var d=Error(l(520),{cause:r});if(d=Pt(d,a),zr===null?zr=[d]:zr.push(d),Pe!==4&&(Pe=2),t===null)return!0;r=Pt(r,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=yu(a.stateNode,r,e),Io(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(sn===null||!sn.has(d))))return a.flags|=65536,o&=-o,a.lanes|=o,o=ff(o),mf(o,e,a,r),Io(a,o),!1}a=a.return}while(a!==null);return!1}var bu=Error(l(461)),Fe=!1;function ft(e,t,a,r){t.child=e===null?yh(t,null,a,r):Dn(t,e.child,a,r)}function gf(e,t,a,r,o){a=a.render;var d=t.ref;if("ref"in r){var p={};for(var b in r)b!=="ref"&&(p[b]=r[b])}else p=r;return Cn(t),r=Wo(e,t,a,p,d,o),b=eu(),e!==null&&!Fe?(tu(e,t,o),Na(e,t,o)):(we&&b&&Do(t),t.flags|=1,ft(e,t,r,o),t.child)}function pf(e,t,a,r,o){if(e===null){var d=a.type;return typeof d=="function"&&!Ro(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,yf(e,t,d,r,o)):(e=Ai(a.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Nu(e,o)){var p=d.memoizedProps;if(a=a.compare,a=a!==null?a:fr,a(p,r)&&e.ref===t.ref)return Na(e,t,o)}return t.flags|=1,e=xa(d,r),e.ref=t.ref,e.return=t,t.child=e}function yf(e,t,a,r,o){if(e!==null){var d=e.memoizedProps;if(fr(d,r)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=r=d,Nu(e,o))(e.flags&131072)!==0&&(Fe=!0);else return t.lanes=e.lanes,Na(e,t,o)}return vu(e,t,a,r,o)}function bf(e,t,a,r){var o=r.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~d}else r=0,t.child=null;return vf(e,t,d,a,r)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ui(t,d!==null?d.cachePool:null),d!==null?xh(t,d):Jo(),wh(t);else return r=t.lanes=536870912,vf(e,t,d!==null?d.baseLanes|a:a,a,r)}else d!==null?(Ui(t,d.cachePool),xh(t,d),en(),t.memoizedState=null):(e!==null&&Ui(t,null),Jo(),en());return ft(e,t,o,a),t.child}function Or(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function vf(e,t,a,r,o){var d=Vo();return d=d===null?null:{parent:Xe._currentValue,pool:d},t.memoizedState={baseLanes:a,cachePool:d},e!==null&&Ui(t,null),Jo(),wh(t),e!==null&&ys(e,t,r,!0),t.childLanes=o,null}function Ji(e,t){return t=Zi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function xf(e,t,a){return Dn(t,e.child,null,a),e=Ji(t,t.pendingProps),e.flags|=2,Ut(t),t.memoizedState=null,e}function Ob(e,t,a){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(we){if(r.mode==="hidden")return e=Ji(t,r),t.lanes=536870912,Or(null,e);if(Zo(t),(e=Be)?(e=km(e,Qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:ca,overflow:da}:null,retryLane:536870912,hydrationErrors:null},a=ah(e),a.return=t,t.child=a,dt=t,Be=null)):e=null,e===null)throw Qa(t);return t.lanes=536870912,null}return Ji(t,r)}var d=e.memoizedState;if(d!==null){var p=d.dehydrated;if(Zo(t),o)if(t.flags&256)t.flags&=-257,t=xf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Fe||ys(e,t,a,!1),o=(a&e.childLanes)!==0,Fe||o){if(r=ze,r!==null&&(p=ud(r,a),p!==0&&p!==d.retryLane))throw d.retryLane=p,Nn(e,p),Ot(r,e,p),bu;il(),t=xf(e,t,a)}else e=d.treeContext,Be=Xt(p.nextSibling),dt=t,we=!0,Ia=null,Qt=!1,e!==null&&rh(t,e),t=Ji(t,r),t.flags|=4096;return t}return e=xa(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Xi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function vu(e,t,a,r,o){return Cn(t),a=Wo(e,t,a,r,void 0,o),r=eu(),e!==null&&!Fe?(tu(e,t,o),Na(e,t,o)):(we&&r&&Do(t),t.flags|=1,ft(e,t,a,o),t.child)}function wf(e,t,a,r,o,d){return Cn(t),t.updateQueue=null,a=Sh(t,r,a,o),_h(e),r=eu(),e!==null&&!Fe?(tu(e,t,d),Na(e,t,d)):(we&&r&&Do(t),t.flags|=1,ft(e,t,a,d),t.child)}function _f(e,t,a,r,o){if(Cn(t),t.stateNode===null){var d=fs,p=a.contextType;typeof p=="object"&&p!==null&&(d=ht(p)),d=new a(r,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=r,d.state=t.memoizedState,d.refs={},Po(t),p=a.contextType,d.context=typeof p=="object"&&p!==null?ht(p):fs,d.state=t.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(gu(t,a,p,r),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(p=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),p!==d.state&&pu.enqueueReplaceState(d,d.state,null),Sr(t,r,d,o),_r(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,S=Mn(a,b);d.props=S;var U=d.context,q=a.contextType;p=fs,typeof q=="object"&&q!==null&&(p=ht(q));var G=a.getDerivedStateFromProps;q=typeof G=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||U!==p)&&of(t,d,r,p),Xa=!1;var z=t.memoizedState;d.state=z,Sr(t,r,d,o),_r(),U=t.memoizedState,b||z!==U||Xa?(typeof G=="function"&&(gu(t,a,G,r),U=t.memoizedState),(S=Xa||lf(t,a,S,r,z,U,p))?(q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=U),d.props=r,d.state=U,d.context=p,r=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,Ko(e,t),p=t.memoizedProps,q=Mn(a,p),d.props=q,G=t.pendingProps,z=d.context,U=a.contextType,S=fs,typeof U=="object"&&U!==null&&(S=ht(U)),b=a.getDerivedStateFromProps,(U=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==G||z!==S)&&of(t,d,r,S),Xa=!1,z=t.memoizedState,d.state=z,Sr(t,r,d,o),_r();var M=t.memoizedState;p!==G||z!==M||Xa||e!==null&&e.dependencies!==null&&Ri(e.dependencies)?(typeof b=="function"&&(gu(t,a,b,r),M=t.memoizedState),(q=Xa||lf(t,a,q,r,z,M,S)||e!==null&&e.dependencies!==null&&Ri(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,M,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,M,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=M),d.props=r,d.state=M,d.context=S,r=q):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),r=!1)}return d=r,Xi(e,t),r=(t.flags&128)!==0,d||r?(d=t.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&r?(t.child=Dn(t,e.child,null,o),t.child=Dn(t,null,a,o)):ft(e,t,a,o),t.memoizedState=d.state,e=t.child):e=Na(e,t,o),e}function Sf(e,t,a,r){return On(),t.flags|=256,ft(e,t,a,r),t.child}var xu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wu(e){return{baseLanes:e,cachePool:dh()}}function _u(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=zt),e}function jf(e,t,a){var r=t.pendingProps,o=!1,d=(t.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),p&&(o=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(we){if(o?Wa(t):en(),(e=Be)?(e=km(e,Qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:ca,overflow:da}:null,retryLane:536870912,hydrationErrors:null},a=ah(e),a.return=t,t.child=a,dt=t,Be=null)):e=null,e===null)throw Qa(t);return sc(e)?t.lanes=32:t.lanes=536870912,null}var b=r.children;return r=r.fallback,o?(en(),o=t.mode,b=Zi({mode:"hidden",children:b},o),r=Tn(r,o,a,null),b.return=t,r.return=t,b.sibling=r,t.child=b,r=t.child,r.memoizedState=wu(a),r.childLanes=_u(e,p,a),t.memoizedState=xu,Or(null,r)):(Wa(t),Su(t,b))}var S=e.memoizedState;if(S!==null&&(b=S.dehydrated,b!==null)){if(d)t.flags&256?(Wa(t),t.flags&=-257,t=ju(e,t,a)):t.memoizedState!==null?(en(),t.child=e.child,t.flags|=128,t=null):(en(),b=r.fallback,o=t.mode,r=Zi({mode:"visible",children:r.children},o),b=Tn(b,o,a,null),b.flags|=2,r.return=t,b.return=t,r.sibling=b,t.child=r,Dn(t,e.child,null,a),r=t.child,r.memoizedState=wu(a),r.childLanes=_u(e,p,a),t.memoizedState=xu,t=Or(null,r));else if(Wa(t),sc(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var U=p.dgst;p=U,r=Error(l(419)),r.stack="",r.digest=p,pr({value:r,source:null,stack:null}),t=ju(e,t,a)}else if(Fe||ys(e,t,a,!1),p=(a&e.childLanes)!==0,Fe||p){if(p=ze,p!==null&&(r=ud(p,a),r!==0&&r!==S.retryLane))throw S.retryLane=r,Nn(e,r),Ot(p,e,r),bu;nc(b)||il(),t=ju(e,t,a)}else nc(b)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,Be=Xt(b.nextSibling),dt=t,we=!0,Ia=null,Qt=!1,e!==null&&rh(t,e),t=Su(t,r.children),t.flags|=4096);return t}return o?(en(),b=r.fallback,o=t.mode,S=e.child,U=S.sibling,r=xa(S,{mode:"hidden",children:r.children}),r.subtreeFlags=S.subtreeFlags&65011712,U!==null?b=xa(U,b):(b=Tn(b,o,a,null),b.flags|=2),b.return=t,r.return=t,r.sibling=b,t.child=r,Or(null,r),r=t.child,b=e.child.memoizedState,b===null?b=wu(a):(o=b.cachePool,o!==null?(S=Xe._currentValue,o=o.parent!==S?{parent:S,pool:S}:o):o=dh(),b={baseLanes:b.baseLanes|a,cachePool:o}),r.memoizedState=b,r.childLanes=_u(e,p,a),t.memoizedState=xu,Or(e.child,r)):(Wa(t),a=e.child,e=a.sibling,a=xa(a,{mode:"visible",children:r.children}),a.return=t,a.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=a,t.memoizedState=null,a)}function Su(e,t){return t=Zi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zi(e,t){return e=Rt(22,e,null,t),e.lanes=0,e}function ju(e,t,a){return Dn(t,e.child,null,a),e=Su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ef(e,t,a){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qo(e.return,t,a)}function Eu(e,t,a,r,o,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:o,treeForkCount:d}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=r,p.tail=a,p.tailMode=o,p.treeForkCount=d)}function Nf(e,t,a){var r=t.pendingProps,o=r.revealOrder,d=r.tail;r=r.children;var p=Ie.current,b=(p&2)!==0;if(b?(p=p&1|2,t.flags|=128):p&=1,X(Ie,p),ft(e,t,r,a),r=we?gr:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ef(e,a,t);else if(e.tag===19)Ef(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&qi(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Eu(t,!1,o,a,d,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&qi(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Eu(t,!0,a,null,d,r);break;case"together":Eu(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Na(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),nn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ys(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=xa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=xa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Nu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ri(e)))}function Ab(e,t,a){switch(t.tag){case 3:Ke(t,t.stateNode.containerInfo),Ja(t,Xe,e.memoizedState.cache),On();break;case 27:case 5:qa(t);break;case 4:Ke(t,t.stateNode.containerInfo);break;case 10:Ja(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Zo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Wa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?jf(e,t,a):(Wa(t),e=Na(e,t,a),e!==null?e.sibling:null);Wa(t);break;case 19:var o=(e.flags&128)!==0;if(r=(a&t.childLanes)!==0,r||(ys(e,t,a,!1),r=(a&t.childLanes)!==0),o){if(r)return Nf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),X(Ie,Ie.current),r)break;return null;case 22:return t.lanes=0,bf(e,t,a,t.pendingProps);case 24:Ja(t,Xe,e.memoizedState.cache)}return Na(e,t,a)}function Tf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Fe=!0;else{if(!Nu(e,a)&&(t.flags&128)===0)return Fe=!1,Ab(e,t,a);Fe=(e.flags&131072)!==0}else Fe=!1,we&&(t.flags&1048576)!==0&&sh(t,gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=kn(t.elementType),t.type=e,typeof e=="function")Ro(e)?(r=Mn(e,r),t.tag=1,t=_f(null,t,e,r,a)):(t.tag=0,t=vu(null,t,e,r,a));else{if(e!=null){var o=e.$$typeof;if(o===Q){t.tag=11,t=gf(null,t,e,r,a);break e}else if(o===K){t.tag=14,t=pf(null,t,e,r,a);break e}}throw t=qe(e)||e,Error(l(306,t,""))}}return t;case 0:return vu(e,t,t.type,t.pendingProps,a);case 1:return r=t.type,o=Mn(r,t.pendingProps),_f(e,t,r,o,a);case 3:e:{if(Ke(t,t.stateNode.containerInfo),e===null)throw Error(l(387));r=t.pendingProps;var d=t.memoizedState;o=d.element,Ko(e,t),Sr(t,r,null,a);var p=t.memoizedState;if(r=p.cache,Ja(t,Xe,r),r!==d.cache&&Ho(t,[Xe],a,!0),_r(),r=p.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Sf(e,t,r,a);break e}else if(r!==o){o=Pt(Error(l(424)),t),pr(o),t=Sf(e,t,r,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Be=Xt(e.firstChild),dt=t,we=!0,Ia=null,Qt=!0,a=yh(t,null,r,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(On(),r===o){t=Na(e,t,a);break e}ft(e,t,r,a)}t=t.child}return t;case 26:return Xi(e,t),e===null?(a=Lm(t.type,null,t.pendingProps,null))?t.memoizedState=a:we||(a=t.type,e=t.pendingProps,r=fl(fe.current).createElement(a),r[ct]=t,r[_t]=e,mt(r,a,e),st(r),t.stateNode=r):t.memoizedState=Lm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return qa(t),e===null&&we&&(r=t.stateNode=zm(t.type,t.pendingProps,fe.current),dt=t,Qt=!0,o=Be,un(t.type)?(rc=o,Be=Xt(r.firstChild)):Be=o),ft(e,t,t.pendingProps.children,a),Xi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&we&&((o=r=Be)&&(r=rv(r,t.type,t.pendingProps,Qt),r!==null?(t.stateNode=r,dt=t,Be=Xt(r.firstChild),Qt=!1,o=!0):o=!1),o||Qa(t)),qa(t),o=t.type,d=t.pendingProps,p=e!==null?e.memoizedProps:null,r=d.children,ec(o,d)?r=null:p!==null&&ec(o,p)&&(t.flags|=32),t.memoizedState!==null&&(o=Wo(e,t,xb,null,null,a),Vr._currentValue=o),Xi(e,t),ft(e,t,r,a),t.child;case 6:return e===null&&we&&((e=a=Be)&&(a=iv(a,t.pendingProps,Qt),a!==null?(t.stateNode=a,dt=t,Be=null,e=!0):e=!1),e||Qa(t)),null;case 13:return jf(e,t,a);case 4:return Ke(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dn(t,null,r,a):ft(e,t,r,a),t.child;case 11:return gf(e,t,t.type,t.pendingProps,a);case 7:return ft(e,t,t.pendingProps,a),t.child;case 8:return ft(e,t,t.pendingProps.children,a),t.child;case 12:return ft(e,t,t.pendingProps.children,a),t.child;case 10:return r=t.pendingProps,Ja(t,t.type,r.value),ft(e,t,r.children,a),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Cn(t),o=ht(o),r=r(o),t.flags|=1,ft(e,t,r,a),t.child;case 14:return pf(e,t,t.type,t.pendingProps,a);case 15:return yf(e,t,t.type,t.pendingProps,a);case 19:return Nf(e,t,a);case 31:return Ob(e,t,a);case 22:return bf(e,t,a,t.pendingProps);case 24:return Cn(t),r=ht(Xe),e===null?(o=Vo(),o===null&&(o=ze,d=$o(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=a),o=d),t.memoizedState={parent:r,cache:o},Po(t),Ja(t,Xe,o)):((e.lanes&a)!==0&&(Ko(e,t),Sr(t,null,null,a),_r()),o=e.memoizedState,d=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ja(t,Xe,r)):(r=d.cache,Ja(t,Xe,r),r!==o.cache&&Ho(t,[Xe],a,!0))),ft(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Ta(e){e.flags|=4}function Tu(e,t,a,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(em())e.flags|=8192;else throw Un=zi,Yo}else e.flags&=-16777217}function Of(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vm(t))if(em())e.flags|=8192;else throw Un=zi,Yo}function Fi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Wn():536870912,e.lanes|=t,As|=t)}function Ar(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=a,t}function Cb(e,t,a){var r=t.pendingProps;switch(zo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Le(t),null;case 3:return a=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Sa(Xe),He(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ps(t)?Ta(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Bo())),Le(t),null;case 26:var o=t.type,d=t.memoizedState;return e===null?(Ta(t),d!==null?(Le(t),Of(t,d)):(Le(t),Tu(t,o,null,r,a))):d?d!==e.memoizedState?(Ta(t),Le(t),Of(t,d)):(Le(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&Ta(t),Le(t),Tu(t,o,e,r,a)),null;case 27:if(bn(t),a=fe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ta(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Le(t),null}e=Z.current,ps(t)?ih(t):(e=zm(o,r,a),t.stateNode=e,Ta(t))}return Le(t),null;case 5:if(bn(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ta(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Le(t),null}if(d=Z.current,ps(t))ih(t);else{var p=fl(fe.current);switch(d){case 1:d=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=p.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof r.is=="string"?p.createElement("select",{is:r.is}):p.createElement("select"),r.multiple?d.multiple=!0:r.size&&(d.size=r.size);break;default:d=typeof r.is=="string"?p.createElement(o,{is:r.is}):p.createElement(o)}}d[ct]=t,d[_t]=r;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)d.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=d;e:switch(mt(d,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ta(t)}}return Le(t),Tu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Ta(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(e=fe.current,ps(t)){if(e=t.stateNode,a=t.memoizedProps,r=null,o=dt,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[ct]=t,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||jm(e.nodeValue,a)),e||Qa(t,!0)}else e=fl(e).createTextNode(r),e[ct]=t,t.stateNode=e}return Le(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(r=ps(t),a!==null){if(e===null){if(!r)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[ct]=t}else On(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),e=!1}else a=Bo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ut(t),t):(Ut(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Le(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ps(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[ct]=t}else On(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),o=!1}else o=Bo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ut(t),t):(Ut(t),null)}return Ut(t),(t.flags&128)!==0?(t.lanes=a,t):(a=r!==null,e=e!==null&&e.memoizedState!==null,a&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==o&&(r.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Fi(t,t.updateQueue),Le(t),null);case 4:return He(),e===null&&Ju(t.stateNode.containerInfo),Le(t),null;case 10:return Sa(t.type),Le(t),null;case 19:if(V(Ie),r=t.memoizedState,r===null)return Le(t),null;if(o=(t.flags&128)!==0,d=r.rendering,d===null)if(o)Ar(r,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=qi(e),d!==null){for(t.flags|=128,Ar(r,!1),e=d.updateQueue,t.updateQueue=e,Fi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)th(a,e),a=a.sibling;return X(Ie,Ie.current&1|2),we&&wa(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&nt()>nl&&(t.flags|=128,o=!0,Ar(r,!1),t.lanes=4194304)}else{if(!o)if(e=qi(d),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Fi(t,e),Ar(r,!0),r.tail===null&&r.tailMode==="hidden"&&!d.alternate&&!we)return Le(t),null}else 2*nt()-r.renderingStartTime>nl&&a!==536870912&&(t.flags|=128,o=!0,Ar(r,!1),t.lanes=4194304);r.isBackwards?(d.sibling=t.child,t.child=d):(e=r.last,e!==null?e.sibling=d:t.child=d,r.last=d)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=nt(),e.sibling=null,a=Ie.current,X(Ie,o?a&1|2:a&1),we&&wa(t,r.treeForkCount),e):(Le(t),null);case 22:case 23:return Ut(t),Xo(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(a&536870912)!==0&&(t.flags&128)===0&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),a=t.updateQueue,a!==null&&Fi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==a&&(t.flags|=2048),e!==null&&V(Rn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Sa(Xe),Le(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Rb(e,t){switch(zo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sa(Xe),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return bn(t),null;case 31:if(t.memoizedState!==null){if(Ut(t),t.alternate===null)throw Error(l(340));On()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ut(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));On()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(Ie),null;case 4:return He(),null;case 10:return Sa(t.type),null;case 22:case 23:return Ut(t),Xo(),e!==null&&V(Rn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Sa(Xe),null;case 25:return null;default:return null}}function Af(e,t){switch(zo(t),t.tag){case 3:Sa(Xe),He();break;case 26:case 27:case 5:bn(t);break;case 4:He();break;case 31:t.memoizedState!==null&&Ut(t);break;case 13:Ut(t);break;case 19:V(Ie);break;case 10:Sa(t.type);break;case 22:case 23:Ut(t),Xo(),e!==null&&V(Rn);break;case 24:Sa(Xe)}}function Cr(e,t){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var o=r.next;a=o;do{if((a.tag&e)===e){r=void 0;var d=a.create,p=a.inst;r=d(),p.destroy=r}a=a.next}while(a!==o)}}catch(b){Re(t,t.return,b)}}function tn(e,t,a){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&e)===e){var p=r.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,o=t;var S=a,U=b;try{U()}catch(q){Re(o,S,q)}}}r=r.next}while(r!==d)}}catch(q){Re(t,t.return,q)}}function Cf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{vh(t,a)}catch(r){Re(e,e.return,r)}}}function Rf(e,t,a){a.props=Mn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){Re(e,t,r)}}function Rr(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(o){Re(e,t,o)}}function ha(e,t){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(o){Re(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Re(e,t,o)}else a.current=null}function kf(e){var t=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(o){Re(e,e.return,o)}}function Ou(e,t,a){try{var r=e.stateNode;Wb(r,e.type,a,t),r[_t]=t}catch(o){Re(e,e.return,o)}}function Uf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&un(e.type)||e.tag===4}function Au(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&un(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cu(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ba));else if(r!==4&&(r===27&&un(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Cu(e,t,a),e=e.sibling;e!==null;)Cu(e,t,a),e=e.sibling}function Wi(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(r!==4&&(r===27&&un(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Wi(e,t,a),e=e.sibling;e!==null;)Wi(e,t,a),e=e.sibling}function Df(e){var t=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);mt(t,r,a),t[ct]=e,t[_t]=a}catch(d){Re(e,e.return,d)}}var Oa=!1,We=!1,Ru=!1,zf=typeof WeakSet=="function"?WeakSet:Set,rt=null;function kb(e,t){if(e=e.containerInfo,Fu=xl,e=Kd(e),jo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var o=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var p=0,b=-1,S=-1,U=0,q=0,G=e,z=null;t:for(;;){for(var M;G!==a||o!==0&&G.nodeType!==3||(b=p+o),G!==d||r!==0&&G.nodeType!==3||(S=p+r),G.nodeType===3&&(p+=G.nodeValue.length),(M=G.firstChild)!==null;)z=G,G=M;for(;;){if(G===e)break t;if(z===a&&++U===o&&(b=p),z===d&&++q===r&&(S=p),(M=G.nextSibling)!==null)break;G=z,z=G.parentNode}G=M}a=b===-1||S===-1?null:{start:b,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wu={focusedElem:e,selectionRange:a},xl=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,o=d.memoizedProps,d=d.memoizedState,r=a.stateNode;try{var F=Mn(a.type,o);e=r.getSnapshotBeforeUpdate(F,d),r.__reactInternalSnapshotBeforeUpdate=e}catch(le){Re(a,a.return,le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)ac(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ac(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function Mf(e,t,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Ca(e,a),r&4&&Cr(5,a);break;case 1:if(Ca(e,a),r&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(p){Re(a,a.return,p)}else{var o=Mn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Re(a,a.return,p)}}r&64&&Cf(a),r&512&&Rr(a,a.return);break;case 3:if(Ca(e,a),r&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{vh(e,t)}catch(p){Re(a,a.return,p)}}break;case 27:t===null&&r&4&&Df(a);case 26:case 5:Ca(e,a),t===null&&r&4&&kf(a),r&512&&Rr(a,a.return);break;case 12:Ca(e,a);break;case 31:Ca(e,a),r&4&&qf(e,a);break;case 13:Ca(e,a),r&4&&Hf(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=$b.bind(null,a),lv(e,a))));break;case 22:if(r=a.memoizedState!==null||Oa,!r){t=t!==null&&t.memoizedState!==null||We,o=Oa;var d=We;Oa=r,(We=t)&&!d?Ra(e,a,(a.subtreeFlags&8772)!==0):Ca(e,a),Oa=o,We=d}break;case 30:break;default:Ca(e,a)}}function Bf(e){var t=e.alternate;t!==null&&(e.alternate=null,Bf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&io(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,jt=!1;function Aa(e,t,a){for(a=a.child;a!==null;)Lf(e,t,a),a=a.sibling}function Lf(e,t,a){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(vn,a)}catch{}switch(a.tag){case 26:We||ha(a,t),Aa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||ha(a,t);var r=$e,o=jt;un(a.type)&&($e=a.stateNode,jt=!1),Aa(e,t,a),Hr(a.stateNode),$e=r,jt=o;break;case 5:We||ha(a,t);case 6:if(r=$e,o=jt,$e=null,Aa(e,t,a),$e=r,jt=o,$e!==null)if(jt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(a.stateNode)}catch(d){Re(a,t,d)}else try{$e.removeChild(a.stateNode)}catch(d){Re(a,t,d)}break;case 18:$e!==null&&(jt?(e=$e,Cm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Bs(e)):Cm($e,a.stateNode));break;case 4:r=$e,o=jt,$e=a.stateNode.containerInfo,jt=!0,Aa(e,t,a),$e=r,jt=o;break;case 0:case 11:case 14:case 15:tn(2,a,t),We||tn(4,a,t),Aa(e,t,a);break;case 1:We||(ha(a,t),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Rf(a,t,r)),Aa(e,t,a);break;case 21:Aa(e,t,a);break;case 22:We=(r=We)||a.memoizedState!==null,Aa(e,t,a),We=r;break;default:Aa(e,t,a)}}function qf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Bs(e)}catch(a){Re(t,t.return,a)}}}function Hf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Bs(e)}catch(a){Re(t,t.return,a)}}function Ub(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new zf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new zf),t;default:throw Error(l(435,e.tag))}}function el(e,t){var a=Ub(e);t.forEach(function(r){if(!a.has(r)){a.add(r);var o=Gb.bind(null,e,r);r.then(o,o)}})}function Et(e,t){var a=t.deletions;if(a!==null)for(var r=0;r<a.length;r++){var o=a[r],d=e,p=t,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(un(b.type)){$e=b.stateNode,jt=!1;break e}break;case 5:$e=b.stateNode,jt=!1;break e;case 3:case 4:$e=b.stateNode.containerInfo,jt=!0;break e}b=b.return}if($e===null)throw Error(l(160));Lf(d,p,o),$e=null,jt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)$f(t,e),t=t.sibling}var aa=null;function $f(e,t){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Et(t,e),Nt(e),r&4&&(tn(3,e,e.return),Cr(3,e),tn(5,e,e.return));break;case 1:Et(t,e),Nt(e),r&512&&(We||a===null||ha(a,a.return)),r&64&&Oa&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var o=aa;if(Et(t,e),Nt(e),r&512&&(We||a===null||ha(a,a.return)),r&4){var d=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":d=o.getElementsByTagName("title")[0],(!d||d[sr]||d[ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(r),o.head.insertBefore(d,o.querySelector("head > title"))),mt(d,r,a),d[ct]=e,st(d),r=d;break e;case"link":var p=$m("link","href",o).get(r+(a.href||""));if(p){for(var b=0;b<p.length;b++)if(d=p[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(b,1);break t}}d=o.createElement(r),mt(d,r,a),o.head.appendChild(d);break;case"meta":if(p=$m("meta","content",o).get(r+(a.content||""))){for(b=0;b<p.length;b++)if(d=p[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(b,1);break t}}d=o.createElement(r),mt(d,r,a),o.head.appendChild(d);break;default:throw Error(l(468,r))}d[ct]=e,st(d),r=d}e.stateNode=r}else Gm(o,e.type,e.stateNode);else e.stateNode=Hm(o,r,e.memoizedProps);else d!==r?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,r===null?Gm(o,e.type,e.stateNode):Hm(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Ou(e,e.memoizedProps,a.memoizedProps)}break;case 27:Et(t,e),Nt(e),r&512&&(We||a===null||ha(a,a.return)),a!==null&&r&4&&Ou(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Et(t,e),Nt(e),r&512&&(We||a===null||ha(a,a.return)),e.flags&32){o=e.stateNode;try{is(o,"")}catch(F){Re(e,e.return,F)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,Ou(e,o,a!==null?a.memoizedProps:o)),r&1024&&(Ru=!0);break;case 6:if(Et(t,e),Nt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(F){Re(e,e.return,F)}}break;case 3:if(pl=null,o=aa,aa=ml(t.containerInfo),Et(t,e),aa=o,Nt(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Bs(t.containerInfo)}catch(F){Re(e,e.return,F)}Ru&&(Ru=!1,Gf(e));break;case 4:r=aa,aa=ml(e.stateNode.containerInfo),Et(t,e),Nt(e),aa=r;break;case 12:Et(t,e),Nt(e);break;case 31:Et(t,e),Nt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,el(e,r)));break;case 13:Et(t,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(al=nt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,el(e,r)));break;case 22:o=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,U=Oa,q=We;if(Oa=U||o,We=q||S,Et(t,e),We=q,Oa=U,Nt(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||S||Oa||We||Bn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){S=a=t;try{if(d=S.stateNode,o)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=S.stateNode;var G=S.memoizedProps.style,z=G!=null&&G.hasOwnProperty("display")?G.display:null;b.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(F){Re(S,S.return,F)}}}else if(t.tag===6){if(a===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(F){Re(S,S.return,F)}}}else if(t.tag===18){if(a===null){S=t;try{var M=S.stateNode;o?Rm(M,!0):Rm(S.stateNode,!1)}catch(F){Re(S,S.return,F)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,el(e,a))));break;case 19:Et(t,e),Nt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,el(e,r)));break;case 30:break;case 21:break;default:Et(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{for(var a,r=e.return;r!==null;){if(Uf(r)){a=r;break}r=r.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,d=Au(e);Wi(e,d,o);break;case 5:var p=a.stateNode;a.flags&32&&(is(p,""),a.flags&=-33);var b=Au(e);Wi(e,b,p);break;case 3:case 4:var S=a.stateNode.containerInfo,U=Au(e);Cu(e,U,S);break;default:throw Error(l(161))}}catch(q){Re(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Gf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ca(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Mf(e,t.alternate,t),t=t.sibling}function Bn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:tn(4,t,t.return),Bn(t);break;case 1:ha(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Rf(t,t.return,a),Bn(t);break;case 27:Hr(t.stateNode);case 26:case 5:ha(t,t.return),Bn(t);break;case 22:t.memoizedState===null&&Bn(t);break;case 30:Bn(t);break;default:Bn(t)}e=e.sibling}}function Ra(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,d=t,p=d.flags;switch(d.tag){case 0:case 11:case 15:Ra(o,d,a),Cr(4,d);break;case 1:if(Ra(o,d,a),r=d,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(U){Re(r,r.return,U)}if(r=d,o=r.updateQueue,o!==null){var b=r.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)bh(S[o],b)}catch(U){Re(r,r.return,U)}}a&&p&64&&Cf(d),Rr(d,d.return);break;case 27:Df(d);case 26:case 5:Ra(o,d,a),a&&r===null&&p&4&&kf(d),Rr(d,d.return);break;case 12:Ra(o,d,a);break;case 31:Ra(o,d,a),a&&p&4&&qf(o,d);break;case 13:Ra(o,d,a),a&&p&4&&Hf(o,d);break;case 22:d.memoizedState===null&&Ra(o,d,a),Rr(d,d.return);break;case 30:break;default:Ra(o,d,a)}t=t.sibling}}function ku(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&yr(a))}function Uu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yr(e))}function na(e,t,a,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vf(e,t,a,r),t=t.sibling}function Vf(e,t,a,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:na(e,t,a,r),o&2048&&Cr(9,t);break;case 1:na(e,t,a,r);break;case 3:na(e,t,a,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yr(e)));break;case 12:if(o&2048){na(e,t,a,r),e=t.stateNode;try{var d=t.memoizedProps,p=d.id,b=d.onPostCommit;typeof b=="function"&&b(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Re(t,t.return,S)}}else na(e,t,a,r);break;case 31:na(e,t,a,r);break;case 13:na(e,t,a,r);break;case 23:break;case 22:d=t.stateNode,p=t.alternate,t.memoizedState!==null?d._visibility&2?na(e,t,a,r):kr(e,t):d._visibility&2?na(e,t,a,r):(d._visibility|=2,Ns(e,t,a,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&ku(p,t);break;case 24:na(e,t,a,r),o&2048&&Uu(t.alternate,t);break;default:na(e,t,a,r)}}function Ns(e,t,a,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,p=t,b=a,S=r,U=p.flags;switch(p.tag){case 0:case 11:case 15:Ns(d,p,b,S,o),Cr(8,p);break;case 23:break;case 22:var q=p.stateNode;p.memoizedState!==null?q._visibility&2?Ns(d,p,b,S,o):kr(d,p):(q._visibility|=2,Ns(d,p,b,S,o)),o&&U&2048&&ku(p.alternate,p);break;case 24:Ns(d,p,b,S,o),o&&U&2048&&Uu(p.alternate,p);break;default:Ns(d,p,b,S,o)}t=t.sibling}}function kr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,r=t,o=r.flags;switch(r.tag){case 22:kr(a,r),o&2048&&ku(r.alternate,r);break;case 24:kr(a,r),o&2048&&Uu(r.alternate,r);break;default:kr(a,r)}t=t.sibling}}var Ur=8192;function Ts(e,t,a){if(e.subtreeFlags&Ur)for(e=e.child;e!==null;)Yf(e,t,a),e=e.sibling}function Yf(e,t,a){switch(e.tag){case 26:Ts(e,t,a),e.flags&Ur&&e.memoizedState!==null&&vv(a,aa,e.memoizedState,e.memoizedProps);break;case 5:Ts(e,t,a);break;case 3:case 4:var r=aa;aa=ml(e.stateNode.containerInfo),Ts(e,t,a),aa=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Ur,Ur=16777216,Ts(e,t,a),Ur=r):Ts(e,t,a));break;default:Ts(e,t,a)}}function Pf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Dr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];rt=r,If(r,e)}Pf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Kf(e),e=e.sibling}function Kf(e){switch(e.tag){case 0:case 11:case 15:Dr(e),e.flags&2048&&tn(9,e,e.return);break;case 3:Dr(e);break;case 12:Dr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,tl(e)):Dr(e);break;default:Dr(e)}}function tl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];rt=r,If(r,e)}Pf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:tn(8,t,t.return),tl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,tl(t));break;default:tl(t)}e=e.sibling}}function If(e,t){for(;rt!==null;){var a=rt;switch(a.tag){case 0:case 11:case 15:tn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:yr(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,rt=r;else e:for(a=e;rt!==null;){r=rt;var o=r.sibling,d=r.return;if(Bf(r),r===a){rt=null;break e}if(o!==null){o.return=d,rt=o;break e}rt=d}}}var Db={getCacheForType:function(e){var t=ht(Xe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ht(Xe).controller.signal}},zb=typeof WeakMap=="function"?WeakMap:Map,Te=0,ze=null,ye=null,ve=0,Ce=0,Dt=null,an=!1,Os=!1,Du=!1,ka=0,Pe=0,nn=0,Ln=0,zu=0,zt=0,As=0,zr=null,Tt=null,Mu=!1,al=0,Qf=0,nl=1/0,sl=null,sn=null,tt=0,rn=null,Cs=null,Ua=0,Bu=0,Lu=null,Jf=null,Mr=0,qu=null;function Mt(){return(Te&2)!==0&&ve!==0?ve&-ve:H.T!==null?Pu():cd()}function Xf(){if(zt===0)if((ve&536870912)===0||we){var e=wn;wn<<=1,(wn&3932160)===0&&(wn=262144),zt=e}else zt=536870912;return e=kt.current,e!==null&&(e.flags|=32),zt}function Ot(e,t,a){(e===ze&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(Rs(e,0),ln(e,ve,zt,!1)),Y(e,a),((Te&2)===0||e!==ze)&&(e===ze&&((Te&2)===0&&(Ln|=a),Pe===4&&ln(e,ve,zt,!1)),fa(e))}function Zf(e,t,a){if((Te&6)!==0)throw Error(l(327));var r=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Va(e,t),o=r?Lb(e,t):$u(e,t,!0),d=r;do{if(o===0){Os&&!r&&ln(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!Mb(a)){o=$u(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var b=e;o=zr;var S=b.current.memoizedState.isDehydrated;if(S&&(Rs(b,p).flags|=256),p=$u(b,p,!1),p!==2){if(Du&&!S){b.errorRecoveryDisabledLanes|=d,Ln|=d,o=4;break e}d=Tt,Tt=o,d!==null&&(Tt===null?Tt=d:Tt.push.apply(Tt,d))}o=p}if(d=!1,o!==2)continue}}if(o===1){Rs(e,0),ln(e,t,0,!0);break}e:{switch(r=e,d=o,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:ln(r,t,zt,!an);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=al+300-nt(),10<o)){if(ln(r,t,zt,!an),Fn(r,0,!0)!==0)break e;Ua=t,r.timeoutHandle=Om(Ff.bind(null,r,a,Tt,sl,Mu,t,zt,Ln,As,an,d,"Throttled",-0,0),o);break e}Ff(r,a,Tt,sl,Mu,t,zt,Ln,As,an,d,null,-0,0)}}break}while(!0);fa(e)}function Ff(e,t,a,r,o,d,p,b,S,U,q,G,z,M){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ba},Yf(t,d,G);var F=(d&62914560)===d?al-nt():(d&4194048)===d?Qf-nt():0;if(F=xv(G,F),F!==null){Ua=d,e.cancelPendingCommit=F(im.bind(null,e,t,d,a,r,o,p,b,S,q,G,null,z,M)),ln(e,d,p,!U);return}}im(e,t,d,a,r,o,p,b,S)}function Mb(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var o=a[r],d=o.getSnapshot;o=o.value;try{if(!Ct(d(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t,a,r){t&=~zu,t&=~Ln,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var d=31-vt(o),p=1<<d;r[d]=-1,o&=~p}a!==0&&Ne(e,a,t)}function rl(){return(Te&6)===0?(Br(0),!1):!0}function Hu(){if(ye!==null){if(Ce===0)var e=ye.return;else e=ye,_a=An=null,au(e),ws=null,vr=0,e=ye;for(;e!==null;)Af(e.alternate,e),e=e.return;ye=null}}function Rs(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,av(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ua=0,Hu(),ze=e,ye=a=xa(e.current,null),ve=t,Ce=0,Dt=null,an=!1,Os=Va(e,t),Du=!1,As=zt=zu=Ln=nn=Pe=0,Tt=zr=null,Mu=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-vt(r),d=1<<o;t|=e[o],r&=~d}return ka=t,Ni(),a}function Wf(e,t){he=null,H.H=Tr,t===xs||t===Di?(t=mh(),Ce=3):t===Yo?(t=mh(),Ce=4):Ce=t===bu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Dt=t,ye===null&&(Pe=1,Qi(e,Pt(t,e.current)))}function em(){var e=kt.current;return e===null?!0:(ve&4194048)===ve?Jt===null:(ve&62914560)===ve||(ve&536870912)!==0?e===Jt:!1}function tm(){var e=H.H;return H.H=Tr,e===null?Tr:e}function am(){var e=H.A;return H.A=Db,e}function il(){Pe=4,an||(ve&4194048)!==ve&&kt.current!==null||(Os=!0),(nn&134217727)===0&&(Ln&134217727)===0||ze===null||ln(ze,ve,zt,!1)}function $u(e,t,a){var r=Te;Te|=2;var o=tm(),d=am();(ze!==e||ve!==t)&&(sl=null,Rs(e,t)),t=!1;var p=Pe;e:do try{if(Ce!==0&&ye!==null){var b=ye,S=Dt;switch(Ce){case 8:Hu(),p=6;break e;case 3:case 2:case 9:case 6:kt.current===null&&(t=!0);var U=Ce;if(Ce=0,Dt=null,ks(e,b,S,U),a&&Os){p=0;break e}break;default:U=Ce,Ce=0,Dt=null,ks(e,b,S,U)}}Bb(),p=Pe;break}catch(q){Wf(e,q)}while(!0);return t&&e.shellSuspendCounter++,_a=An=null,Te=r,H.H=o,H.A=d,ye===null&&(ze=null,ve=0,Ni()),p}function Bb(){for(;ye!==null;)nm(ye)}function Lb(e,t){var a=Te;Te|=2;var r=tm(),o=am();ze!==e||ve!==t?(sl=null,nl=nt()+500,Rs(e,t)):Os=Va(e,t);e:do try{if(Ce!==0&&ye!==null){t=ye;var d=Dt;t:switch(Ce){case 1:Ce=0,Dt=null,ks(e,t,d,1);break;case 2:case 9:if(hh(d)){Ce=0,Dt=null,sm(t);break}t=function(){Ce!==2&&Ce!==9||ze!==e||(Ce=7),fa(e)},d.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:hh(d)?(Ce=0,Dt=null,sm(t)):(Ce=0,Dt=null,ks(e,t,d,7));break;case 5:var p=null;switch(ye.tag){case 26:p=ye.memoizedState;case 5:case 27:var b=ye;if(p?Vm(p):b.stateNode.complete){Ce=0,Dt=null;var S=b.sibling;if(S!==null)ye=S;else{var U=b.return;U!==null?(ye=U,ll(U)):ye=null}break t}}Ce=0,Dt=null,ks(e,t,d,5);break;case 6:Ce=0,Dt=null,ks(e,t,d,6);break;case 8:Hu(),Pe=6;break e;default:throw Error(l(462))}}qb();break}catch(q){Wf(e,q)}while(!0);return _a=An=null,H.H=r,H.A=o,Te=a,ye!==null?0:(ze=null,ve=0,Ni(),Pe)}function qb(){for(;ye!==null&&!ci();)nm(ye)}function nm(e){var t=Tf(e.alternate,e,ka);e.memoizedProps=e.pendingProps,t===null?ll(e):ye=t}function sm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=wf(a,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=wf(a,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:au(t);default:Af(a,t),t=ye=th(t,ka),t=Tf(a,t,ka)}e.memoizedProps=e.pendingProps,t===null?ll(e):ye=t}function ks(e,t,a,r){_a=An=null,au(t),ws=null,vr=0;var o=t.return;try{if(Tb(e,o,t,a,ve)){Pe=1,Qi(e,Pt(a,e.current)),ye=null;return}}catch(d){if(o!==null)throw ye=o,d;Pe=1,Qi(e,Pt(a,e.current)),ye=null;return}t.flags&32768?(we||r===1?e=!0:Os||(ve&536870912)!==0?e=!1:(an=e=!0,(r===2||r===9||r===3||r===6)&&(r=kt.current,r!==null&&r.tag===13&&(r.flags|=16384))),rm(t,e)):ll(t)}function ll(e){var t=e;do{if((t.flags&32768)!==0){rm(t,an);return}e=t.return;var a=Cb(t.alternate,t,ka);if(a!==null){ye=a;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Pe===0&&(Pe=5)}function rm(e,t){do{var a=Rb(e.alternate,e);if(a!==null){a.flags&=32767,ye=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=a}while(e!==null);Pe=6,ye=null}function im(e,t,a,r,o,d,p,b,S){e.cancelPendingCommit=null;do ol();while(tt!==0);if((Te&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=Ao,re(e,a,d,p,b,S),e===ze&&(ye=ze=null,ve=0),Cs=t,rn=e,Ua=a,Bu=d,Lu=o,Jf=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Vb(Xn,function(){return dm(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=H.T,H.T=null,o=J.p,J.p=2,p=Te,Te|=4;try{kb(e,t,a)}finally{Te=p,J.p=o,H.T=r}}tt=1,lm(),om(),um()}}function lm(){if(tt===1){tt=0;var e=rn,t=Cs,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var r=J.p;J.p=2;var o=Te;Te|=4;try{$f(t,e);var d=Wu,p=Kd(e.containerInfo),b=d.focusedElem,S=d.selectionRange;if(p!==b&&b&&b.ownerDocument&&Pd(b.ownerDocument.documentElement,b)){if(S!==null&&jo(b)){var U=S.start,q=S.end;if(q===void 0&&(q=U),"selectionStart"in b)b.selectionStart=U,b.selectionEnd=Math.min(q,b.value.length);else{var G=b.ownerDocument||document,z=G&&G.defaultView||window;if(z.getSelection){var M=z.getSelection(),F=b.textContent.length,le=Math.min(S.start,F),De=S.end===void 0?le:Math.min(S.end,F);!M.extend&&le>De&&(p=De,De=le,le=p);var A=Yd(b,le),T=Yd(b,De);if(A&&T&&(M.rangeCount!==1||M.anchorNode!==A.node||M.anchorOffset!==A.offset||M.focusNode!==T.node||M.focusOffset!==T.offset)){var k=G.createRange();k.setStart(A.node,A.offset),M.removeAllRanges(),le>De?(M.addRange(k),M.extend(T.node,T.offset)):(k.setEnd(T.node,T.offset),M.addRange(k))}}}}for(G=[],M=b;M=M.parentNode;)M.nodeType===1&&G.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<G.length;b++){var $=G[b];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}xl=!!Fu,Wu=Fu=null}finally{Te=o,J.p=r,H.T=a}}e.current=t,tt=2}}function om(){if(tt===2){tt=0;var e=rn,t=Cs,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var r=J.p;J.p=2;var o=Te;Te|=4;try{Mf(e,t.alternate,t)}finally{Te=o,J.p=r,H.T=a}}tt=3}}function um(){if(tt===4||tt===3){tt=0,di();var e=rn,t=Cs,a=Ua,r=Jf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,Cs=rn=null,cm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(sn=null),so(a),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(vn,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=H.T,o=J.p,J.p=2,H.T=null;try{for(var d=e.onRecoverableError,p=0;p<r.length;p++){var b=r[p];d(b.value,{componentStack:b.stack})}}finally{H.T=t,J.p=o}}(Ua&3)!==0&&ol(),fa(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===qu?Mr++:(Mr=0,qu=e):Mr=0,Br(0)}}function cm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,yr(t)))}function ol(){return lm(),om(),um(),dm()}function dm(){if(tt!==5)return!1;var e=rn,t=Bu;Bu=0;var a=so(Ua),r=H.T,o=J.p;try{J.p=32>a?32:a,H.T=null,a=Lu,Lu=null;var d=rn,p=Ua;if(tt=0,Cs=rn=null,Ua=0,(Te&6)!==0)throw Error(l(331));var b=Te;if(Te|=4,Kf(d.current),Vf(d,d.current,p,a),Te=b,Br(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(vn,d)}catch{}return!0}finally{J.p=o,H.T=r,cm(e,t)}}function hm(e,t,a){t=Pt(a,t),t=yu(e.stateNode,t,2),e=Fa(e,t,2),e!==null&&(Y(e,2),fa(e))}function Re(e,t,a){if(e.tag===3)hm(e,e,a);else for(;t!==null;){if(t.tag===3){hm(t,e,a);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sn===null||!sn.has(r))){e=Pt(a,e),a=ff(2),r=Fa(t,a,2),r!==null&&(mf(a,r,t,e),Y(r,2),fa(r));break}}t=t.return}}function Gu(e,t,a){var r=e.pingCache;if(r===null){r=e.pingCache=new zb;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(a)||(Du=!0,o.add(a),e=Hb.bind(null,e,t,a),t.then(e,e))}function Hb(e,t,a){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ze===e&&(ve&a)===a&&(Pe===4||Pe===3&&(ve&62914560)===ve&&300>nt()-al?(Te&2)===0&&Rs(e,0):zu|=a,As===ve&&(As=0)),fa(e)}function fm(e,t){t===0&&(t=Wn()),e=Nn(e,t),e!==null&&(Y(e,t),fa(e))}function $b(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),fm(e,a)}function Gb(e,t){var a=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(t),fm(e,a)}function Vb(e,t){return Ga(e,t)}var ul=null,Us=null,Vu=!1,cl=!1,Yu=!1,on=0;function fa(e){e!==Us&&e.next===null&&(Us===null?ul=Us=e:Us=Us.next=e),cl=!0,Vu||(Vu=!0,Pb())}function Br(e,t){if(!Yu&&cl){Yu=!0;do for(var a=!1,r=ul;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var d=0;else{var p=r.suspendedLanes,b=r.pingedLanes;d=(1<<31-vt(42|e)+1)-1,d&=o&~(p&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,ym(r,d))}else d=ve,d=Fn(r,r===ze?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||Va(r,d)||(a=!0,ym(r,d));r=r.next}while(a);Yu=!1}}function Yb(){mm()}function mm(){cl=Vu=!1;var e=0;on!==0&&tv()&&(e=on);for(var t=nt(),a=null,r=ul;r!==null;){var o=r.next,d=gm(r,t);d===0?(r.next=null,a===null?ul=o:a.next=o,o===null&&(Us=a)):(a=r,(e!==0||(d&3)!==0)&&(cl=!0)),r=o}tt!==0&&tt!==5||Br(e),on!==0&&(on=0)}function gm(e,t){for(var a=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var p=31-vt(d),b=1<<p,S=o[p];S===-1?((b&a)===0||(b&r)!==0)&&(o[p]=ao(b,t)):S<=t&&(e.expiredLanes|=b),d&=~b}if(t=ze,a=ve,a=Fn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Jn(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Va(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(r!==null&&Jn(r),so(a)){case 2:case 8:a=hi;break;case 32:a=Xn;break;case 268435456:a=Zn;break;default:a=Xn}return r=pm.bind(null,e),a=Ga(a,r),e.callbackPriority=t,e.callbackNode=a,t}return r!==null&&r!==null&&Jn(r),e.callbackPriority=2,e.callbackNode=null,2}function pm(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ol()&&e.callbackNode!==a)return null;var r=ve;return r=Fn(e,e===ze?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Zf(e,r,t),gm(e,nt()),e.callbackNode!=null&&e.callbackNode===a?pm.bind(null,e):null)}function ym(e,t){if(ol())return null;Zf(e,t,!0)}function Pb(){nv(function(){(Te&6)!==0?Ga(nr,Yb):mm()})}function Pu(){if(on===0){var e=bs;e===0&&(e=ua,ua<<=1,(ua&261888)===0&&(ua=256)),on=e}return on}function bm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:bi(""+e)}function vm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Kb(e,t,a,r,o){if(t==="submit"&&a&&a.stateNode===o){var d=bm((o[_t]||null).action),p=r.submitter;p&&(t=(t=p[_t]||null)?bm(t.formAction):p.getAttribute("formAction"),t!==null&&(d=t,p=null));var b=new _i("action","action",null,r,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(on!==0){var S=p?vm(o,p):new FormData(o);du(a,{pending:!0,data:S,method:o.method,action:d},null,S)}}else typeof d=="function"&&(b.preventDefault(),S=p?vm(o,p):new FormData(o),du(a,{pending:!0,data:S,method:o.method,action:d},d,S))},currentTarget:o}]})}}for(var Ku=0;Ku<Oo.length;Ku++){var Iu=Oo[Ku],Ib=Iu.toLowerCase(),Qb=Iu[0].toUpperCase()+Iu.slice(1);ta(Ib,"on"+Qb)}ta(Jd,"onAnimationEnd"),ta(Xd,"onAnimationIteration"),ta(Zd,"onAnimationStart"),ta("dblclick","onDoubleClick"),ta("focusin","onFocus"),ta("focusout","onBlur"),ta(cb,"onTransitionRun"),ta(db,"onTransitionStart"),ta(hb,"onTransitionCancel"),ta(Fd,"onTransitionEnd"),ss("onMouseEnter",["mouseout","mouseover"]),ss("onMouseLeave",["mouseout","mouseover"]),ss("onPointerEnter",["pointerout","pointerover"]),ss("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lr));function xm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],o=r.event;r=r.listeners;e:{var d=void 0;if(t)for(var p=r.length-1;0<=p;p--){var b=r[p],S=b.instance,U=b.currentTarget;if(b=b.listener,S!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=U;try{d(o)}catch(q){Ei(q)}o.currentTarget=null,d=S}else for(p=0;p<r.length;p++){if(b=r[p],S=b.instance,U=b.currentTarget,b=b.listener,S!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=U;try{d(o)}catch(q){Ei(q)}o.currentTarget=null,d=S}}}}function be(e,t){var a=t[ro];a===void 0&&(a=t[ro]=new Set);var r=e+"__bubble";a.has(r)||(wm(t,e,2,!1),a.add(r))}function Qu(e,t,a){var r=0;t&&(r|=4),wm(a,e,r,t)}var dl="_reactListening"+Math.random().toString(36).slice(2);function Ju(e){if(!e[dl]){e[dl]=!0,fd.forEach(function(a){a!=="selectionchange"&&(Jb.has(a)||Qu(a,!1,e),Qu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dl]||(t[dl]=!0,Qu("selectionchange",!1,t))}}function wm(e,t,a,r){switch(Xm(t)){case 2:var o=Sv;break;case 8:o=jv;break;default:o=cc}a=o.bind(null,t,a,e),o=void 0,!go||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function Xu(e,t,a,r,o){var d=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var b=r.stateNode.containerInfo;if(b===o)break;if(p===4)for(p=r.return;p!==null;){var S=p.tag;if((S===3||S===4)&&p.stateNode.containerInfo===o)return;p=p.return}for(;b!==null;){if(p=ts(b),p===null)return;if(S=p.tag,S===5||S===6||S===26||S===27){r=d=p;continue e}b=b.parentNode}}r=r.return}Ed(function(){var U=d,q=fo(a),G=[];e:{var z=Wd.get(e);if(z!==void 0){var M=_i,F=e;switch(e){case"keypress":if(xi(a)===0)break e;case"keydown":case"keyup":M=Gy;break;case"focusin":F="focus",M=vo;break;case"focusout":F="blur",M=vo;break;case"beforeblur":case"afterblur":M=vo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=Cy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=Py;break;case Jd:case Xd:case Zd:M=Uy;break;case Fd:M=Iy;break;case"scroll":case"scrollend":M=Oy;break;case"wheel":M=Jy;break;case"copy":case"cut":case"paste":M=zy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Cd;break;case"toggle":case"beforetoggle":M=Zy}var le=(t&4)!==0,De=!le&&(e==="scroll"||e==="scrollend"),A=le?z!==null?z+"Capture":null:z;le=[];for(var T=U,k;T!==null;){var $=T;if(k=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||k===null||A===null||($=ir(T,A),$!=null&&le.push(qr(T,$,k))),De)break;T=T.return}0<le.length&&(z=new M(z,F,null,a,q),G.push({event:z,listeners:le}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",z&&a!==ho&&(F=a.relatedTarget||a.fromElement)&&(ts(F)||F[es]))break e;if((M||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,M?(F=a.relatedTarget||a.toElement,M=U,F=F?ts(F):null,F!==null&&(De=c(F),le=F.tag,F!==De||le!==5&&le!==27&&le!==6)&&(F=null)):(M=null,F=U),M!==F)){if(le=Od,$="onMouseLeave",A="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(le=Cd,$="onPointerLeave",A="onPointerEnter",T="pointer"),De=M==null?z:rr(M),k=F==null?z:rr(F),z=new le($,T+"leave",M,a,q),z.target=De,z.relatedTarget=k,$=null,ts(q)===U&&(le=new le(A,T+"enter",F,a,q),le.target=k,le.relatedTarget=De,$=le),De=$,M&&F)t:{for(le=Xb,A=M,T=F,k=0,$=A;$;$=le($))k++;$=0;for(var ne=T;ne;ne=le(ne))$++;for(;0<k-$;)A=le(A),k--;for(;0<$-k;)T=le(T),$--;for(;k--;){if(A===T||T!==null&&A===T.alternate){le=A;break t}A=le(A),T=le(T)}le=null}else le=null;M!==null&&_m(G,z,M,le,!1),F!==null&&De!==null&&_m(G,De,F,le,!0)}}e:{if(z=U?rr(U):window,M=z.nodeName&&z.nodeName.toLowerCase(),M==="select"||M==="input"&&z.type==="file")var Se=Ld;else if(Md(z))if(qd)Se=lb;else{Se=rb;var te=sb}else M=z.nodeName,!M||M.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&co(U.elementType)&&(Se=Ld):Se=ib;if(Se&&(Se=Se(e,U))){Bd(G,Se,a,q);break e}te&&te(e,z,U),e==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&uo(z,"number",z.value)}switch(te=U?rr(U):window,e){case"focusin":(Md(te)||te.contentEditable==="true")&&(cs=te,Eo=U,mr=null);break;case"focusout":mr=Eo=cs=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,Id(G,a,q);break;case"selectionchange":if(ub)break;case"keydown":case"keyup":Id(G,a,q)}var me;if(wo)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else us?Dd(e,a)&&(xe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Rd&&a.locale!=="ko"&&(us||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&us&&(me=Nd()):(Pa=q,po="value"in Pa?Pa.value:Pa.textContent,us=!0)),te=hl(U,xe),0<te.length&&(xe=new Ad(xe,e,null,a,q),G.push({event:xe,listeners:te}),me?xe.data=me:(me=zd(a),me!==null&&(xe.data=me)))),(me=Wy?eb(e,a):tb(e,a))&&(xe=hl(U,"onBeforeInput"),0<xe.length&&(te=new Ad("onBeforeInput","beforeinput",null,a,q),G.push({event:te,listeners:xe}),te.data=me)),Kb(G,e,U,a,q)}xm(G,t)})}function qr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function hl(e,t){for(var a=t+"Capture",r=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=ir(e,a),o!=null&&r.unshift(qr(e,o,d)),o=ir(e,t),o!=null&&r.push(qr(e,o,d))),e.tag===3)return r;e=e.return}return[]}function Xb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _m(e,t,a,r,o){for(var d=t._reactName,p=[];a!==null&&a!==r;){var b=a,S=b.alternate,U=b.stateNode;if(b=b.tag,S!==null&&S===r)break;b!==5&&b!==26&&b!==27||U===null||(S=U,o?(U=ir(a,d),U!=null&&p.unshift(qr(a,U,S))):o||(U=ir(a,d),U!=null&&p.push(qr(a,U,S)))),a=a.return}p.length!==0&&e.push({event:t,listeners:p})}var Zb=/\r\n?/g,Fb=/\u0000|\uFFFD/g;function Sm(e){return(typeof e=="string"?e:""+e).replace(Zb,`
`).replace(Fb,"")}function jm(e,t){return t=Sm(t),Sm(e)===t}function Ue(e,t,a,r,o,d){switch(a){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||is(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&is(e,""+r);break;case"className":pi(e,"class",r);break;case"tabIndex":pi(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(e,a,r);break;case"style":Sd(e,r,d);break;case"data":if(t!=="object"){pi(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=bi(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&Ue(e,t,"name",o.name,o,null),Ue(e,t,"formEncType",o.formEncType,o,null),Ue(e,t,"formMethod",o.formMethod,o,null),Ue(e,t,"formTarget",o.formTarget,o,null)):(Ue(e,t,"encType",o.encType,o,null),Ue(e,t,"method",o.method,o,null),Ue(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=bi(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=ba);break;case"onScroll":r!=null&&be("scroll",e);break;case"onScrollEnd":r!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=bi(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":be("beforetoggle",e),be("toggle",e),gi(e,"popover",r);break;case"xlinkActuate":ya(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ya(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ya(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ya(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ya(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ya(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ya(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ya(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ya(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":gi(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ny.get(a)||a,gi(e,a,r))}}function Zu(e,t,a,r,o,d){switch(a){case"style":Sd(e,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof r=="string"?is(e,r):(typeof r=="number"||typeof r=="bigint")&&is(e,""+r);break;case"onScroll":r!=null&&be("scroll",e);break;case"onScrollEnd":r!=null&&be("scrollend",e);break;case"onClick":r!=null&&(e.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!md.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),d=e[_t]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof r=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,r,o);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):gi(e,a,r)}}}function mt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var r=!1,o=!1,d;for(d in a)if(a.hasOwnProperty(d)){var p=a[d];if(p!=null)switch(d){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ue(e,t,d,p,a,null)}}o&&Ue(e,t,"srcSet",a.srcSet,a,null),r&&Ue(e,t,"src",a.src,a,null);return;case"input":be("invalid",e);var b=d=p=o=null,S=null,U=null;for(r in a)if(a.hasOwnProperty(r)){var q=a[r];if(q!=null)switch(r){case"name":o=q;break;case"type":p=q;break;case"checked":S=q;break;case"defaultChecked":U=q;break;case"value":d=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,t));break;default:Ue(e,t,r,q,a,null)}}vd(e,d,b,S,U,p,o,!1);return;case"select":be("invalid",e),r=p=d=null;for(o in a)if(a.hasOwnProperty(o)&&(b=a[o],b!=null))switch(o){case"value":d=b;break;case"defaultValue":p=b;break;case"multiple":r=b;default:Ue(e,t,o,b,a,null)}t=d,a=p,e.multiple=!!r,t!=null?rs(e,!!r,t,!1):a!=null&&rs(e,!!r,a,!0);return;case"textarea":be("invalid",e),d=o=r=null;for(p in a)if(a.hasOwnProperty(p)&&(b=a[p],b!=null))switch(p){case"value":r=b;break;case"defaultValue":o=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:Ue(e,t,p,b,a,null)}wd(e,r,o,d);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(r=a[S],r!=null))switch(S){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ue(e,t,S,r,a,null)}return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(r=0;r<Lr.length;r++)be(Lr[r],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(r=a[U],r!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ue(e,t,U,r,a,null)}return;default:if(co(t)){for(q in a)a.hasOwnProperty(q)&&(r=a[q],r!==void 0&&Zu(e,t,q,r,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(r=a[b],r!=null&&Ue(e,t,b,r,a,null))}function Wb(e,t,a,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,p=null,b=null,S=null,U=null,q=null;for(M in a){var G=a[M];if(a.hasOwnProperty(M)&&G!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":S=G;default:r.hasOwnProperty(M)||Ue(e,t,M,null,r,G)}}for(var z in r){var M=r[z];if(G=a[z],r.hasOwnProperty(z)&&(M!=null||G!=null))switch(z){case"type":d=M;break;case"name":o=M;break;case"checked":U=M;break;case"defaultChecked":q=M;break;case"value":p=M;break;case"defaultValue":b=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(l(137,t));break;default:M!==G&&Ue(e,t,z,M,r,G)}}oo(e,p,b,S,U,q,d,o);return;case"select":M=p=b=z=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":M=S;default:r.hasOwnProperty(d)||Ue(e,t,d,null,r,S)}for(o in r)if(d=r[o],S=a[o],r.hasOwnProperty(o)&&(d!=null||S!=null))switch(o){case"value":z=d;break;case"defaultValue":b=d;break;case"multiple":p=d;default:d!==S&&Ue(e,t,o,d,r,S)}t=b,a=p,r=M,z!=null?rs(e,!!a,z,!1):!!r!=!!a&&(t!=null?rs(e,!!a,t,!0):rs(e,!!a,a?[]:"",!1));return;case"textarea":M=z=null;for(b in a)if(o=a[b],a.hasOwnProperty(b)&&o!=null&&!r.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ue(e,t,b,null,r,o)}for(p in r)if(o=r[p],d=a[p],r.hasOwnProperty(p)&&(o!=null||d!=null))switch(p){case"value":z=o;break;case"defaultValue":M=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==d&&Ue(e,t,p,o,r,d)}xd(e,z,M);return;case"option":for(var F in a)if(z=a[F],a.hasOwnProperty(F)&&z!=null&&!r.hasOwnProperty(F))switch(F){case"selected":e.selected=!1;break;default:Ue(e,t,F,null,r,z)}for(S in r)if(z=r[S],M=a[S],r.hasOwnProperty(S)&&z!==M&&(z!=null||M!=null))switch(S){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Ue(e,t,S,z,r,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in a)z=a[le],a.hasOwnProperty(le)&&z!=null&&!r.hasOwnProperty(le)&&Ue(e,t,le,null,r,z);for(U in r)if(z=r[U],M=a[U],r.hasOwnProperty(U)&&z!==M&&(z!=null||M!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:Ue(e,t,U,z,r,M)}return;default:if(co(t)){for(var De in a)z=a[De],a.hasOwnProperty(De)&&z!==void 0&&!r.hasOwnProperty(De)&&Zu(e,t,De,void 0,r,z);for(q in r)z=r[q],M=a[q],!r.hasOwnProperty(q)||z===M||z===void 0&&M===void 0||Zu(e,t,q,z,r,M);return}}for(var A in a)z=a[A],a.hasOwnProperty(A)&&z!=null&&!r.hasOwnProperty(A)&&Ue(e,t,A,null,r,z);for(G in r)z=r[G],M=a[G],!r.hasOwnProperty(G)||z===M||z==null&&M==null||Ue(e,t,G,z,r,M)}function Em(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ev(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var o=a[r],d=o.transferSize,p=o.initiatorType,b=o.duration;if(d&&b&&Em(p)){for(p=0,b=o.responseEnd,r+=1;r<a.length;r++){var S=a[r],U=S.startTime;if(U>b)break;var q=S.transferSize,G=S.initiatorType;q&&Em(G)&&(S=S.responseEnd,p+=q*(S<b?1:(b-U)/(S-U)))}if(--r,t+=8*(d+p)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Fu=null,Wu=null;function fl(e){return e.nodeType===9?e:e.ownerDocument}function Nm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ec(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tc=null;function tv(){var e=window.event;return e&&e.type==="popstate"?e===tc?!1:(tc=e,!0):(tc=null,!1)}var Om=typeof setTimeout=="function"?setTimeout:void 0,av=typeof clearTimeout=="function"?clearTimeout:void 0,Am=typeof Promise=="function"?Promise:void 0,nv=typeof queueMicrotask=="function"?queueMicrotask:typeof Am<"u"?function(e){return Am.resolve(null).then(e).catch(sv)}:Om;function sv(e){setTimeout(function(){throw e})}function un(e){return e==="head"}function Cm(e,t){var a=t,r=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(r===0){e.removeChild(o),Bs(t);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")Hr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Hr(a);for(var d=a.firstChild;d;){var p=d.nextSibling,b=d.nodeName;d[sr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=p}}else a==="body"&&Hr(e.ownerDocument.body);a=o}while(a);Bs(t)}function Rm(e,t){var a=e;e=0;do{var r=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=r}while(a)}function ac(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ac(a),io(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function rv(e,t,a,r){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[sr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Xt(e.nextSibling),e===null)break}return null}function iv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Xt(e.nextSibling),e===null))return null;return e}function km(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Xt(e.nextSibling),e===null))return null;return e}function nc(e){return e.data==="$?"||e.data==="$~"}function sc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function lv(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var r=function(){t(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var rc=null;function Um(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Xt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Dm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function zm(e,t,a){switch(t=fl(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Hr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);io(e)}var Zt=new Map,Mm=new Set;function ml(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Da=J.d;J.d={f:ov,r:uv,D:cv,C:dv,L:hv,m:fv,X:gv,S:mv,M:pv};function ov(){var e=Da.f(),t=rl();return e||t}function uv(e){var t=as(e);t!==null&&t.tag===5&&t.type==="form"?Fh(t):Da.r(e)}var Ds=typeof document>"u"?null:document;function Bm(e,t,a){var r=Ds;if(r&&typeof t=="string"&&t){var o=Vt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Mm.has(o)||(Mm.add(o),e={rel:e,crossOrigin:a,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),mt(t,"link",e),st(t),r.head.appendChild(t)))}}function cv(e){Da.D(e),Bm("dns-prefetch",e,null)}function dv(e,t){Da.C(e,t),Bm("preconnect",e,t)}function hv(e,t,a){Da.L(e,t,a);var r=Ds;if(r&&e&&t){var o='link[rel="preload"][as="'+Vt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Vt(a.imageSizes)+'"]')):o+='[href="'+Vt(e)+'"]';var d=o;switch(t){case"style":d=zs(e);break;case"script":d=Ms(e)}Zt.has(d)||(e=v({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Zt.set(d,e),r.querySelector(o)!==null||t==="style"&&r.querySelector($r(d))||t==="script"&&r.querySelector(Gr(d))||(t=r.createElement("link"),mt(t,"link",e),st(t),r.head.appendChild(t)))}}function fv(e,t){Da.m(e,t);var a=Ds;if(a&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Vt(r)+'"][href="'+Vt(e)+'"]',d=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ms(e)}if(!Zt.has(d)&&(e=v({rel:"modulepreload",href:e},t),Zt.set(d,e),a.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gr(d)))return}r=a.createElement("link"),mt(r,"link",e),st(r),a.head.appendChild(r)}}}function mv(e,t,a){Da.S(e,t,a);var r=Ds;if(r&&e){var o=ns(r).hoistableStyles,d=zs(e);t=t||"default";var p=o.get(d);if(!p){var b={loading:0,preload:null};if(p=r.querySelector($r(d)))b.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Zt.get(d))&&ic(e,a);var S=p=r.createElement("link");st(S),mt(S,"link",e),S._p=new Promise(function(U,q){S.onload=U,S.onerror=q}),S.addEventListener("load",function(){b.loading|=1}),S.addEventListener("error",function(){b.loading|=2}),b.loading|=4,gl(p,t,r)}p={type:"stylesheet",instance:p,count:1,state:b},o.set(d,p)}}}function gv(e,t){Da.X(e,t);var a=Ds;if(a&&e){var r=ns(a).hoistableScripts,o=Ms(e),d=r.get(o);d||(d=a.querySelector(Gr(o)),d||(e=v({src:e,async:!0},t),(t=Zt.get(o))&&lc(e,t),d=a.createElement("script"),st(d),mt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(o,d))}}function pv(e,t){Da.M(e,t);var a=Ds;if(a&&e){var r=ns(a).hoistableScripts,o=Ms(e),d=r.get(o);d||(d=a.querySelector(Gr(o)),d||(e=v({src:e,async:!0,type:"module"},t),(t=Zt.get(o))&&lc(e,t),d=a.createElement("script"),st(d),mt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(o,d))}}function Lm(e,t,a,r){var o=(o=fe.current)?ml(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=zs(a.href),a=ns(o).hoistableStyles,r=a.get(t),r||(r={type:"style",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=zs(a.href);var d=ns(o).hoistableStyles,p=d.get(e);if(p||(o=o.ownerDocument||o,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,p),(d=o.querySelector($r(e)))&&!d._p&&(p.instance=d,p.state.loading=5),Zt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zt.set(e,a),d||yv(o,e,a,p.state))),t&&r===null)throw Error(l(528,""));return p}if(t&&r!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ms(a),a=ns(o).hoistableScripts,r=a.get(t),r||(r={type:"script",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function zs(e){return'href="'+Vt(e)+'"'}function $r(e){return'link[rel="stylesheet"]['+e+"]"}function qm(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function yv(e,t,a,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),mt(t,"link",a),st(t),e.head.appendChild(t))}function Ms(e){return'[src="'+Vt(e)+'"]'}function Gr(e){return"script[async]"+e}function Hm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Vt(a.href)+'"]');if(r)return t.instance=r,st(r),r;var o=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),st(r),mt(r,"style",o),gl(r,a.precedence,e),t.instance=r;case"stylesheet":o=zs(a.href);var d=e.querySelector($r(o));if(d)return t.state.loading|=4,t.instance=d,st(d),d;r=qm(a),(o=Zt.get(o))&&ic(r,o),d=(e.ownerDocument||e).createElement("link"),st(d);var p=d;return p._p=new Promise(function(b,S){p.onload=b,p.onerror=S}),mt(d,"link",r),t.state.loading|=4,gl(d,a.precedence,e),t.instance=d;case"script":return d=Ms(a.src),(o=e.querySelector(Gr(d)))?(t.instance=o,st(o),o):(r=a,(o=Zt.get(d))&&(r=v({},a),lc(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),st(o),mt(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,gl(r,a.precedence,e));return t.instance}function gl(e,t,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,d=o,p=0;p<r.length;p++){var b=r[p];if(b.dataset.precedence===t)d=b;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function ic(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function lc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var pl=null;function $m(e,t,a){if(pl===null){var r=new Map,o=pl=new Map;o.set(a,r)}else o=pl,r=o.get(a),r||(r=new Map,o.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var d=a[o];if(!(d[sr]||d[ct]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var p=d.getAttribute(t)||"";p=e+p;var b=r.get(p);b?b.push(d):r.set(p,[d])}}return r}function Gm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function bv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Vm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function vv(e,t,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=zs(r.href),d=t.querySelector($r(o));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=yl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=d,st(d);return}d=t.ownerDocument||t,r=qm(r),(o=Zt.get(o))&&ic(r,o),d=d.createElement("link"),st(d);var p=d;p._p=new Promise(function(b,S){p.onload=b,p.onerror=S}),mt(d,"link",r),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=yl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var oc=0;function xv(e,t){return e.stylesheets&&e.count===0&&vl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var r=setTimeout(function(){if(e.stylesheets&&vl(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&oc===0&&(oc=62500*ev());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vl(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>oc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function yl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bl=null;function vl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bl=new Map,t.forEach(wv,e),bl=null,yl.call(e))}function wv(e,t){if(!(t.state.loading&4)){var a=bl.get(e);if(a)var r=a.get(null);else{a=new Map,bl.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var p=o[d];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),r=p)}r&&a.set(null,r)}o=t.instance,p=o.getAttribute("data-precedence"),d=a.get(p)||r,d===r&&a.set(null,o),a.set(p,o),this.count++,r=yl.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Vr={$$typeof:B,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function _v(e,t,a,r,o,d,p,b,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=j(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j(0),this.hiddenUpdates=j(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Ym(e,t,a,r,o,d,p,b,S,U,q,G){return e=new _v(e,t,a,p,S,U,q,G,b),t=1,d===!0&&(t|=24),d=Rt(3,null,null,t),e.current=d,d.stateNode=e,t=$o(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:r,isDehydrated:a,cache:t},Po(d),e}function Pm(e){return e?(e=fs,e):fs}function Km(e,t,a,r,o,d){o=Pm(o),r.context===null?r.context=o:r.pendingContext=o,r=Za(t),r.payload={element:a},d=d===void 0?null:d,d!==null&&(r.callback=d),a=Fa(e,r,t),a!==null&&(Ot(a,e,t),wr(a,e,t))}function Im(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function uc(e,t){Im(e,t),(e=e.alternate)&&Im(e,t)}function Qm(e){if(e.tag===13||e.tag===31){var t=Nn(e,67108864);t!==null&&Ot(t,e,67108864),uc(e,67108864)}}function Jm(e){if(e.tag===13||e.tag===31){var t=Mt();t=no(t);var a=Nn(e,t);a!==null&&Ot(a,e,t),uc(e,t)}}var xl=!0;function Sv(e,t,a,r){var o=H.T;H.T=null;var d=J.p;try{J.p=2,cc(e,t,a,r)}finally{J.p=d,H.T=o}}function jv(e,t,a,r){var o=H.T;H.T=null;var d=J.p;try{J.p=8,cc(e,t,a,r)}finally{J.p=d,H.T=o}}function cc(e,t,a,r){if(xl){var o=dc(r);if(o===null)Xu(e,t,r,wl,a),Zm(e,r);else if(Nv(o,e,t,a,r))r.stopPropagation();else if(Zm(e,r),t&4&&-1<Ev.indexOf(e)){for(;o!==null;){var d=as(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var p=$t(d.pendingLanes);if(p!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var S=1<<31-vt(p);b.entanglements[1]|=S,p&=~S}fa(d),(Te&6)===0&&(nl=nt()+500,Br(0))}}break;case 31:case 13:b=Nn(d,2),b!==null&&Ot(b,d,2),rl(),uc(d,2)}if(d=dc(r),d===null&&Xu(e,t,r,wl,a),d===o)break;o=d}o!==null&&r.stopPropagation()}else Xu(e,t,r,null,a)}}function dc(e){return e=fo(e),hc(e)}var wl=null;function hc(e){if(wl=null,e=ts(e),e!==null){var t=c(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return wl=e,null}function Xm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case nr:return 2;case hi:return 8;case Xn:case eo:return 32;case Zn:return 268435456;default:return 32}default:return 32}}var fc=!1,cn=null,dn=null,hn=null,Yr=new Map,Pr=new Map,fn=[],Ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zm(e,t){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":Yr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(t.pointerId)}}function Kr(e,t,a,r,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:r,nativeEvent:d,targetContainers:[o]},t!==null&&(t=as(t),t!==null&&Qm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Nv(e,t,a,r,o){switch(t){case"focusin":return cn=Kr(cn,e,t,a,r,o),!0;case"dragenter":return dn=Kr(dn,e,t,a,r,o),!0;case"mouseover":return hn=Kr(hn,e,t,a,r,o),!0;case"pointerover":var d=o.pointerId;return Yr.set(d,Kr(Yr.get(d)||null,e,t,a,r,o)),!0;case"gotpointercapture":return d=o.pointerId,Pr.set(d,Kr(Pr.get(d)||null,e,t,a,r,o)),!0}return!1}function Fm(e){var t=ts(e.target);if(t!==null){var a=c(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,dd(e.priority,function(){Jm(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,dd(e.priority,function(){Jm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _l(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=dc(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);ho=r,a.target.dispatchEvent(r),ho=null}else return t=as(a),t!==null&&Qm(t),e.blockedOn=a,!1;t.shift()}return!0}function Wm(e,t,a){_l(e)&&a.delete(t)}function Tv(){fc=!1,cn!==null&&_l(cn)&&(cn=null),dn!==null&&_l(dn)&&(dn=null),hn!==null&&_l(hn)&&(hn=null),Yr.forEach(Wm),Pr.forEach(Wm)}function Sl(e,t){e.blockedOn===t&&(e.blockedOn=null,fc||(fc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Tv)))}var jl=null;function eg(e){jl!==e&&(jl=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){jl===e&&(jl=null);for(var t=0;t<e.length;t+=3){var a=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(hc(r||a)===null)continue;break}var d=as(a);d!==null&&(e.splice(t,3),t-=3,du(d,{pending:!0,data:o,method:a.method,action:r},r,o))}}))}function Bs(e){function t(S){return Sl(S,e)}cn!==null&&Sl(cn,e),dn!==null&&Sl(dn,e),hn!==null&&Sl(hn,e),Yr.forEach(t),Pr.forEach(t);for(var a=0;a<fn.length;a++){var r=fn[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<fn.length&&(a=fn[0],a.blockedOn===null);)Fm(a),a.blockedOn===null&&fn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var o=a[r],d=a[r+1],p=o[_t]||null;if(typeof d=="function")p||eg(a);else if(p){var b=null;if(d&&d.hasAttribute("formAction")){if(o=d,p=d[_t]||null)b=p.formAction;else if(hc(o)!==null)continue}else b=p.action;typeof b=="function"?a[r+1]=b:(a.splice(r,3),r-=3),eg(a)}}}function tg(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(p){return o=p})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function mc(e){this._internalRoot=e}El.prototype.render=mc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,r=Mt();Km(a,r,e,t,null,null)},El.prototype.unmount=mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Km(e.current,2,null,e,null,null),rl(),t[es]=null}};function El(e){this._internalRoot=e}El.prototype.unstable_scheduleHydration=function(e){if(e){var t=cd();e={blockedOn:null,target:e,priority:t};for(var a=0;a<fn.length&&t!==0&&t<fn[a].priority;a++);fn.splice(a,0,e),a===0&&Fm(e)}};var ag=n.version;if(ag!=="19.2.0")throw Error(l(527,ag,"19.2.0"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Ov={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{vn=Nl.inject(Ov),bt=Nl}catch{}}return Qr.createRoot=function(e,t){if(!u(e))throw Error(l(299));var a=!1,r="",o=uf,d=cf,p=df;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Ym(e,1,!1,null,null,a,r,null,o,d,p,tg),e[es]=t.current,Ju(e),new mc(t)},Qr.hydrateRoot=function(e,t,a){if(!u(e))throw Error(l(299));var r=!1,o="",d=uf,p=cf,b=df,S=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),t=Ym(e,1,!0,t,a??null,r,o,S,d,p,b,tg),t.context=Pm(null),a=t.current,r=Mt(),r=no(r),o=Za(r),o.callback=null,Fa(a,o,r),a=r,t.current.lanes=a,Y(t,a),fa(t),e[es]=t.current,Ju(e),new El(t)},Qr.version="19.2.0",Qr}var hg;function Hv(){if(hg)return yc.exports;hg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),yc.exports=qv(),yc.exports}var $v=Hv();var fg="popstate";function Gv(i={}){function n(l,u){let{pathname:c,search:f,hash:g}=l.location;return Uc("",{pathname:c,search:f,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function s(l,u){return typeof u=="string"?u:ei(u)}return Yv(n,s,null,i)}function Ve(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function la(i,n){if(!i){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Vv(){return Math.random().toString(36).substring(2,10)}function mg(i,n){return{usr:i.state,key:i.key,idx:n}}function Uc(i,n,s=null,l){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof n=="string"?Xs(n):n,state:s,key:n&&n.key||l||Vv()}}function ei({pathname:i="/",search:n="",hash:s=""}){return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(i+=s.charAt(0)==="#"?s:"#"+s),i}function Xs(i){let n={};if(i){let s=i.indexOf("#");s>=0&&(n.hash=i.substring(s),i=i.substring(0,s));let l=i.indexOf("?");l>=0&&(n.search=i.substring(l),i=i.substring(0,l)),i&&(n.pathname=i)}return n}function Yv(i,n,s,l={}){let{window:u=document.defaultView,v5Compat:c=!1}=l,f=u.history,g="POP",m=null,y=x();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function x(){return(f.state||{idx:null}).idx}function v(){g="POP";let C=x(),D=C==null?null:C-y;y=C,m&&m({action:g,location:O.location,delta:D})}function w(C,D){g="PUSH";let L=Uc(O.location,C,D);y=x()+1;let B=mg(L,y),Q=O.createHref(L);try{f.pushState(B,"",Q)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;u.location.assign(Q)}c&&m&&m({action:g,location:O.location,delta:1})}function _(C,D){g="REPLACE";let L=Uc(O.location,C,D);y=x();let B=mg(L,y),Q=O.createHref(L);f.replaceState(B,"",Q),c&&m&&m({action:g,location:O.location,delta:0})}function N(C){return Pv(C)}let O={get action(){return g},get location(){return i(u,f)},listen(C){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(fg,v),m=C,()=>{u.removeEventListener(fg,v),m=null}},createHref(C){return n(u,C)},createURL:N,encodeLocation(C){let D=N(C);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:_,go(C){return f.go(C)}};return O}function Pv(i,n=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(s,"No window.location.(origin|href) available to create URL");let l=typeof i=="string"?i:ei(i);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function ap(i,n,s="/"){return Kv(i,n,s,!1)}function Kv(i,n,s,l){let u=typeof n=="string"?Xs(n):n,c=Ba(u.pathname||"/",s);if(c==null)return null;let f=np(i);Iv(f);let g=null;for(let m=0;g==null&&m<f.length;++m){let y=s0(c);g=a0(f[m],y,l)}return g}function np(i,n=[],s=[],l="",u=!1){let c=(f,g,m=u,y)=>{let x={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(l)&&m)return;Ve(x.relativePath.startsWith(l),`Absolute route path "${x.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(l.length)}let v=Ma([l,x.relativePath]),w=s.concat(x);f.children&&f.children.length>0&&(Ve(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),np(f.children,n,w,v,m)),!(f.path==null&&!f.index)&&n.push({path:v,score:e0(v,f.index),routesMeta:w})};return i.forEach((f,g)=>{if(f.path===""||!f.path?.includes("?"))c(f,g);else for(let m of sp(f.path))c(f,g,!0,m)}),n}function sp(i){let n=i.split("/");if(n.length===0)return[];let[s,...l]=n,u=s.endsWith("?"),c=s.replace(/\?$/,"");if(l.length===0)return u?[c,""]:[c];let f=sp(l.join("/")),g=[];return g.push(...f.map(m=>m===""?c:[c,m].join("/"))),u&&g.push(...f),g.map(m=>i.startsWith("/")&&m===""?"/":m)}function Iv(i){i.sort((n,s)=>n.score!==s.score?s.score-n.score:t0(n.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var Qv=/^:[\w-]+$/,Jv=3,Xv=2,Zv=1,Fv=10,Wv=-2,gg=i=>i==="*";function e0(i,n){let s=i.split("/"),l=s.length;return s.some(gg)&&(l+=Wv),n&&(l+=Xv),s.filter(u=>!gg(u)).reduce((u,c)=>u+(Qv.test(c)?Jv:c===""?Zv:Fv),l)}function t0(i,n){return i.length===n.length&&i.slice(0,-1).every((l,u)=>l===n[u])?i[i.length-1]-n[n.length-1]:0}function a0(i,n,s=!1){let{routesMeta:l}=i,u={},c="/",f=[];for(let g=0;g<l.length;++g){let m=l[g],y=g===l.length-1,x=c==="/"?n:n.slice(c.length)||"/",v=Gl({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},x),w=m.route;if(!v&&y&&s&&!l[l.length-1].route.index&&(v=Gl({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!v)return null;Object.assign(u,v.params),f.push({params:u,pathname:Ma([c,v.pathname]),pathnameBase:u0(Ma([c,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(c=Ma([c,v.pathnameBase]))}return f}function Gl(i,n){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,l]=n0(i.path,i.caseSensitive,i.end),u=n.match(s);if(!u)return null;let c=u[0],f=c.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:l.reduce((y,{paramName:x,isOptional:v},w)=>{if(x==="*"){let N=g[w]||"";f=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const _=g[w];return v&&!_?y[x]=void 0:y[x]=(_||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:i}}function n0(i,n=!1,s=!0){la(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let l=[],u="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,m)=>(l.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(l.push({paramName:"*"}),u+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?u+="\\/*$":i!==""&&i!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),l]}function s0(i){try{return i.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return la(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),i}}function Ba(i,n){if(n==="/")return i;if(!i.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,l=i.charAt(s);return l&&l!=="/"?null:i.slice(s)||"/"}var r0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i0=i=>r0.test(i);function l0(i,n="/"){let{pathname:s,search:l="",hash:u=""}=typeof i=="string"?Xs(i):i,c;if(s)if(i0(s))c=s;else{if(s.includes("//")){let f=s;s=s.replace(/\/\/+/g,"/"),la(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${s}`)}s.startsWith("/")?c=pg(s.substring(1),"/"):c=pg(s,n)}else c=n;return{pathname:c,search:c0(l),hash:d0(u)}}function pg(i,n){let s=n.replace(/\/+$/,"").split("/");return i.split("/").forEach(u=>{u===".."?s.length>1&&s.pop():u!=="."&&s.push(u)}),s.length>1?s.join("/"):"/"}function wc(i,n,s,l){return`Cannot include a '${i}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function o0(i){return i.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function rp(i){let n=o0(i);return n.map((s,l)=>l===n.length-1?s.pathname:s.pathnameBase)}function ip(i,n,s,l=!1){let u;typeof i=="string"?u=Xs(i):(u={...i},Ve(!u.pathname||!u.pathname.includes("?"),wc("?","pathname","search",u)),Ve(!u.pathname||!u.pathname.includes("#"),wc("#","pathname","hash",u)),Ve(!u.search||!u.search.includes("#"),wc("#","search","hash",u)));let c=i===""||u.pathname==="",f=c?"/":u.pathname,g;if(f==null)g=s;else{let v=n.length-1;if(!l&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),v-=1;u.pathname=w.join("/")}g=v>=0?n[v]:"/"}let m=l0(u,g),y=f&&f!=="/"&&f.endsWith("/"),x=(c||f===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(y||x)&&(m.pathname+="/"),m}var Ma=i=>i.join("/").replace(/\/\/+/g,"/"),u0=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),c0=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,d0=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function h0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lp=["POST","PUT","PATCH","DELETE"];new Set(lp);var f0=["GET",...lp];new Set(f0);var Zs=R.createContext(null);Zs.displayName="DataRouter";var Ql=R.createContext(null);Ql.displayName="DataRouterState";R.createContext(!1);var op=R.createContext({isTransitioning:!1});op.displayName="ViewTransition";var m0=R.createContext(new Map);m0.displayName="Fetchers";var g0=R.createContext(null);g0.displayName="Await";var ma=R.createContext(null);ma.displayName="Navigation";var ri=R.createContext(null);ri.displayName="Location";var La=R.createContext({outlet:null,matches:[],isDataRoute:!1});La.displayName="Route";var Jc=R.createContext(null);Jc.displayName="RouteError";function p0(i,{relative:n}={}){Ve(ii(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=R.useContext(ma),{hash:u,pathname:c,search:f}=li(i,{relative:n}),g=c;return s!=="/"&&(g=c==="/"?s:Ma([s,c])),l.createHref({pathname:g,search:f,hash:u})}function ii(){return R.useContext(ri)!=null}function Kn(){return Ve(ii(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(ri).location}var up="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cp(i){R.useContext(ma).static||R.useLayoutEffect(i)}function y0(){let{isDataRoute:i}=R.useContext(La);return i?C0():b0()}function b0(){Ve(ii(),"useNavigate() may be used only in the context of a <Router> component.");let i=R.useContext(Zs),{basename:n,navigator:s}=R.useContext(ma),{matches:l}=R.useContext(La),{pathname:u}=Kn(),c=JSON.stringify(rp(l)),f=R.useRef(!1);return cp(()=>{f.current=!0}),R.useCallback((m,y={})=>{if(la(f.current,up),!f.current)return;if(typeof m=="number"){s.go(m);return}let x=ip(m,JSON.parse(c),u,y.relative==="path");i==null&&n!=="/"&&(x.pathname=x.pathname==="/"?n:Ma([n,x.pathname])),(y.replace?s.replace:s.push)(x,y.state,y)},[n,s,c,u,i])}R.createContext(null);function li(i,{relative:n}={}){let{matches:s}=R.useContext(La),{pathname:l}=Kn(),u=JSON.stringify(rp(s));return R.useMemo(()=>ip(i,JSON.parse(u),l,n==="path"),[i,u,l,n])}function v0(i,n){return dp(i,n)}function dp(i,n,s,l,u){Ve(ii(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=R.useContext(ma),{matches:f}=R.useContext(La),g=f[f.length-1],m=g?g.params:{},y=g?g.pathname:"/",x=g?g.pathnameBase:"/",v=g&&g.route;{let L=v&&v.path||"";hp(y,!v||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let w=Kn(),_;if(n){let L=typeof n=="string"?Xs(n):n;Ve(x==="/"||L.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${L.pathname}" was given in the \`location\` prop.`),_=L}else _=w;let N=_.pathname||"/",O=N;if(x!=="/"){let L=x.replace(/^\//,"").split("/");O="/"+N.replace(/^\//,"").split("/").slice(L.length).join("/")}let C=ap(i,{pathname:O});la(v||C!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),la(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=j0(C&&C.map(L=>Object.assign({},L,{params:Object.assign({},m,L.params),pathname:Ma([x,c.encodeLocation?c.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?x:Ma([x,c.encodeLocation?c.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),f,s,l,u);return n&&D?R.createElement(ri.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},D):D}function x0(){let i=A0(),n=h0(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:c},"ErrorBoundary")," or"," ",R.createElement("code",{style:c},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},n),s?R.createElement("pre",{style:u},s):null,f)}var w0=R.createElement(x0,null),_0=class extends R.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,n){return n.location!==i.location||n.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:n.error,location:n.location,revalidation:i.revalidation||n.revalidation}}componentDidCatch(i,n){this.props.onError?this.props.onError(i,n):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?R.createElement(La.Provider,{value:this.props.routeContext},R.createElement(Jc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function S0({routeContext:i,match:n,children:s}){let l=R.useContext(Zs);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(La.Provider,{value:i},s)}function j0(i,n=[],s=null,l=null,u=null){if(i==null){if(!s)return null;if(s.errors)i=s.matches;else if(n.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let c=i,f=s?.errors;if(f!=null){let x=c.findIndex(v=>v.route.id&&f?.[v.route.id]!==void 0);Ve(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let g=!1,m=-1;if(s)for(let x=0;x<c.length;x++){let v=c[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=x),v.route.id){let{loaderData:w,errors:_}=s,N=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||N){g=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let y=s&&l?(x,v)=>{l(x,{location:s.location,params:s.matches?.[0]?.params??{},errorInfo:v})}:void 0;return c.reduceRight((x,v,w)=>{let _,N=!1,O=null,C=null;s&&(_=f&&v.route.id?f[v.route.id]:void 0,O=v.route.errorElement||w0,g&&(m<0&&w===0?(hp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,C=null):m===w&&(N=!0,C=v.route.hydrateFallbackElement||null)));let D=n.concat(c.slice(0,w+1)),L=()=>{let B;return _?B=O:N?B=C:v.route.Component?B=R.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=x,R.createElement(S0,{match:v,routeContext:{outlet:x,matches:D,isDataRoute:s!=null},children:B})};return s&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?R.createElement(_0,{location:s.location,revalidation:s.revalidation,component:O,error:_,children:L(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:y}):L()},null)}function Xc(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E0(i){let n=R.useContext(Zs);return Ve(n,Xc(i)),n}function N0(i){let n=R.useContext(Ql);return Ve(n,Xc(i)),n}function T0(i){let n=R.useContext(La);return Ve(n,Xc(i)),n}function Zc(i){let n=T0(i),s=n.matches[n.matches.length-1];return Ve(s.route.id,`${i} can only be used on routes that contain a unique "id"`),s.route.id}function O0(){return Zc("useRouteId")}function A0(){let i=R.useContext(Jc),n=N0("useRouteError"),s=Zc("useRouteError");return i!==void 0?i:n.errors?.[s]}function C0(){let{router:i}=E0("useNavigate"),n=Zc("useNavigate"),s=R.useRef(!1);return cp(()=>{s.current=!0}),R.useCallback(async(u,c={})=>{la(s.current,up),s.current&&(typeof u=="number"?i.navigate(u):await i.navigate(u,{fromRouteId:n,...c}))},[i,n])}var yg={};function hp(i,n,s){!n&&!yg[i]&&(yg[i]=!0,la(!1,s))}R.memo(R0);function R0({routes:i,future:n,state:s,unstable_onError:l}){return dp(i,void 0,s,l,n)}function Ps(i){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function k0({basename:i="/",children:n=null,location:s,navigationType:l="POP",navigator:u,static:c=!1}){Ve(!ii(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),g=R.useMemo(()=>({basename:f,navigator:u,static:c,future:{}}),[f,u,c]);typeof s=="string"&&(s=Xs(s));let{pathname:m="/",search:y="",hash:x="",state:v=null,key:w="default"}=s,_=R.useMemo(()=>{let N=Ba(m,f);return N==null?null:{location:{pathname:N,search:y,hash:x,state:v,key:w},navigationType:l}},[f,m,y,x,v,w,l]);return la(_!=null,`<Router basename="${f}"> is not able to match the URL "${m}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:R.createElement(ma.Provider,{value:g},R.createElement(ri.Provider,{children:n,value:_}))}function U0({children:i,location:n}){return v0(Dc(i),n)}function Dc(i,n=[]){let s=[];return R.Children.forEach(i,(l,u)=>{if(!R.isValidElement(l))return;let c=[...n,u];if(l.type===R.Fragment){s.push.apply(s,Dc(l.props.children,c));return}Ve(l.type===Ps,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=Dc(l.props.children,c)),s.push(f)}),s}var Hl="get",$l="application/x-www-form-urlencoded";function Jl(i){return i!=null&&typeof i.tagName=="string"}function D0(i){return Jl(i)&&i.tagName.toLowerCase()==="button"}function z0(i){return Jl(i)&&i.tagName.toLowerCase()==="form"}function M0(i){return Jl(i)&&i.tagName.toLowerCase()==="input"}function B0(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function L0(i,n){return i.button===0&&(!n||n==="_self")&&!B0(i)}var Tl=null;function q0(){if(Tl===null)try{new FormData(document.createElement("form"),0),Tl=!1}catch{Tl=!0}return Tl}var H0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _c(i){return i!=null&&!H0.has(i)?(la(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$l}"`),null):i}function $0(i,n){let s,l,u,c,f;if(z0(i)){let g=i.getAttribute("action");l=g?Ba(g,n):null,s=i.getAttribute("method")||Hl,u=_c(i.getAttribute("enctype"))||$l,c=new FormData(i)}else if(D0(i)||M0(i)&&(i.type==="submit"||i.type==="image")){let g=i.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||g.getAttribute("action");if(l=m?Ba(m,n):null,s=i.getAttribute("formmethod")||g.getAttribute("method")||Hl,u=_c(i.getAttribute("formenctype"))||_c(g.getAttribute("enctype"))||$l,c=new FormData(g,i),!q0()){let{name:y,type:x,value:v}=i;if(x==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,v)}}else{if(Jl(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Hl,l=null,u=$l,f=i}return c&&u==="text/plain"&&(f=c,c=void 0),{action:l,method:s.toLowerCase(),encType:u,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fc(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function G0(i,n,s){let l=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return l.pathname==="/"?l.pathname=`_root.${s}`:n&&Ba(l.pathname,n)==="/"?l.pathname=`${n.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function V0(i,n){if(i.id in n)return n[i.id];try{let s=await import(i.module);return n[i.id]=s,s}catch(s){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Y0(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function P0(i,n,s){let l=await Promise.all(i.map(async u=>{let c=n.routes[u.route.id];if(c){let f=await V0(c,s);return f.links?f.links():[]}return[]}));return J0(l.flat(1).filter(Y0).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function bg(i,n,s,l,u,c){let f=(m,y)=>s[y]?m.route.id!==s[y].route.id:!0,g=(m,y)=>s[y].pathname!==m.pathname||s[y].route.path?.endsWith("*")&&s[y].params["*"]!==m.params["*"];return c==="assets"?n.filter((m,y)=>f(m,y)||g(m,y)):c==="data"?n.filter((m,y)=>{let x=l.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(f(m,y)||g(m,y))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function K0(i,n,{includeHydrateFallback:s}={}){return I0(i.map(l=>{let u=n.routes[l.route.id];if(!u)return[];let c=[u.module];return u.clientActionModule&&(c=c.concat(u.clientActionModule)),u.clientLoaderModule&&(c=c.concat(u.clientLoaderModule)),s&&u.hydrateFallbackModule&&(c=c.concat(u.hydrateFallbackModule)),u.imports&&(c=c.concat(u.imports)),c}).flat(1))}function I0(i){return[...new Set(i)]}function Q0(i){let n={},s=Object.keys(i).sort();for(let l of s)n[l]=i[l];return n}function J0(i,n){let s=new Set;return new Set(n),i.reduce((l,u)=>{let c=JSON.stringify(Q0(u));return s.has(c)||(s.add(c),l.push({key:c,link:u})),l},[])}function fp(){let i=R.useContext(Zs);return Fc(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function X0(){let i=R.useContext(Ql);return Fc(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Wc=R.createContext(void 0);Wc.displayName="FrameworkContext";function mp(){let i=R.useContext(Wc);return Fc(i,"You must render this element inside a <HydratedRouter> element"),i}function Z0(i,n){let s=R.useContext(Wc),[l,u]=R.useState(!1),[c,f]=R.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:y,onMouseLeave:x,onTouchStart:v}=n,w=R.useRef(null);R.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let O=D=>{D.forEach(L=>{f(L.isIntersecting)})},C=new IntersectionObserver(O,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[i]),R.useEffect(()=>{if(l){let O=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(O)}}},[l]);let _=()=>{u(!0)},N=()=>{u(!1),f(!1)};return s?i!=="intent"?[c,w,{}]:[c,w,{onFocus:Jr(g,_),onBlur:Jr(m,N),onMouseEnter:Jr(y,_),onMouseLeave:Jr(x,N),onTouchStart:Jr(v,_)}]:[!1,w,{}]}function Jr(i,n){return s=>{i&&i(s),s.defaultPrevented||n(s)}}function F0({page:i,...n}){let{router:s}=fp(),l=R.useMemo(()=>ap(s.routes,i,s.basename),[s.routes,i,s.basename]);return l?R.createElement(ex,{page:i,matches:l,...n}):null}function W0(i){let{manifest:n,routeModules:s}=mp(),[l,u]=R.useState([]);return R.useEffect(()=>{let c=!1;return P0(i,n,s).then(f=>{c||u(f)}),()=>{c=!0}},[i,n,s]),l}function ex({page:i,matches:n,...s}){let l=Kn(),{manifest:u,routeModules:c}=mp(),{basename:f}=fp(),{loaderData:g,matches:m}=X0(),y=R.useMemo(()=>bg(i,n,m,u,l,"data"),[i,n,m,u,l]),x=R.useMemo(()=>bg(i,n,m,u,l,"assets"),[i,n,m,u,l]),v=R.useMemo(()=>{if(i===l.pathname+l.search+l.hash)return[];let N=new Set,O=!1;if(n.forEach(D=>{let L=u.routes[D.route.id];!L||!L.hasLoader||(!y.some(B=>B.route.id===D.route.id)&&D.route.id in g&&c[D.route.id]?.shouldRevalidate||L.hasClientLoader?O=!0:N.add(D.route.id))}),N.size===0)return[];let C=G0(i,f,"data");return O&&N.size>0&&C.searchParams.set("_routes",n.filter(D=>N.has(D.route.id)).map(D=>D.route.id).join(",")),[C.pathname+C.search]},[f,g,l,u,y,n,i,c]),w=R.useMemo(()=>K0(x,u),[x,u]),_=W0(x);return R.createElement(R.Fragment,null,v.map(N=>R.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...s})),w.map(N=>R.createElement("link",{key:N,rel:"modulepreload",href:N,...s})),_.map(({key:N,link:O})=>R.createElement("link",{key:N,nonce:s.nonce,...O})))}function tx(...i){return n=>{i.forEach(s=>{typeof s=="function"?s(n):s!=null&&(s.current=n)})}}var gp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gp&&(window.__reactRouterVersion="7.9.6")}catch{}function ax({basename:i,children:n,window:s}){let l=R.useRef();l.current==null&&(l.current=Gv({window:s,v5Compat:!0}));let u=l.current,[c,f]=R.useState({action:u.action,location:u.location}),g=R.useCallback(m=>{R.startTransition(()=>f(m))},[f]);return R.useLayoutEffect(()=>u.listen(g),[u,g]),R.createElement(k0,{basename:i,children:n,location:c.location,navigationType:c.action,navigator:u})}var pp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wt=R.forwardRef(function({onClick:n,discover:s="render",prefetch:l="none",relative:u,reloadDocument:c,replace:f,state:g,target:m,to:y,preventScrollReset:x,viewTransition:v,...w},_){let{basename:N}=R.useContext(ma),O=typeof y=="string"&&pp.test(y),C,D=!1;if(typeof y=="string"&&O&&(C=y,gp))try{let ue=new URL(window.location.href),I=y.startsWith("//")?new URL(ue.protocol+y):new URL(y),ee=Ba(I.pathname,N);I.origin===ue.origin&&ee!=null?y=ee+I.search+I.hash:D=!0}catch{la(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=p0(y,{relative:u}),[B,Q,se]=Z0(l,w),P=ix(y,{replace:f,state:g,target:m,preventScrollReset:x,relative:u,viewTransition:v});function K(ue){n&&n(ue),ue.defaultPrevented||P(ue)}let ge=R.createElement("a",{...w,...se,href:C||L,onClick:D||c?n:K,ref:tx(_,Q),target:m,"data-discover":!O&&s==="render"?"true":void 0});return B&&!O?R.createElement(R.Fragment,null,ge,R.createElement(F0,{page:L})):ge});wt.displayName="Link";var nx=R.forwardRef(function({"aria-current":n="page",caseSensitive:s=!1,className:l="",end:u=!1,style:c,to:f,viewTransition:g,children:m,...y},x){let v=li(f,{relative:y.relative}),w=Kn(),_=R.useContext(Ql),{navigator:N,basename:O}=R.useContext(ma),C=_!=null&&dx(v)&&g===!0,D=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,L=w.pathname,B=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;s||(L=L.toLowerCase(),B=B?B.toLowerCase():null,D=D.toLowerCase()),B&&O&&(B=Ba(B,O)||B);const Q=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let se=L===D||!u&&L.startsWith(D)&&L.charAt(Q)==="/",P=B!=null&&(B===D||!u&&B.startsWith(D)&&B.charAt(D.length)==="/"),K={isActive:se,isPending:P,isTransitioning:C},ge=se?n:void 0,ue;typeof l=="function"?ue=l(K):ue=[l,se?"active":null,P?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(K):c;return R.createElement(wt,{...y,"aria-current":ge,className:ue,ref:x,style:I,to:f,viewTransition:g},typeof m=="function"?m(K):m)});nx.displayName="NavLink";var sx=R.forwardRef(({discover:i="render",fetcherKey:n,navigate:s,reloadDocument:l,replace:u,state:c,method:f=Hl,action:g,onSubmit:m,relative:y,preventScrollReset:x,viewTransition:v,...w},_)=>{let N=ux(),O=cx(g,{relative:y}),C=f.toLowerCase()==="get"?"get":"post",D=typeof g=="string"&&pp.test(g),L=B=>{if(m&&m(B),B.defaultPrevented)return;B.preventDefault();let Q=B.nativeEvent.submitter,se=Q?.getAttribute("formmethod")||f;N(Q||B.currentTarget,{fetcherKey:n,method:se,navigate:s,replace:u,state:c,relative:y,preventScrollReset:x,viewTransition:v})};return R.createElement("form",{ref:_,method:C,action:O,onSubmit:l?m:L,...w,"data-discover":!D&&i==="render"?"true":void 0})});sx.displayName="Form";function rx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yp(i){let n=R.useContext(Zs);return Ve(n,rx(i)),n}function ix(i,{target:n,replace:s,state:l,preventScrollReset:u,relative:c,viewTransition:f}={}){let g=y0(),m=Kn(),y=li(i,{relative:c});return R.useCallback(x=>{if(L0(x,n)){x.preventDefault();let v=s!==void 0?s:ei(m)===ei(y);g(i,{replace:v,state:l,preventScrollReset:u,relative:c,viewTransition:f})}},[m,g,y,s,l,n,i,u,c,f])}var lx=0,ox=()=>`__${String(++lx)}__`;function ux(){let{router:i}=yp("useSubmit"),{basename:n}=R.useContext(ma),s=O0();return R.useCallback(async(l,u={})=>{let{action:c,method:f,encType:g,formData:m,body:y}=$0(l,n);if(u.navigate===!1){let x=u.fetcherKey||ox();await i.fetch(x,s,u.action||c,{preventScrollReset:u.preventScrollReset,formData:m,body:y,formMethod:u.method||f,formEncType:u.encType||g,flushSync:u.flushSync})}else await i.navigate(u.action||c,{preventScrollReset:u.preventScrollReset,formData:m,body:y,formMethod:u.method||f,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:s,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,n,s])}function cx(i,{relative:n}={}){let{basename:s}=R.useContext(ma),l=R.useContext(La);Ve(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),c={...li(i||".",{relative:n})},f=Kn();if(i==null){c.search=f.search;let g=new URLSearchParams(c.search),m=g.getAll("index");if(m.some(x=>x==="")){g.delete("index"),m.filter(v=>v).forEach(v=>g.append("index",v));let x=g.toString();c.search=x?`?${x}`:""}}return(!i||i===".")&&u.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:Ma([s,c.pathname])),ei(c)}function dx(i,{relative:n}={}){let s=R.useContext(op);Ve(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=yp("useViewTransitionState"),u=li(i,{relative:n});if(!s.isTransitioning)return!1;let c=Ba(s.currentLocation.pathname,l)||s.currentLocation.pathname,f=Ba(s.nextLocation.pathname,l)||s.nextLocation.pathname;return Gl(u.pathname,f)!=null||Gl(u.pathname,c)!=null}const vg="whimsical-cart-v1",bp=R.createContext(),hx=(i,n)=>{switch(n.type){case"LOAD_CART":return{...i,items:n.payload||[]};case"ADD_TO_CART":{const s=i.items.find(u=>String(u.id)===String(n.payload.id)),l=n.payload.stock??1/0;if(s){const u=s.quantity+1;return u>l?i:{...i,items:i.items.map(c=>String(c.id)===String(n.payload.id)?{...c,quantity:u}:c)}}return l<=0?i:{...i,items:[...i.items,{...n.payload,quantity:1}]}}case"REMOVE_FROM_CART":return{...i,items:i.items.filter(s=>String(s.id)!==String(n.payload))};case"UPDATE_QUANTITY":return{...i,items:i.items.map(s=>s.id===n.payload.id?{...s,quantity:n.payload.quantity}:s)};case"CLEAR_CART":return{...i,items:[]};default:return i}};function fx({children:i}){const[n,s]=R.useReducer(hx,{items:[]});R.useEffect(()=>{try{const y=localStorage.getItem(vg);if(y){const x=JSON.parse(y);s({type:"LOAD_CART",payload:x})}}catch(y){console.warn("Failed to load cart from localStorage",y)}},[]),R.useEffect(()=>{try{localStorage.setItem(vg,JSON.stringify(n.items))}catch(y){console.warn("Failed to save cart to localStorage",y)}},[n.items]);const l=y=>(y.stock??1/0)<=0?{ok:!1,message:"Out of stock"}:(s({type:"ADD_TO_CART",payload:y}),{ok:!0}),u=y=>{s({type:"REMOVE_FROM_CART",payload:y})},c=(y,x,v=1/0)=>{if(x<=0){s({type:"REMOVE_FROM_CART",payload:y});return}x>v&&(x=v),s({type:"UPDATE_QUANTITY",payload:{id:y,quantity:x}})},f=()=>{s({type:"CLEAR_CART"})},g=()=>n.items.reduce((y,x)=>y+x.quantity,0),m=()=>n.items.reduce((y,x)=>y+x.price*x.quantity,0);return h.jsx(bp.Provider,{value:{items:n.items,addToCart:l,removeFromCart:u,updateQuantity:c,clearCart:f,getTotalItems:g,getTotalPrice:m},children:i})}function Xl(){const i=R.useContext(bp);if(!i)throw new Error("useCart must be used within a CartProvider");return i}const mx=()=>{const{getTotalItems:i}=Xl(),[n,s]=R.useState(!1),l=()=>{s(!n)},u=()=>{s(!1)};return h.jsx("header",{className:"bg-white/90 backdrop-blur shadow-sm sticky top-0 z-30",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"flex justify-between items-center h-16 sm:h-20",children:[h.jsxs(wt,{to:"/",className:"flex items-center space-x-2 sm:space-x-4 group flex-shrink-0 min-w-0",children:[h.jsx("img",{src:"/logo-whimsical.png",alt:"Whimsical by Achlys logo",className:"w-12 h-12 sm:w-16 sm:h-16 object-contain drop-shadow-sm group-hover:scale-105 transition-transform flex-shrink-0",loading:"lazy"}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("p",{className:"text-xs sm:text-sm tracking-[0.2em] sm:tracking-[0.3em] text-soft-brown truncate",children:"BY ACHLYS"}),h.jsx("p",{className:"text-base sm:text-2xl font-bold text-accent-red truncate",style:{fontFamily:"Georgia, serif"},children:"Whimsical"}),h.jsx("p",{className:"text-xs text-soft-brown uppercase whitespace-nowrap overflow-hidden text-ellipsis",children:"Fuzzy Petals & Keychains"})]})]}),h.jsxs("nav",{className:"hidden md:flex items-center space-x-6 text-sm font-medium",children:[h.jsx(wt,{to:"/",className:"text-soft-brown hover:text-accent-red transition-colors",children:"Home"}),h.jsx(wt,{to:"/products",className:"text-soft-brown hover:text-accent-red transition-colors",children:"Products"}),h.jsxs(wt,{to:"/cart",className:"relative text-soft-brown hover:text-accent-red transition-colors",children:["Cart",h.jsx("span",{className:"ml-2 inline-flex items-center justify-center rounded-full bg-muted-pink/40 px-2 py-0.5 text-xs text-soft-brown",children:i()})]}),h.jsx(wt,{to:"/products",className:"hidden lg:inline-flex items-center rounded-full bg-accent-red px-4 py-2 text-white font-semibold shadow-md hover:-translate-y-0.5 transition",children:"Shop Collection"}),h.jsx(wt,{to:"/admin",className:"inline-flex items-center rounded-full border border-beige/70 px-4 py-2 text-soft-brown hover:bg-muted-pink/30 hover:text-accent-red transition",children:"Admin Login"})]}),h.jsx("div",{className:"md:hidden",children:h.jsx("button",{onClick:l,className:"p-2 text-soft-brown hover:text-accent-red hover:bg-muted-pink/20 rounded-lg transition","aria-label":"Open navigation menu","aria-expanded":n,children:h.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),n&&h.jsxs("nav",{className:"md:hidden border-t border-muted-pink py-3 space-y-1 bg-white/95",children:[h.jsx(wt,{to:"/",onClick:u,className:"block px-4 py-3 text-soft-brown hover:text-accent-red hover:bg-muted-pink/20 rounded transition font-medium",children:"Home"}),h.jsx(wt,{to:"/products",onClick:u,className:"block px-4 py-3 text-soft-brown hover:text-accent-red hover:bg-muted-pink/20 rounded transition font-medium",children:"Products"}),h.jsxs(wt,{to:"/cart",onClick:u,className:"flex items-center justify-between px-4 py-3 text-soft-brown hover:text-accent-red hover:bg-muted-pink/20 rounded transition font-medium",children:[h.jsx("span",{children:"Cart"}),h.jsx("span",{className:"inline-flex items-center justify-center rounded-full bg-accent-red text-white px-2.5 py-1 text-sm font-semibold",children:i()})]}),h.jsx(wt,{to:"/products",onClick:u,className:"block px-4 py-3 text-white font-semibold bg-accent-red hover:bg-accent-red/90 rounded transition text-center",children:"Shop Collection"}),h.jsx(wt,{to:"/admin",onClick:u,className:"block px-4 py-3 text-soft-brown font-medium border-2 border-beige/70 hover:bg-muted-pink/30 hover:text-accent-red rounded transition text-center",children:"Admin Login"})]})]})})},gx=()=>h.jsx("footer",{className:"bg-white border-t border-muted-pink mt-12",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h3",{className:"text-2xl font-bold text-accent-red mb-2",style:{fontFamily:"Georgia, serif"},children:"Whimsical By Achlys"}),h.jsx("p",{className:"text-soft-brown mb-4",children:"FUZZY PETALS & KEYCHAINS"}),h.jsxs("div",{className:"flex justify-center space-x-6 mb-4",children:[h.jsx("a",{href:"#",className:"text-soft-brown hover:text-accent-red transition-colors",children:"About"}),h.jsx("a",{href:"#",className:"text-soft-brown hover:text-accent-red transition-colors",children:"Contact"}),h.jsx("a",{href:"#",className:"text-soft-brown hover:text-accent-red transition-colors",children:"Shipping"}),h.jsx("a",{href:"#",className:"text-soft-brown hover:text-accent-red transition-colors",children:"Returns"})]}),h.jsx("div",{className:"text-sm text-soft-brown",children:" 2023 Whimsical By Achlys. All rights reserved."})]})})}),Ft=(i=0)=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(Number(i)||0),Sc=(i,n="info",s=3e3)=>{try{if(typeof window>"u"||!document){console.log("Toast:",i);return}let l=document.getElementById("app-toasts");l||(l=document.createElement("div"),l.id="app-toasts",Object.assign(l.style,{position:"fixed",right:"1rem",top:"1rem",display:"flex",flexDirection:"column",gap:"0.5rem",zIndex:9999,pointerEvents:"none"}),document.body.appendChild(l));const u=document.createElement("div");u.textContent=i,Object.assign(u.style,{background:n==="error"?"#ef4444":n==="success"?"#10b981":"#111827",color:"white",padding:"10px 14px",borderRadius:"8px",boxShadow:"0 6px 18px rgba(0,0,0,0.12)",pointerEvents:"auto",maxWidth:"320px",fontSize:"14px",opacity:"1",transition:"opacity 300ms ease, transform 300ms ease",transform:"translateY(0)"}),l.appendChild(u),setTimeout(()=>{u.style.opacity="0",u.style.transform="translateY(-8px)",u.addEventListener("transitionend",()=>u.remove(),{once:!0})},s)}catch{console.log("Toast fallback:",i)}},px=(i,n="https://via.placeholder.com/400x300/F5E6D3/8B4513?text=Image")=>{if(typeof i!="string")return n;const s=i.startsWith("http://")||i.startsWith("https://"),l=i.startsWith("/");return!s&&!l||i.includes("via.placeholder.com")&&!i.startsWith("https://")?n:i},vp=({product:i})=>{const{addToCart:n}=Xl(),s=(i.stock??1/0)<=0,[l,u]=R.useState(!1),c=()=>{const m="https://via.placeholder.com/400x300/F5E6D3/8B4513?text=Whimsical+By+Achlys",y=i.image||m;return px(y,m)},f=()=>{if(s){Sc("This item is out of stock","error");return}const m=n(i);if(!m||!m.ok){Sc(m?.message||"Unable to add item to cart. It may be out of stock.","error");return}Sc("Added to cart","success")},g=()=>{console.warn("Failed to load product image:",i.image),u(!0)};return h.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden border border-beige/30 shadow-sm hover:shadow-lg transition-transform transform hover:-translate-y-1",children:[h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:l?"https://via.placeholder.com/600x420/F5E6D3/8B4513?text=Whimsical+By+Achlys":c(),alt:i.name,className:"w-full h-56 md:h-64 lg:h-64 object-cover",loading:"lazy",onError:g}),h.jsxs("div",{className:"absolute top-3 left-3 right-3 flex items-start justify-between gap-2 pointer-events-none",children:[s&&h.jsx("span",{className:"rounded-full bg-gray-600/90 px-3 py-1 text-xs font-semibold text-white shadow",children:"Out of Stock"}),(i.isNew??i.is_new)&&!s&&h.jsx("span",{className:"rounded-full bg-accent-red/90 px-3 py-1 text-xs font-semibold text-white shadow ml-auto",children:"New"}),(i.isNew??i.is_new)&&s&&h.jsx("span",{className:"rounded-full bg-accent-red/90 px-3 py-1 text-xs font-semibold text-white shadow",children:"New"})]}),((i.isLimitedStock??i.is_limited_stock)||(i.isFeatured??i.is_featured)||(i.isOnSale??i.is_on_sale))&&h.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex flex-wrap gap-2",children:[(i.isLimitedStock??i.is_limited_stock)&&h.jsx("span",{className:"rounded-full bg-orange-600/90 px-2 py-1 text-xs font-semibold text-white shadow",children:"Limited Stocks"}),(i.isFeatured??i.is_featured)&&h.jsx("span",{className:"rounded-full bg-purple-600/90 px-2 py-1 text-xs font-semibold text-white shadow",children:"Featured"}),(i.isOnSale??i.is_on_sale)&&h.jsx("span",{className:"rounded-full bg-emerald-600/90 px-2 py-1 text-xs font-semibold text-white shadow",children:"On Sale"})]})]}),h.jsxs("div",{className:"p-4 sm:p-5 space-y-3 min-h-[140px] flex flex-col justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-soft-brown/70",children:i.category}),h.jsx("h3",{className:"text-lg font-semibold text-soft-brown line-clamp-2 mt-1",children:i.name}),h.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-2",children:i.description})]}),h.jsxs("div",{className:"flex items-center justify-between gap-3 pt-3",children:[h.jsx("span",{className:"text-xl sm:text-2xl font-bold text-accent-red",children:Ft(i.price)}),h.jsx("button",{onClick:f,disabled:s,className:`rounded-full border border-accent-red/30 px-4 py-2 text-sm font-semibold transition active:scale-95 ${s?"bg-gray-100 text-gray-500 cursor-not-allowed border-gray-200":"text-white bg-accent-red hover:bg-red-700"}`,children:s?"Out of Stock":"Add to Cart"})]})]})]})};var zc=function(i,n){return zc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])},zc(i,n)};function xp(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");zc(i,n);function s(){this.constructor=i}i.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}var Vl=function(){return Vl=Object.assign||function(n){for(var s,l=1,u=arguments.length;l<u;l++){s=arguments[l];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(n[c]=s[c])}return n},Vl.apply(this,arguments)};function Fs(i,n){var s={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(s[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(i);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(i,l[u])&&(s[l[u]]=i[l[u]]);return s}function wp(i,n,s,l){var u=arguments.length,c=u<3?n:l===null?l=Object.getOwnPropertyDescriptor(n,s):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(i,n,s,l);else for(var g=i.length-1;g>=0;g--)(f=i[g])&&(c=(u<3?f(c):u>3?f(n,s,c):f(n,s))||c);return u>3&&c&&Object.defineProperty(n,s,c),c}function _p(i,n){return function(s,l){n(s,l,i)}}function Sp(i,n,s,l,u,c){function f(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var g=l.kind,m=g==="getter"?"get":g==="setter"?"set":"value",y=!n&&i?l.static?i:i.prototype:null,x=n||(y?Object.getOwnPropertyDescriptor(y,l.name):{}),v,w=!1,_=s.length-1;_>=0;_--){var N={};for(var O in l)N[O]=O==="access"?{}:l[O];for(var O in l.access)N.access[O]=l.access[O];N.addInitializer=function(D){if(w)throw new TypeError("Cannot add initializers after decoration has completed");c.push(f(D||null))};var C=(0,s[_])(g==="accessor"?{get:x.get,set:x.set}:x[m],N);if(g==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(v=f(C.get))&&(x.get=v),(v=f(C.set))&&(x.set=v),(v=f(C.init))&&u.unshift(v)}else(v=f(C))&&(g==="field"?u.unshift(v):x[m]=v)}y&&Object.defineProperty(y,l.name,x),w=!0}function jp(i,n,s){for(var l=arguments.length>2,u=0;u<n.length;u++)s=l?n[u].call(i,s):n[u].call(i);return l?s:void 0}function Ep(i){return typeof i=="symbol"?i:"".concat(i)}function Np(i,n,s){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:s?"".concat(s," ",n):n})}function Tp(i,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,n)}function W(i,n,s,l){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function g(x){try{y(l.next(x))}catch(v){f(v)}}function m(x){try{y(l.throw(x))}catch(v){f(v)}}function y(x){x.done?c(x.value):u(x.value).then(g,m)}y((l=l.apply(i,n||[])).next())})}function Op(i,n){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},l,u,c,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=g(0),f.throw=g(1),f.return=g(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(y){return function(x){return m([y,x])}}function m(y){if(l)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(s=0)),s;)try{if(l=1,u&&(c=y[0]&2?u.return:y[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,y[1])).done)return c;switch(u=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return s.label++,{value:y[1],done:!1};case 5:s.label++,u=y[1],y=[0];continue;case 7:y=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){s=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){s.label=y[1];break}if(y[0]===6&&s.label<c[1]){s.label=c[1],c=y;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(y);break}c[2]&&s.ops.pop(),s.trys.pop();continue}y=n.call(i,s)}catch(x){y=[6,x],u=0}finally{l=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var Zl=Object.create?(function(i,n,s,l){l===void 0&&(l=s);var u=Object.getOwnPropertyDescriptor(n,s);(!u||("get"in u?!n.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return n[s]}}),Object.defineProperty(i,l,u)}):(function(i,n,s,l){l===void 0&&(l=s),i[l]=n[s]});function Ap(i,n){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(n,s)&&Zl(n,i,s)}function Yl(i){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&i[n],l=0;if(s)return s.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ed(i,n){var s=typeof Symbol=="function"&&i[Symbol.iterator];if(!s)return i;var l=s.call(i),u,c=[],f;try{for(;(n===void 0||n-- >0)&&!(u=l.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(f)throw f.error}}return c}function Cp(){for(var i=[],n=0;n<arguments.length;n++)i=i.concat(ed(arguments[n]));return i}function Rp(){for(var i=0,n=0,s=arguments.length;n<s;n++)i+=arguments[n].length;for(var l=Array(i),u=0,n=0;n<s;n++)for(var c=arguments[n],f=0,g=c.length;f<g;f++,u++)l[u]=c[f];return l}function kp(i,n,s){if(s||arguments.length===2)for(var l=0,u=n.length,c;l<u;l++)(c||!(l in n))&&(c||(c=Array.prototype.slice.call(n,0,l)),c[l]=n[l]);return i.concat(c||Array.prototype.slice.call(n))}function Js(i){return this instanceof Js?(this.v=i,this):new Js(i)}function Up(i,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=s.apply(i,n||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",f),u[Symbol.asyncIterator]=function(){return this},u;function f(_){return function(N){return Promise.resolve(N).then(_,v)}}function g(_,N){l[_]&&(u[_]=function(O){return new Promise(function(C,D){c.push([_,O,C,D])>1||m(_,O)})},N&&(u[_]=N(u[_])))}function m(_,N){try{y(l[_](N))}catch(O){w(c[0][3],O)}}function y(_){_.value instanceof Js?Promise.resolve(_.value.v).then(x,v):w(c[0][2],_)}function x(_){m("next",_)}function v(_){m("throw",_)}function w(_,N){_(N),c.shift(),c.length&&m(c[0][0],c[0][1])}}function Dp(i){var n,s;return n={},l("next"),l("throw",function(u){throw u}),l("return"),n[Symbol.iterator]=function(){return this},n;function l(u,c){n[u]=i[u]?function(f){return(s=!s)?{value:Js(i[u](f)),done:!1}:c?c(f):f}:c}}function zp(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],s;return n?n.call(i):(i=typeof Yl=="function"?Yl(i):i[Symbol.iterator](),s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s);function l(c){s[c]=i[c]&&function(f){return new Promise(function(g,m){f=i[c](f),u(g,m,f.done,f.value)})}}function u(c,f,g,m){Promise.resolve(m).then(function(y){c({value:y,done:g})},f)}}function Mp(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i}var yx=Object.create?(function(i,n){Object.defineProperty(i,"default",{enumerable:!0,value:n})}):function(i,n){i.default=n},Mc=function(i){return Mc=Object.getOwnPropertyNames||function(n){var s=[];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[s.length]=l);return s},Mc(i)};function Bp(i){if(i&&i.__esModule)return i;var n={};if(i!=null)for(var s=Mc(i),l=0;l<s.length;l++)s[l]!=="default"&&Zl(n,i,s[l]);return yx(n,i),n}function Lp(i){return i&&i.__esModule?i:{default:i}}function qp(i,n,s,l){if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?i!==n||!l:!n.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?l:s==="a"?l.call(i):l?l.value:n.get(i)}function Hp(i,n,s,l,u){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?i!==n||!u:!n.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?u.call(i,s):u?u.value=s:n.set(i,s),s}function $p(i,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?n===i:i.has(n)}function Gp(i,n,s){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var l,u;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=n[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=n[Symbol.dispose],s&&(u=l)}if(typeof l!="function")throw new TypeError("Object not disposable.");u&&(l=function(){try{u.call(this)}catch(c){return Promise.reject(c)}}),i.stack.push({value:n,dispose:l,async:s})}else s&&i.stack.push({async:!0});return n}var bx=typeof SuppressedError=="function"?SuppressedError:function(i,n,s){var l=new Error(s);return l.name="SuppressedError",l.error=i,l.suppressed=n,l};function Vp(i){function n(c){i.error=i.hasError?new bx(c,i.error,"An error was suppressed during disposal."):c,i.hasError=!0}var s,l=0;function u(){for(;s=i.stack.pop();)try{if(!s.async&&l===1)return l=0,i.stack.push(s),Promise.resolve().then(u);if(s.dispose){var c=s.dispose.call(s.value);if(s.async)return l|=2,Promise.resolve(c).then(u,function(f){return n(f),u()})}else l|=1}catch(f){n(f)}if(l===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return u()}function Yp(i,n){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,l,u,c,f){return l?n?".jsx":".js":u&&(!c||!f)?s:u+c+"."+f.toLowerCase()+"js"}):i}const vx={__extends:xp,__assign:Vl,__rest:Fs,__decorate:wp,__param:_p,__esDecorate:Sp,__runInitializers:jp,__propKey:Ep,__setFunctionName:Np,__metadata:Tp,__awaiter:W,__generator:Op,__createBinding:Zl,__exportStar:Ap,__values:Yl,__read:ed,__spread:Cp,__spreadArrays:Rp,__spreadArray:kp,__await:Js,__asyncGenerator:Up,__asyncDelegator:Dp,__asyncValues:zp,__makeTemplateObject:Mp,__importStar:Bp,__importDefault:Lp,__classPrivateFieldGet:qp,__classPrivateFieldSet:Hp,__classPrivateFieldIn:$p,__addDisposableResource:Gp,__disposeResources:Vp,__rewriteRelativeImportExtension:Yp},xx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Gp,get __assign(){return Vl},__asyncDelegator:Dp,__asyncGenerator:Up,__asyncValues:zp,__await:Js,__awaiter:W,__classPrivateFieldGet:qp,__classPrivateFieldIn:$p,__classPrivateFieldSet:Hp,__createBinding:Zl,__decorate:wp,__disposeResources:Vp,__esDecorate:Sp,__exportStar:Ap,__extends:xp,__generator:Op,__importDefault:Lp,__importStar:Bp,__makeTemplateObject:Mp,__metadata:Tp,__param:_p,__propKey:Ep,__read:ed,__rest:Fs,__rewriteRelativeImportExtension:Yp,__runInitializers:jp,__setFunctionName:Np,__spread:Cp,__spreadArray:kp,__spreadArrays:Rp,__values:Yl,default:vx},Symbol.toStringTag,{value:"Module"})),wx=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class td extends Error{constructor(n,s="FunctionsError",l){super(n),this.name=s,this.context=l}}class _x extends td{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class xg extends td{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class wg extends td{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Bc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Bc||(Bc={}));class Sx{constructor(n,{headers:s={},customFetch:l,region:u=Bc.Any}={}){this.url=n,this.headers=s,this.region=u,this.fetch=wx(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return W(this,arguments,void 0,function*(s,l={}){var u;let c,f;try{const{headers:g,method:m,body:y,signal:x,timeout:v}=l;let w={},{region:_}=l;_||(_=this.region);const N=new URL(`${this.url}/${s}`);_&&_!=="any"&&(w["x-region"]=_,N.searchParams.set("forceFunctionRegion",_));let O;y&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",O=y):typeof y=="string"?(w["Content-Type"]="text/plain",O=y):typeof FormData<"u"&&y instanceof FormData?O=y:(w["Content-Type"]="application/json",O=JSON.stringify(y)):O=y;let C=x;v&&(f=new AbortController,c=setTimeout(()=>f.abort(),v),x?(C=f.signal,x.addEventListener("abort",()=>f.abort())):C=f.signal);const D=yield this.fetch(N.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),g),body:O,signal:C}).catch(se=>{throw new _x(se)}),L=D.headers.get("x-relay-error");if(L&&L==="true")throw new xg(D);if(!D.ok)throw new wg(D);let B=((u=D.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),Q;return B==="application/json"?Q=yield D.json():B==="application/octet-stream"||B==="application/pdf"?Q=yield D.blob():B==="text/event-stream"?Q=D:B==="multipart/form-data"?Q=yield D.formData():Q=yield D.text(),{data:Q,error:null,response:D}}catch(g){return{data:null,error:g,response:g instanceof wg||g instanceof xg?g.context:void 0}}finally{c&&clearTimeout(c)}})}}var yt={};const Ws=Rv(xx);var Ol={},Al={},Cl={},Rl={},kl={},Ul={},_g;function Pp(){if(_g)return Ul;_g=1,Object.defineProperty(Ul,"__esModule",{value:!0});class i extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ul.default=i,Ul}var Sg;function Kp(){if(Sg)return kl;Sg=1,Object.defineProperty(kl,"__esModule",{value:!0});const n=Ws.__importDefault(Pp());class s{constructor(u){var c,f;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(f=u.isMaybeSingle)!==null&&f!==void 0?f:!1,u.fetch?this.fetch=u.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let g=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,x,v,w;let _=null,N=null,O=null,C=m.status,D=m.statusText;if(m.ok){if(this.method!=="HEAD"){const se=await m.text();se===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?N=se:N=JSON.parse(se))}const B=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),Q=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");B&&Q&&Q.length>1&&(O=parseInt(Q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(_={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,O=null,C=406,D="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const B=await m.text();try{_=JSON.parse(B),Array.isArray(_)&&m.status===404&&(N=[],_=null,C=200,D="OK")}catch{m.status===404&&B===""?(C=204,D="No Content"):_={message:B}}if(_&&this.isMaybeSingle&&(!((w=_?.details)===null||w===void 0)&&w.includes("0 rows"))&&(_=null,C=200,D="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:N,count:O,status:C,statusText:D}});return this.shouldThrowOnError||(g=g.catch(m=>{var y,x,v,w,_,N;let O="";const C=m?.cause;if(C){const D=(y=C?.message)!==null&&y!==void 0?y:"",L=(x=C?.code)!==null&&x!==void 0?x:"";O=`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,O+=`

Caused by: ${(w=C?.name)!==null&&w!==void 0?w:"Error"}: ${D}`,L&&(O+=` (${L})`),C?.stack&&(O+=`
${C.stack}`)}else O=(_=m?.stack)!==null&&_!==void 0?_:"";return{error:{message:`${(N=m?.name)!==null&&N!==void 0?N:"FetchError"}: ${m?.message}`,details:O,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),g.then(u,c)}returns(){return this}overrideTypes(){return this}}return kl.default=s,kl}var jg;function Ip(){if(jg)return Rl;jg=1,Object.defineProperty(Rl,"__esModule",{value:!0});const n=Ws.__importDefault(Kp());class s extends n.default{select(u){let c=!1;const f=(u??"*").split("").map(g=>/\s/.test(g)&&!c?"":(g==='"'&&(c=!c),g)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:c=!0,nullsFirst:f,foreignTable:g,referencedTable:m=g}={}){const y=m?`${m}.order`:"order",x=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${x?`${x},`:""}${u}.${c?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:c,referencedTable:f=c}={}){const g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${u}`),this}range(u,c,{foreignTable:f,referencedTable:g=f}={}){const m=typeof g>"u"?"offset":`${g}.offset`,y=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(m,`${u}`),this.url.searchParams.set(y,`${c-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:c=!1,settings:f=!1,buffers:g=!1,wal:m=!1,format:y="text"}={}){var x;const v=[u?"analyze":null,c?"verbose":null,f?"settings":null,g?"buffers":null,m?"wal":null].filter(Boolean).join("|"),w=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${w}"; options=${v};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return Rl.default=s,Rl}var Eg;function ad(){if(Eg)return Cl;Eg=1,Object.defineProperty(Cl,"__esModule",{value:!0});const n=Ws.__importDefault(Ip()),s=new RegExp("[,()]");class l extends n.default{eq(c,f){return this.url.searchParams.append(c,`eq.${f}`),this}neq(c,f){return this.url.searchParams.append(c,`neq.${f}`),this}gt(c,f){return this.url.searchParams.append(c,`gt.${f}`),this}gte(c,f){return this.url.searchParams.append(c,`gte.${f}`),this}lt(c,f){return this.url.searchParams.append(c,`lt.${f}`),this}lte(c,f){return this.url.searchParams.append(c,`lte.${f}`),this}like(c,f){return this.url.searchParams.append(c,`like.${f}`),this}likeAllOf(c,f){return this.url.searchParams.append(c,`like(all).{${f.join(",")}}`),this}likeAnyOf(c,f){return this.url.searchParams.append(c,`like(any).{${f.join(",")}}`),this}ilike(c,f){return this.url.searchParams.append(c,`ilike.${f}`),this}ilikeAllOf(c,f){return this.url.searchParams.append(c,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(c,f){return this.url.searchParams.append(c,`ilike(any).{${f.join(",")}}`),this}regexMatch(c,f){return this.url.searchParams.append(c,`match.${f}`),this}regexIMatch(c,f){return this.url.searchParams.append(c,`imatch.${f}`),this}is(c,f){return this.url.searchParams.append(c,`is.${f}`),this}isDistinct(c,f){return this.url.searchParams.append(c,`isdistinct.${f}`),this}in(c,f){const g=Array.from(new Set(f)).map(m=>typeof m=="string"&&s.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(c,`in.(${g})`),this}contains(c,f){return typeof f=="string"?this.url.searchParams.append(c,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(c,`cs.{${f.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(f)}`),this}containedBy(c,f){return typeof f=="string"?this.url.searchParams.append(c,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(c,`cd.{${f.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(f)}`),this}rangeGt(c,f){return this.url.searchParams.append(c,`sr.${f}`),this}rangeGte(c,f){return this.url.searchParams.append(c,`nxl.${f}`),this}rangeLt(c,f){return this.url.searchParams.append(c,`sl.${f}`),this}rangeLte(c,f){return this.url.searchParams.append(c,`nxr.${f}`),this}rangeAdjacent(c,f){return this.url.searchParams.append(c,`adj.${f}`),this}overlaps(c,f){return typeof f=="string"?this.url.searchParams.append(c,`ov.${f}`):this.url.searchParams.append(c,`ov.{${f.join(",")}}`),this}textSearch(c,f,{config:g,type:m}={}){let y="";m==="plain"?y="pl":m==="phrase"?y="ph":m==="websearch"&&(y="w");const x=g===void 0?"":`(${g})`;return this.url.searchParams.append(c,`${y}fts${x}.${f}`),this}match(c){return Object.entries(c).forEach(([f,g])=>{this.url.searchParams.append(f,`eq.${g}`)}),this}not(c,f,g){return this.url.searchParams.append(c,`not.${f}.${g}`),this}or(c,{foreignTable:f,referencedTable:g=f}={}){const m=g?`${g}.or`:"or";return this.url.searchParams.append(m,`(${c})`),this}filter(c,f,g){return this.url.searchParams.append(c,`${f}.${g}`),this}}return Cl.default=l,Cl}var Ng;function Qp(){if(Ng)return Al;Ng=1,Object.defineProperty(Al,"__esModule",{value:!0});const n=Ws.__importDefault(ad());class s{constructor(u,{headers:c={},schema:f,fetch:g}){this.url=u,this.headers=new Headers(c),this.schema=f,this.fetch=g}select(u,c){const{head:f=!1,count:g}=c??{},m=f?"HEAD":"GET";let y=!1;const x=(u??"*").split("").map(v=>/\s/.test(v)&&!y?"":(v==='"'&&(y=!y),v)).join("");return this.url.searchParams.set("select",x),g&&this.headers.append("Prefer",`count=${g}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:c,defaultToNull:f=!0}={}){var g;const m="POST";if(c&&this.headers.append("Prefer",`count=${c}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const y=u.reduce((x,v)=>x.concat(Object.keys(v)),[]);if(y.length>0){const x=[...new Set(y)].map(v=>`"${v}"`);this.url.searchParams.set("columns",x.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(u,{onConflict:c,ignoreDuplicates:f=!1,count:g,defaultToNull:m=!0}={}){var y;const x="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),g&&this.headers.append("Prefer",`count=${g}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const v=u.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(v.length>0){const w=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(u,{count:c}={}){var f;const g="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:u}={}){var c;const f="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Al.default=s,Al}var Tg;function jx(){if(Tg)return Ol;Tg=1,Object.defineProperty(Ol,"__esModule",{value:!0});const i=Ws,n=i.__importDefault(Qp()),s=i.__importDefault(ad());class l{constructor(c,{headers:f={},schema:g,fetch:m}={}){this.url=c,this.headers=new Headers(f),this.schemaName=g,this.fetch=m}from(c){if(!c||typeof c!="string"||c.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${c}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new l(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:g=!1,get:m=!1,count:y}={}){var x;let v;const w=new URL(`${this.url}/rpc/${c}`);let _;g||m?(v=g?"HEAD":"GET",Object.entries(f).filter(([O,C])=>C!==void 0).map(([O,C])=>[O,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([O,C])=>{w.searchParams.append(O,C)})):(v="POST",_=f);const N=new Headers(this.headers);return y&&N.set("Prefer",`count=${y}`),new s.default({method:v,url:w,headers:N,schema:this.schemaName,body:_,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return Ol.default=l,Ol}var Og;function Ex(){if(Og)return yt;Og=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const i=Ws,n=i.__importDefault(jx());yt.PostgrestClient=n.default;const s=i.__importDefault(Qp());yt.PostgrestQueryBuilder=s.default;const l=i.__importDefault(ad());yt.PostgrestFilterBuilder=l.default;const u=i.__importDefault(Ip());yt.PostgrestTransformBuilder=u.default;const c=i.__importDefault(Kp());yt.PostgrestBuilder=c.default;const f=i.__importDefault(Pp());return yt.PostgrestError=f.default,yt.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:c.default,PostgrestError:f.default},yt}var Jp=Ex();const Xp=tp(Jp),Nx=Cv({__proto__:null,default:Xp},[Jp]),{PostgrestClient:Tx,PostgrestQueryBuilder:gS,PostgrestFilterBuilder:pS,PostgrestTransformBuilder:yS,PostgrestBuilder:bS,PostgrestError:vS}=Xp||Nx;class Ox{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const l=s.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const l=this.getWebSocketConstructor();return new l(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Ax="2.86.0",Cx=`realtime-js/${Ax}`,Zp="1.0.0",Rx="2.0.0",Ag=Zp,Lc=1e4,kx=1e3,Ux=100;var Gn;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Gn||(Gn={}));var at;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(at||(at={}));var ia;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(ia||(ia={}));var qc;(function(i){i.websocket="websocket"})(qc||(qc={}));var Vn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Vn||(Vn={}));class Dx{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,l;const u=(l=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var s,l;const u=(l=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,s,l){var u,c;const f=n.topic,g=(u=n.ref)!==null&&u!==void 0?u:"",m=(c=n.join_ref)!==null&&c!==void 0?c:"",y=n.payload.event,x=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},v=Object.keys(x).length===0?"":JSON.stringify(x);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+g.length+f.length+y.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+w);let N=new DataView(_),O=0;N.setUint8(O++,this.KINDS.userBroadcastPush),N.setUint8(O++,m.length),N.setUint8(O++,g.length),N.setUint8(O++,f.length),N.setUint8(O++,y.length),N.setUint8(O++,v.length),N.setUint8(O++,s),Array.from(m,D=>N.setUint8(O++,D.charCodeAt(0))),Array.from(g,D=>N.setUint8(O++,D.charCodeAt(0))),Array.from(f,D=>N.setUint8(O++,D.charCodeAt(0))),Array.from(y,D=>N.setUint8(O++,D.charCodeAt(0))),Array.from(v,D=>N.setUint8(O++,D.charCodeAt(0)));var C=new Uint8Array(_.byteLength+l.byteLength);return C.set(new Uint8Array(_),0),C.set(new Uint8Array(l),_.byteLength),C.buffer}decode(n,s){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return s(l)}if(typeof n=="string"){const l=JSON.parse(n),[u,c,f,g,m]=l;return s({join_ref:u,ref:c,topic:f,event:g,payload:m})}return s({})}_binaryDecode(n){const s=new DataView(n),l=s.getUint8(0),u=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,s,u)}}_decodeUserBroadcast(n,s,l){const u=s.getUint8(1),c=s.getUint8(2),f=s.getUint8(3),g=s.getUint8(4);let m=this.HEADER_LENGTH+4;const y=l.decode(n.slice(m,m+u));m=m+u;const x=l.decode(n.slice(m,m+c));m=m+c;const v=l.decode(n.slice(m,m+f));m=m+f;const w=n.slice(m,n.byteLength),_=g===this.JSON_ENCODING?JSON.parse(l.decode(w)):w,N={type:this.BROADCAST_EVENT,event:x,payload:_};return f>0&&(N.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>s.includes(l)))}}class Fp{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Me||(Me={}));const Cg=(i,n,s={})=>{var l;const u=(l=s.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((c,f)=>(c[f]=zx(f,i,n,u),c),{}):{}},zx=(i,n,s,l)=>{const u=n.find(g=>g.name===i),c=u?.type,f=s[i];return c&&!l.includes(c)?Wp(c,f):Hc(f)},Wp=(i,n)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return qx(n,s)}switch(i){case Me.bool:return Mx(n);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return Bx(n);case Me.json:case Me.jsonb:return Lx(n);case Me.timestamp:return Hx(n);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return Hc(n);default:return Hc(n)}},Hc=i=>i,Mx=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Bx=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},Lx=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(n){return console.log(`JSON parse error: ${n}`),i}return i},qx=(i,n)=>{if(typeof i!="string")return i;const s=i.length-1,l=i[s];if(i[0]==="{"&&l==="}"){let c;const f=i.slice(1,s);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(g=>Wp(n,g))}return i},Hx=i=>typeof i=="string"?i.replace(" ","T"):i,ey=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class jc{constructor(n,s,l={},u=Lc){this.channel=n,this.event=s,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var l;return this._hasReceived(n)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Rg;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Rg||(Rg={}));class Fr{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:c,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fr.syncState(this.state,u,c,f),this.pendingDiffs.forEach(m=>{this.state=Fr.syncDiff(this.state,m,c,f)}),this.pendingDiffs=[],g()}),this.channel._on(l.diff,{},u=>{const{onJoin:c,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Fr.syncDiff(this.state,u,c,f),g())}),this.onJoin((u,c,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:f})}),this.onLeave((u,c,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,l,u){const c=this.cloneDeep(n),f=this.transformState(s),g={},m={};return this.map(c,(y,x)=>{f[y]||(m[y]=x)}),this.map(f,(y,x)=>{const v=c[y];if(v){const w=x.map(C=>C.presence_ref),_=v.map(C=>C.presence_ref),N=x.filter(C=>_.indexOf(C.presence_ref)<0),O=v.filter(C=>w.indexOf(C.presence_ref)<0);N.length>0&&(g[y]=N),O.length>0&&(m[y]=O)}else g[y]=x}),this.syncDiff(c,{joins:g,leaves:m},l,u)}static syncDiff(n,s,l,u){const{joins:c,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(c,(g,m)=>{var y;const x=(y=n[g])!==null&&y!==void 0?y:[];if(n[g]=this.cloneDeep(m),x.length>0){const v=n[g].map(_=>_.presence_ref),w=x.filter(_=>v.indexOf(_.presence_ref)<0);n[g].unshift(...w)}l(g,x,m)}),this.map(f,(g,m)=>{let y=n[g];if(!y)return;const x=m.map(v=>v.presence_ref);y=y.filter(v=>x.indexOf(v.presence_ref)<0),n[g]=y,u(g,y,m),y.length===0&&delete n[g]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(l=>s(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,l)=>{const u=n[l];return"metas"in u?s[l]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[l]=u,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kg;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(kg||(kg={}));var Wr;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Wr||(Wr={}));var za;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(za||(za={}));class nd{constructor(n,s={config:{}},l){var u,c;if(this.topic=n,this.params=s,this.socket=l,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new jc(this,ia.join,this.params,this.timeout),this.rejoinTimer=new Fp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ia.reply,{},(f,g)=>{this._trigger(this._replyEventName(g),f)}),this.presence=new Fr(this),this.broadcastEndpointURL=ey(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var l,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:f,presence:g,private:m}}=this.params,y=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(_=>_.filter))!==null&&u!==void 0?u:[],x=!!this.bindings[Wr.PRESENCE]&&this.bindings[Wr.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,v={},w={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:x}),postgres_changes:y,private:m};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>n?.(za.CHANNEL_ERROR,_)),this._onClose(()=>n?.(za.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:_})=>{var N;if(this.socket.setAuth(),_===void 0){n?.(za.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,C=(N=O?.length)!==null&&N!==void 0?N:0,D=[];for(let L=0;L<C;L++){const B=O[L],{filter:{event:Q,schema:se,table:P,filter:K}}=B,ge=_&&_[L];if(ge&&ge.event===Q&&ge.schema===se&&ge.table===P&&ge.filter===K)D.push(Object.assign(Object.assign({},B),{id:ge.id}));else{this.unsubscribe(),this.state=at.errored,n?.(za.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,n&&n(za.SUBSCRIBED);return}}).receive("error",_=>{this.state=at.errored,n?.(za.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{n?.(za.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,l){return this.state===at.joined&&n===Wr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,s,l)}async httpSend(n,s,l={}){var u;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(g.status===202)return{success:!0};let m=g.statusText;try{const y=await g.json();m=y.error||y.message||m}catch{}return Promise.reject(new Error(m))}async send(n,s={}){var l,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:f}=n,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,g,m;const y=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=at.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ia.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new jc(this,ia.leave,{},n),l.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(n,s,l){const u=new AbortController,c=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(c),f}_push(n,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new jc(this,n,s,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Ux){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,l){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,l){var u,c;const f=n.toLocaleLowerCase(),{close:g,error:m,leave:y,join:x}=ia;if(l&&[g,m,y,x].indexOf(f)>=0&&l!==this._joinRef())return;let w=this._onMessage(f,s,l);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(_=>{var N,O,C;return((N=_.filter)===null||N===void 0?void 0:N.event)==="*"||((C=(O=_.filter)===null||O===void 0?void 0:O.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===f}).map(_=>_.callback(w,l)):(c=this.bindings[f])===null||c===void 0||c.filter(_=>{var N,O,C,D,L,B;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in _){const Q=_.id,se=(N=_.filter)===null||N===void 0?void 0:N.event;return Q&&((O=s.ids)===null||O===void 0?void 0:O.includes(Q))&&(se==="*"||se?.toLocaleLowerCase()===((C=s.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const Q=(L=(D=_?.filter)===null||D===void 0?void 0:D.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return Q==="*"||Q===((B=s?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===f}).map(_=>{if(typeof w=="object"&&"ids"in w){const N=w.data,{schema:O,table:C,commit_timestamp:D,type:L,errors:B}=N;w=Object.assign(Object.assign({},{schema:O,table:C,commit_timestamp:D,eventType:L,new:{},old:{},errors:B}),this._getPayloadRecords(N))}_.callback(w,l)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,l){const u=n.toLocaleLowerCase(),c={type:u,filter:s,callback:l};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(n,s){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&nd.isEqual(u.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const l in n)if(n[l]!==s[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(ia.close,{},n)}_onError(n){this._on(ia.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=Cg(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=Cg(n.columns,n.old_record)),s}}const Ec=()=>{},Dl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$x=[1e3,2e3,5e3,1e4],Gx=1e4,Vx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Yx{constructor(n,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lc,this.transport=null,this.heartbeatIntervalMs=Dl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ec,this.ref=0,this.reconnectTimer=null,this.vsn=Ag,this.logger=Ec,this.conn=null,this.sendBuffer=[],this.serializer=new Dx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((l=s?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${qc.websocket}`,this.httpEndpoint=ey(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ox.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,l){this.logger(n,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Gn.connecting:return Vn.Connecting;case Gn.open:return Vn.Open;case Gn.closing:return Vn.Closing;default:return Vn.Closed}}isConnected(){return this.connectionState()===Vn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const l=`realtime:${n}`,u=this.getChannels().find(c=>c.topic===l);if(u)return u;{const c=new nd(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:l,payload:u,ref:c}=n,f=()=>{this.encode(n,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${s} ${l} (${c})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(kx,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Dl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:c,ref:f}=s,g=f?`(${f})`:"",m=c.status||"";this.log("receive",`${m} ${l} ${u} ${g}`.trim(),c),this.channels.filter(y=>y._isMember(l)).forEach(y=>y._trigger(u,c,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Gn.open||this.conn.readyState===Gn.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(ia.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const l=n.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${n}${l}${u}`}_workerObjectUrl(n){let s;if(n)s=n;else{const l=new Blob([Vx],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s;n?s=n:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const u={access_token:s,version:Cx};s&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(ia.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(s)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Fp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Dl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,l,u,c,f,g,m,y,x,v,w,_;switch(this.transport=(s=n?.transport)!==null&&s!==void 0?s:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Lc,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:Dl.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=n?.heartbeatCallback)!==null&&g!==void 0?g:Ec,this.vsn=(m=n?.vsn)!==null&&m!==void 0?m:Ag,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=n?.reconnectAfterMs)!==null&&y!==void 0?y:(N=>$x[N-1]||Gx),this.vsn){case Zp:this.encode=(x=n?.encode)!==null&&x!==void 0?x:((N,O)=>O(JSON.stringify(N))),this.decode=(v=n?.decode)!==null&&v!==void 0?v:((N,O)=>O(JSON.parse(N)));break;case Rx:this.encode=(w=n?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(_=n?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class Fl extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Ge(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class Px extends Fl{constructor(n,s,l){super(n),this.name="StorageApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $c extends Fl{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}const sd=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Kx=()=>Response,Gc=i=>{if(Array.isArray(i))return i.map(s=>Gc(s));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([s,l])=>{const u=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[u]=Gc(l)}),n},Ix=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Qx=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),Nc=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},Jx=(i,n,s)=>W(void 0,void 0,void 0,function*(){const l=yield Kx();i instanceof l&&!s?.noResolveJson?i.json().then(u=>{const c=i.status||500,f=u?.statusCode||c+"";n(new Px(Nc(u),c,f))}).catch(u=>{n(new $c(Nc(u),u))}):n(new $c(Nc(i),i))}),Xx=(i,n,s,l)=>{const u={method:i,headers:n?.headers||{}};return i==="GET"||!l?u:(Ix(l)?(u.headers=Object.assign({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,n?.duplex&&(u.duplex=n.duplex),Object.assign(Object.assign({},u),s))};function oi(i,n,s,l,u,c){return W(this,void 0,void 0,function*(){return new Promise((f,g)=>{i(s,Xx(n,l,u,c)).then(m=>{if(!m.ok)throw m;return l?.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>Jx(m,g,l))})})}function ti(i,n,s,l){return W(this,void 0,void 0,function*(){return oi(i,"GET",n,s,l)})}function ra(i,n,s,l,u){return W(this,void 0,void 0,function*(){return oi(i,"POST",n,l,u,s)})}function Vc(i,n,s,l,u){return W(this,void 0,void 0,function*(){return oi(i,"PUT",n,l,u,s)})}function Zx(i,n,s,l){return W(this,void 0,void 0,function*(){return oi(i,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),l)})}function rd(i,n,s,l,u){return W(this,void 0,void 0,function*(){return oi(i,"DELETE",n,l,u,s)})}class Fx{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s}then(n,s){return this.execute().then(n,s)}execute(){return W(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}}var ty;class Wx{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s,this[ty]="BlobDownloadBuilder",this.promise=null}asStream(){return new Fx(this.downloadFn,this.shouldThrowOnError)}then(n,s){return this.getPromise().then(n,s)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return W(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}}ty=Symbol.toStringTag;const ew={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ug={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tw{constructor(n,s={},l,u){this.shouldThrowOnError=!1,this.url=n,this.headers=s,this.bucketId=l,this.fetch=sd(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,s,l,u){return W(this,void 0,void 0,function*(){try{let c;const f=Object.assign(Object.assign({},Ug),u);let g=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&l instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",l)):typeof FormData<"u"&&l instanceof FormData?(c=l,c.has("cacheControl")||c.append("cacheControl",f.cacheControl),m&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(m))):(c=l,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,m&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!f.duplex&&(f.duplex="half")),u?.headers&&(g=Object.assign(Object.assign({},g),u.headers));const y=this._removeEmptyFolders(s),x=this._getFinalPath(y),v=yield(n=="PUT"?Vc:ra)(this.fetch,`${this.url}/object/${x}`,c,Object.assign({headers:g},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:v.Id,fullPath:v.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}upload(n,s,l){return W(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,l)})}uploadToSignedUrl(n,s,l,u){return W(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),g=new URL(this.url+`/object/upload/sign/${f}`);g.searchParams.set("token",s);try{let m;const y=Object.assign({upsert:Ug.upsert},u),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",y.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",y.cacheControl)):(m=l,x["cache-control"]=`max-age=${y.cacheControl}`,x["content-type"]=y.contentType);const v=yield Vc(this.fetch,g.toString(),m,{headers:x});return{data:{path:c,fullPath:v.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Ge(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(n,s){return W(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n);const u=Object.assign({},this.headers);s?.upsert&&(u["x-upsert"]="true");const c=yield ra(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(this.url+c.url),g=f.searchParams.get("token");if(!g)throw new Fl("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:g},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}})}update(n,s,l){return W(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,l)})}move(n,s,l){return W(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ge(u))return{data:null,error:u};throw u}})}copy(n,s,l){return W(this,void 0,void 0,function*(){try{return{data:{path:(yield ra(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ge(u))return{data:null,error:u};throw u}})}createSignedUrl(n,s,l){return W(this,void 0,void 0,function*(){try{let u=this._getFinalPath(n),c=yield ra(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:s},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const f=l?.download?`&download=${l.download===!0?"":l.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ge(u))return{data:null,error:u};throw u}})}createSignedUrls(n,s,l){return W(this,void 0,void 0,function*(){try{const u=yield ra(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${c}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ge(u))return{data:null,error:u};throw u}})}download(n,s){const u=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),f=c?`?${c}`:"",g=this._getFinalPath(n),m=()=>ti(this.fetch,`${this.url}/${u}/${g}${f}`,{headers:this.headers,noResolveJson:!0});return new Wx(m,this.shouldThrowOnError)}info(n){return W(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const l=yield ti(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Gc(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}})}exists(n){return W(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield Zx(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l)&&l instanceof $c){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(n,s){const l=this._getFinalPath(n),u=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&u.push(c);const g=typeof s?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(s?.transform||{});m!==""&&u.push(m);let y=u.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${l}${y}`)}}}remove(n){return W(this,void 0,void 0,function*(){try{return{data:yield rd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}list(n,s,l){return W(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},ew),s),{prefix:n||""});return{data:yield ra(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ge(u))return{data:null,error:u};throw u}})}listV2(n,s){return W(this,void 0,void 0,function*(){try{const l=Object.assign({},n);return{data:yield ra(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const ay="2.86.0",ny={"X-Client-Info":`storage-js/${ay}`};class aw{constructor(n,s={},l,u){this.shouldThrowOnError=!1;const c=new URL(n);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ny),s),this.fetch=sd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return W(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(n);return{data:yield ti(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}getBucket(n){return W(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}createBucket(n){return W(this,arguments,void 0,function*(s,l={public:!1}){try{return{data:yield ra(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ge(u))return{data:null,error:u};throw u}})}updateBucket(n,s){return W(this,void 0,void 0,function*(){try{return{data:yield Vc(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}})}emptyBucket(n){return W(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}deleteBucket(n){return W(this,void 0,void 0,function*(){try{return{data:yield rd(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(n){const s={};return n&&("limit"in n&&(s.limit=String(n.limit)),"offset"in n&&(s.offset=String(n.offset)),n.search&&(s.search=n.search),n.sortColumn&&(s.sortColumn=n.sortColumn),n.sortOrder&&(s.sortOrder=n.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var ai=class extends Error{constructor(i,n){super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function nw(i,n,s){const l=new URL(n,i);if(s)for(const[u,c]of Object.entries(s))c!==void 0&&l.searchParams.set(u,c);return l.toString()}async function sw(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function rw(i){const n=i.fetchImpl??globalThis.fetch;return{async request({method:s,path:l,query:u,body:c,headers:f}){const g=nw(i.baseUrl,l,u),m=await sw(i.auth),y=await n(g,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...m,...f},body:c?JSON.stringify(c):void 0}),x=await y.text(),v=(y.headers.get("content-type")||"").includes("application/json"),w=v&&x?JSON.parse(x):x;if(!y.ok){const _=v?w:void 0,N=_?.error;throw new ai(N?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:N?.type,icebergCode:N?.code,details:_})}return{status:y.status,headers:y.headers,data:w}}}}function zl(i){return i.join("")}var iw=class{constructor(i,n=""){this.client=i,this.prefix=n}async listNamespaces(i){const n=i?{parent:zl(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(i,n){const s={namespace:i.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zl(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zl(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zl(i.namespace)}`}),!0}catch(n){if(n instanceof ai&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(i,n){try{return await this.createNamespace(i,n)}catch(s){if(s instanceof ai&&s.status===409)return;throw s}}};function Ls(i){return i.join("")}var lw=class{constructor(i,n="",s){this.client=i,this.prefix=n,this.accessDelegation=s}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ls(i.namespace)}/tables`})).data.identifiers}async createTable(i,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ls(i.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(i,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ls(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(i,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ls(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(i){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ls(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata}async tableExists(i){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ls(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(s){if(s instanceof ai&&s.status===404)return!1;throw s}}async createTableIfNotExists(i,n){try{return await this.createTable(i,n)}catch(s){if(s instanceof ai&&s.status===409)return await this.loadTable({namespace:i.namespace,name:n.name});throw s}}},ow=class{constructor(i){let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const s=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=rw({baseUrl:s,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new iw(this.client,n),this.tableOps=new lw(this.client,n,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,n){return this.namespaceOps.createNamespace(i,n)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,n){return this.tableOps.createTable(i,n)}async updateTable(i,n){return this.tableOps.updateTable(i,n)}async dropTable(i,n){await this.tableOps.dropTable(i,n)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,n){return this.namespaceOps.createNamespaceIfNotExists(i,n)}async createTableIfNotExists(i,n){return this.tableOps.createTableIfNotExists(i,n)}};class uw{constructor(n,s={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ny),s),this.fetch=sd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return W(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}listBuckets(n){return W(this,void 0,void 0,function*(){try{const s=new URLSearchParams;n?.limit!==void 0&&s.set("limit",n.limit.toString()),n?.offset!==void 0&&s.set("offset",n.offset.toString()),n?.sortColumn&&s.set("sortColumn",n.sortColumn),n?.sortOrder&&s.set("sortOrder",n.sortOrder),n?.search&&s.set("search",n.search);const l=s.toString(),u=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield ti(this.fetch,u,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}deleteBucket(n){return W(this,void 0,void 0,function*(){try{return{data:yield rd(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}from(n){if(!Qx(n))throw new Fl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new ow({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>W(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const id={"X-Client-Info":`storage-js/${ay}`,"Content-Type":"application/json"};class sy extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Lt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class Tc extends sy{constructor(n,s,l){super(n),this.name="StorageVectorsApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cw extends sy{constructor(n,s){super(n),this.name="StorageVectorsUnknownError",this.originalError=s}}var Dg;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Dg||(Dg={}));const ld=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),dw=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},zg=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),hw=(i,n,s)=>W(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!s?.noResolveJson){const u=i.status||500,c=i;if(typeof c.json=="function")c.json().then(f=>{const g=f?.statusCode||f?.code||u+"";n(new Tc(zg(f),u,g))}).catch(()=>{const f=u+"",g=c.statusText||`HTTP ${u} error`;n(new Tc(g,u,f))});else{const f=u+"",g=c.statusText||`HTTP ${u} error`;n(new Tc(g,u,f))}}else n(new cw(zg(i),i))}),fw=(i,n,s,l)=>{const u={method:i,headers:n?.headers||{}};return l?(dw(l)?(u.headers=Object.assign({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,Object.assign(Object.assign({},u),s)):u};function mw(i,n,s,l,u,c){return W(this,void 0,void 0,function*(){return new Promise((f,g)=>{i(s,fw(n,l,u,c)).then(m=>{if(!m.ok)throw m;if(l?.noResolveJson)return m;const y=m.headers.get("content-type");return!y||!y.includes("application/json")?{}:m.json()}).then(m=>f(m)).catch(m=>hw(m,g,l))})})}function qt(i,n,s,l,u){return W(this,void 0,void 0,function*(){return mw(i,"POST",n,l,u,s)})}class gw{constructor(n,s={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},id),s),this.fetch=ld(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return W(this,void 0,void 0,function*(){try{return{data:(yield qt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}getIndex(n,s){return W(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}})}listIndexes(n){return W(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}deleteIndex(n,s){return W(this,void 0,void 0,function*(){try{return{data:(yield qt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}})}}class pw{constructor(n,s={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},id),s),this.fetch=ld(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return W(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield qt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}getVectors(n){return W(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}listVectors(n){return W(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield qt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}queryVectors(n){return W(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}deleteVectors(n){return W(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield qt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}}class yw{constructor(n,s={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},id),s),this.fetch=ld(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return W(this,void 0,void 0,function*(){try{return{data:(yield qt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}getBucket(n){return W(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}listBuckets(){return W(this,arguments,void 0,function*(n={}){try{return{data:yield qt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}deleteBucket(n){return W(this,void 0,void 0,function*(){try{return{data:(yield qt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}}class bw extends yw{constructor(n,s={}){super(n,s.headers||{},s.fetch)}from(n){return new vw(this.url,this.headers,n,this.fetch)}createBucket(n){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return W(this,void 0,void 0,function*(){return s.createBucket.call(this,n)})}getBucket(n){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return W(this,void 0,void 0,function*(){return s.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return W(this,arguments,void 0,function*(s={}){return n.listBuckets.call(this,s)})}deleteBucket(n){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return W(this,void 0,void 0,function*(){return s.deleteBucket.call(this,n)})}}class vw extends gw{constructor(n,s,l,u){super(n,s,u),this.vectorBucketName=l}createIndex(n){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return W(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return W(this,arguments,void 0,function*(s={}){return n.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return W(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return W(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new xw(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class xw extends pw{constructor(n,s,l,u,c){super(n,s,c),this.vectorBucketName=l,this.indexName=u}putVectors(n){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return W(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return W(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return W(this,arguments,void 0,function*(s={}){return n.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return W(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return W(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ww extends aw{constructor(n,s={},l,u){super(n,s,l,u)}from(n){return new tw(this.url,this.headers,n,this.fetch)}get vectors(){return new bw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new uw(this.url+"/iceberg",this.headers,this.fetch)}}const _w="2.86.0";let Zr="";typeof Deno<"u"?Zr="deno":typeof document<"u"?Zr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zr="react-native":Zr="node";const Sw={"X-Client-Info":`supabase-js-${Zr}/${_w}`},jw={headers:Sw},Ew={schema:"public"},Nw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Tw={},Ow=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Aw=()=>Headers,Cw=(i,n,s)=>{const l=Ow(s),u=Aw();return async(c,f)=>{var g;const m=(g=await n())!==null&&g!==void 0?g:i;let y=new u(f?.headers);return y.has("apikey")||y.set("apikey",i),y.has("Authorization")||y.set("Authorization",`Bearer ${m}`),l(c,Object.assign(Object.assign({},f),{headers:y}))}};function Rw(i){return i.endsWith("/")?i:i+"/"}function kw(i,n){var s,l;const{db:u,auth:c,realtime:f,global:g}=i,{db:m,auth:y,realtime:x,global:v}=n,w={db:Object.assign(Object.assign({},m),u),auth:Object.assign(Object.assign({},y),c),realtime:Object.assign(Object.assign({},x),f),storage:{},global:Object.assign(Object.assign(Object.assign({},v),g),{headers:Object.assign(Object.assign({},(s=v?.headers)!==null&&s!==void 0?s:{}),(l=g?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return i.accessToken?w.accessToken=i.accessToken:delete w.accessToken,w}function Uw(i){const n=i?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Rw(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ry="2.86.0",Ks=30*1e3,Yc=3,Oc=Yc*Ks,Dw="http://localhost:9999",zw="supabase.auth.token",Mw={"X-Client-Info":`gotrue-js/${ry}`},Pc="X-Supabase-Api-Version",iy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lw=600*1e3;class ni extends Error{constructor(n,s,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function ae(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class qw extends ni{constructor(n,s,l){super(n,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function Hw(i){return ae(i)&&i.name==="AuthApiError"}class Yn extends ni{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class yn extends ni{constructor(n,s,l,u){super(n,l,u),this.name=s,this.status=l}}class Bt extends yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $w(i){return ae(i)&&i.name==="AuthSessionMissingError"}class qs extends yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ml extends yn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Bl extends yn{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gw(i){return ae(i)&&i.name==="AuthImplicitGrantRedirectError"}class Mg extends yn{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kc extends yn{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Ac(i){return ae(i)&&i.name==="AuthRetryableFetchError"}class Bg extends yn{constructor(n,s,l){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class Ic extends yn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lg=` 	
\r=`.split(""),Vw=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<Lg.length;n+=1)i[Lg[n].charCodeAt(0)]=-2;for(let n=0;n<Pl.length;n+=1)i[Pl[n].charCodeAt(0)]=n;return i})();function qg(i,n,s){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(Pl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(Pl[l]),n.queuedBits-=6}}function ly(i,n,s){const l=Vw[i];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Hg(i){const n=[],s=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=f=>{Kw(f,l,s)};for(let f=0;f<i.length;f+=1)ly(i.charCodeAt(f),u,c);return n.join("")}function Yw(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Pw(i,n){for(let s=0;s<i.length;s+=1){let l=i.charCodeAt(s);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(i.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}Yw(l,n)}}function Kw(i,n,s){if(n.utf8seq===0){if(i<=127){s(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Qs(i){const n=[],s={queue:0,queuedBits:0},l=u=>{n.push(u)};for(let u=0;u<i.length;u+=1)ly(i.charCodeAt(u),s,l);return new Uint8Array(n)}function Iw(i){const n=[];return Pw(i,s=>n.push(s)),new Uint8Array(n)}function Pn(i){const n=[],s={queue:0,queuedBits:0},l=u=>{n.push(u)};return i.forEach(u=>qg(u,s,l)),qg(null,s,l),n.join("")}function Qw(i){return Math.round(Date.now()/1e3)+i}function Jw(){return Symbol("auth-callback")}const gt=()=>typeof window<"u"&&typeof document<"u",qn={tested:!1,writable:!1},oy=()=>{if(!gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qn.tested)return qn.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),qn.tested=!0,qn.writable=!0}catch{qn.tested=!0,qn.writable=!1}return qn.writable};function Xw(i){const n={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,c)=>{n[c]=u})}catch{}return s.searchParams.forEach((l,u)=>{n[u]=l}),n}const uy=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Zw=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Is=async(i,n,s)=>{await i.setItem(n,JSON.stringify(s))},Hn=async(i,n)=>{const s=await i.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},gn=async(i,n)=>{await i.removeItem(n)};class Wl{constructor(){this.promise=new Wl.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Wl.promiseConstructor=Promise;function Cc(i){const n=i.split(".");if(n.length!==3)throw new Ic("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Bw.test(n[l]))throw new Ic("JWT not in base64url format");return{header:JSON.parse(Hg(n[0])),payload:JSON.parse(Hg(n[1])),signature:Qs(n[2]),raw:{header:n[0],payload:n[1]}}}async function Fw(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function Ww(i,n){return new Promise((l,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await i(c);if(!n(c,null,f)){l(f);return}}catch(f){if(!n(c,f)){u(f);return}}})()})}function e_(i){return("0"+i.toString(16)).substr(-2)}function t_(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let u="";for(let c=0;c<56;c++)u+=s.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(n),Array.from(n,e_).join("")}async function a_(i){const s=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(l);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function n_(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=await a_(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hs(i,n,s=!1){const l=t_();let u=l;s&&(u+="/PASSWORD_RECOVERY"),await Is(i,`${n}-code-verifier`,u);const c=await n_(l);return[c,l===c?"plain":"s256"]}const s_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function r_(i){const n=i.headers.get(Pc);if(!n||!n.match(s_))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function i_(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function l_(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const o_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $s(i){if(!o_.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rc(){const i={};return new Proxy(i,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function u_(i,n){return new Proxy(i,{get:(s,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const c=l.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,l,u)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,l,u)}})}function $g(i){return JSON.parse(JSON.stringify(i))}const $n=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),c_=[502,503,504];async function Gg(i){var n;if(!Zw(i))throw new Kc($n(i),0);if(c_.includes(i.status))throw new Kc($n(i),i.status);let s;try{s=await i.json()}catch(c){throw new Yn($n(c),c)}let l;const u=r_(i);if(u&&u.getTime()>=iy["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new Bg($n(s),i.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Bt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new Bg($n(s),i.status,s.weak_password.reasons);throw new qw($n(s),i.status||500,l)}const d_=(i,n,s,l)=>{const u={method:i,headers:n?.headers||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),s))};async function oe(i,n,s,l){var u;const c=Object.assign({},l?.headers);c[Pc]||(c[Pc]=iy["2024-01-01"].name),l?.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const f=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await h_(i,n,s+g,{headers:c,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function h_(i,n,s,l,u,c){const f=d_(n,l,u,c);let g;try{g=await i(s,Object.assign({},f))}catch(m){throw console.error(m),new Kc($n(m),0)}if(g.ok||await Gg(g),l?.noResolveJson)return g;try{return await g.json()}catch(m){await Gg(m)}}function sa(i){var n;let s=null;g_(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=Qw(i.expires_in)));const l=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:s,user:l},error:null}}function Vg(i){const n=sa(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(n.data.weak_password=i.weak_password),n}function pn(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function f_(i){return{data:i,error:null}}function m_(i){const{action_link:n,email_otp:s,hashed_token:l,redirect_to:u,verification_type:c}=i,f=Fs(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:s,hashed_token:l,redirect_to:u,verification_type:c},m=Object.assign({},f);return{data:{properties:g,user:m},error:null}}function Yg(i){return i}function g_(i){return i.access_token&&i.refresh_token&&i.expires_in}const kc=["global","local","others"];class p_{constructor({url:n="",headers:s={},fetch:l}){this.url=n,this.headers=s,this.fetch=uy(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=kc[0]){if(kc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kc.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ae(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,s={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:pn})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:s}=n,l=Fs(n,["options"]),u=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:m_,redirectTo:s?.redirectTo})}catch(s){if(ae(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:pn})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,l,u,c,f,g,m;try{const y={nextPage:null,lastPage:0,total:0},x=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(c=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Yg});if(x.error)throw x.error;const v=await x.json(),w=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(m=(g=x.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(N=>{const O=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(N.split(";")[1].split("=")[1]);y[`${C}Page`]=O}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},v),y),error:null}}catch(y){if(ae(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){$s(n);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:pn})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){$s(n);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:pn})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,s=!1){$s(n);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:pn})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){$s(n.userId);try{const{data:s,error:l}=await oe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:l}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _deleteFactor(n){$s(n.userId),$s(n.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,l,u,c,f,g,m;try{const y={nextPage:null,lastPage:0,total:0},x=await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(c=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Yg});if(x.error)throw x.error;const v=await x.json(),w=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(m=(g=x.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(N=>{const O=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(N.split(";")[1].split("=")[1]);y[`${C}Page`]=O}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},v),y),error:null}}catch(y){if(ae(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}}function Pg(i={}){return{getItem:n=>i[n]||null,setItem:(n,s)=>{i[n]=s},removeItem:n=>{delete i[n]}}}const Gs={debug:!!(globalThis&&oy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cy extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class y_ extends cy{}async function b_(i,n,s){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return await s()}finally{Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(n===0)throw Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new y_(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Gs.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function v_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function dy(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function x_(i){return parseInt(i,16)}function w_(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function __(i){var n;const{chainId:s,domain:l,expirationTime:u,issuedAt:c=new Date,nonce:f,notBefore:g,requestId:m,resources:y,scheme:x,uri:v,version:w}=i;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const _=dy(i.address),N=x?`${x}://${l}`:l,O=i.statement?`${i.statement}
`:"",C=`${N} wants you to sign in with your Ethereum account:
${_}

${O}`;let D=`URI: ${v}
Version: ${w}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${c.toISOString()}`;if(u&&(D+=`
Expiration Time: ${u.toISOString()}`),g&&(D+=`
Not Before: ${g.toISOString()}`),m&&(D+=`
Request ID: ${m}`),y){let L=`
Resources:`;for(const B of y){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);L+=`
- ${B}`}D+=L}return`${C}
${D}`}class et extends Error{constructor({message:n,code:s,cause:l,name:u}){var c;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(c=u??(l instanceof Error?l.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class Kl extends et{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function S_({error:i,options:n}){var s,l,u;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new et({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return c.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(hy(f)){if(c.rp.id!==f)return new et({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function j_({error:i,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new et({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const l=window.location.hostname;if(hy(l)){if(s.rpId!==l)return new et({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class E_{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const N_=new E_;function T_(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:s,excludeCredentials:l}=i,u=Fs(i,["challenge","user","excludeCredentials"]),c=Qs(n).buffer,f=Object.assign(Object.assign({},s),{id:Qs(s.id).buffer}),g=Object.assign(Object.assign({},u),{challenge:c,user:f});if(l&&l.length>0){g.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const y=l[m];g.excludeCredentials[m]=Object.assign(Object.assign({},y),{id:Qs(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return g}function O_(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:s}=i,l=Fs(i,["challenge","allowCredentials"]),u=Qs(n).buffer,c=Object.assign(Object.assign({},l),{challenge:u});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const g=s[f];c.allowCredentials[f]=Object.assign(Object.assign({},g),{id:Qs(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return c}function A_(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i;return{id:i.id,rawId:i.id,response:{attestationObject:Pn(new Uint8Array(i.response.attestationObject)),clientDataJSON:Pn(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function C_(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i,l=i.getClientExtensionResults(),u=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Pn(new Uint8Array(u.authenticatorData)),clientDataJSON:Pn(new Uint8Array(u.clientDataJSON)),signature:Pn(new Uint8Array(u.signature)),userHandle:u.userHandle?Pn(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function hy(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Kg(){var i,n;return!!(gt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function R_(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Kl("Browser returned unexpected credential type",n)}:{data:null,error:new Kl("Empty credential response",n)}}catch(n){return{data:null,error:S_({error:n,options:i})}}}async function k_(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Kl("Browser returned unexpected credential type",n)}:{data:null,error:new Kl("Empty credential response",n)}}catch(n){return{data:null,error:j_({error:n,options:i})}}}const U_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},D_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Il(...i){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),s=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of i)if(u)for(const c in u){const f=u[c];if(f!==void 0)if(Array.isArray(f))l[c]=f;else if(s(f))l[c]=f;else if(n(f)){const g=l[c];n(g)?l[c]=Il(g,f):l[c]=Il(f)}else l[c]=f}return l}function z_(i,n){return Il(U_,i,n||{})}function M_(i,n){return Il(D_,i,n||{})}class B_{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:l,signal:u},c){try{const{data:f,error:g}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!f)return{data:null,error:g};const m=u??N_.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${l}`),y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=z_(f.webauthn.credential_options.publicKey,c?.create),{data:x,error:v}=await R_({publicKey:y,signal:m});return x?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:v}}case"request":{const y=M_(f.webauthn.credential_options.publicKey,c?.request),{data:x,error:v}=await k_(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:m}));return x?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:v}}}}catch(f){return ae(f)?{data:null,error:f}:{data:null,error:new Yn("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:s,webauthn:l}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new ni("rpId is required for WebAuthn authentication")};try{if(!Kg())return{data:null,error:new Yn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:l},signal:u},{request:c});if(!f)return{data:null,error:g};const{webauthn:m}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:l,credential_response:m.credential_response}})}catch(f){return ae(f)?{data:null,error:f}:{data:null,error:new Yn("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new ni("rpId is required for WebAuthn registration")};try{if(!Kg())return{data:null,error:new Yn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(x=>{var v;return(v=x.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:g};const{data:m,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:l},signal:u},{create:c});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:y}}catch(f){return ae(f)?{data:null,error:f}:{data:null,error:new Yn("Unexpected error in register",f)}}}}v_();const L_={url:Dw,storageKey:zw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Mw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ig(i,n,s){return await s()}const Vs={};class si{get jwks(){var n,s;return(s=(n=Vs[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=Vs[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{cachedAt:n})}constructor(n){var s,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},L_),n);if(this.storageKey=c.storageKey,this.instanceID=(s=si.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,si.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&gt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new p_({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=uy(c.fetch),this.lock=c.lock||Ig,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:gt()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=b_:this.lock=Ig,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new B_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:oy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pg(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Pg(this.memoryStorage)),gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ry}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},l="none";if(gt()&&(s=Xw(window.location.href),this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce")),gt()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:c}=await this._getSessionFromURL(s,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Gw(c)){const m=(n=c.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:f,redirectType:g}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ae(s)?this._returnResult({error:s}):this._returnResult({error:new Yn("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,l,u;try{const c=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:sa}),{data:f,error:g}=c;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const m=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(c){if(ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(n){var s,l,u;try{let c;if("email"in n){const{email:x,password:v,options:w}=n;let _=null,N=null;this.flowType==="pkce"&&([_,N]=await Hs(this.storage,this.storageKey)),c=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:x,password:v,data:(s=w?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:_,code_challenge_method:N},xform:sa})}else if("phone"in n){const{phone:x,password:v,options:w}=n;c=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:v,data:(l=w?.data)!==null&&l!==void 0?l:{},channel:(u=w?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:sa})}else throw new Ml("You must provide either an email or phone number and a password");const{data:f,error:g}=c;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const m=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(c){if(ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:f,options:g}=n;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Vg})}else if("phone"in n){const{phone:c,password:f,options:g}=n;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Vg})}else throw new Ml("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new qs;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,l,u,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,l,u,c,f,g,m,y,x,v,w;let _,N;if("message"in n)_=n.message,N=n.signature;else{const{chain:O,wallet:C,statement:D,options:L}=n;let B;if(gt())if(typeof C=="object")B=C;else{const ue=window;if("ethereum"in ue&&typeof ue.ethereum=="object"&&"request"in ue.ethereum&&typeof ue.ethereum.request=="function")B=ue.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=C}const Q=new URL((s=L?.url)!==null&&s!==void 0?s:window.location.href),se=await B.request({method:"eth_requestAccounts"}).then(ue=>ue).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!se||se.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=dy(se[0]);let K=(l=L?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!K){const ue=await B.request({method:"eth_chainId"});K=x_(ue)}const ge={domain:Q.host,address:P,statement:D,uri:Q.href,version:"1",chainId:K,nonce:(u=L?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(c=L?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(g=L?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(m=L?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(y=L?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(x=L?.signInWithEthereum)===null||x===void 0?void 0:x.resources};_=__(ge),N=await B.request({method:"personal_sign",params:[w_(_),P]})}try{const{data:O,error:C}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:N},!((v=n.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:sa});if(C)throw C;if(!O||!O.session||!O.user){const D=new qs;return this._returnResult({data:{user:null,session:null},error:D})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:C})}catch(O){if(ae(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(n){var s,l,u,c,f,g,m,y,x,v,w,_;let N,O;if("message"in n)N=n.message,O=n.signature;else{const{chain:C,wallet:D,statement:L,options:B}=n;let Q;if(gt())if(typeof D=="object")Q=D;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))Q=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=D}const se=new URL((s=B?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in Q&&Q.signIn){const P=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:se.host,uri:se.href}),L?{statement:L}:null));let K;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")K=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)K=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)N=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),O=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${se.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${se.href}`,`Issued At: ${(u=(l=B?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=B?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((f=B?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((g=B?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((m=B?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((y=B?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((v=(x=B?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||v===void 0)&&v.length?["Resources",...B.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const P=await Q.signMessage(new TextEncoder().encode(N),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=P}}try{const{data:C,error:D}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Pn(O)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:sa});if(D)throw D;if(!C||!C.session||!C.user){const L=new qs;return this._returnResult({data:{user:null,session:null},error:L})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:D})}catch(C){if(ae(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(n){const s=await Hn(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(s??"").split("/");try{const{data:c,error:f}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:sa});if(await gn(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!c||!c.session||!c.user){const g=new qs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:f})}catch(c){if(ae(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(n){try{const{options:s,provider:l,token:u,access_token:c,nonce:f}=n,g=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:sa}),{data:m,error:y}=g;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m||!m.session||!m.user){const x=new qs;return this._returnResult({data:{user:null,session:null},error:x})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:y})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,l,u,c,f;try{if("email"in n){const{email:g,options:m}=n;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await Hs(this.storage,this.storageKey));const{error:v}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(s=m?.data)!==null&&s!==void 0?s:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:y,code_challenge_method:x},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in n){const{phone:g,options:m}=n,{data:y,error:x}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(u=m?.data)!==null&&u!==void 0?u:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(f=m?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:x})}throw new Ml("You must provide either an email or phone number.")}catch(g){if(ae(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(n){var s,l;try{let u,c;"options"in n&&(u=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:g}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:sa});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,y=f.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(u){if(ae(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var s,l,u,c,f;try{let g=null,m=null;this.flowType==="pkce"&&([g,m]=await Hs(this.storage,this.storageKey));const y=await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:m}),headers:this.headers,xform:f_});return!((c=y.data)===null||c===void 0)&&c.url&&gt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(g){if(ae(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;if(l)throw l;if(!s)throw new Bt;const{error:u}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:l,type:u,options:c}=n,{error:f}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:u,options:c}=n,{data:f,error:g}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:g})}throw new Ml("You must provide either an email or phone number and a type")}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Hn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Oc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await Hn(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Rc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=u_(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:pn}):await this._useSession(async s=>{var l,u,c;const{data:f,error:g}=s;if(g)throw g;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bt}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:pn})})}catch(s){if(ae(s))return $w(s)&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async l=>{const{data:u,error:c}=l;if(c)throw c;if(!u.session)throw new Bt;const f=u.session;let g=null,m=null;this.flowType==="pkce"&&n.email!=null&&([g,m]=await Hs(this.storage,this.storageKey));const{data:y,error:x}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:m}),jwt:f.access_token,xform:pn});if(x)throw x;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(ae(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Bt;const s=Date.now()/1e3;let l=s,u=!0,c=null;const{payload:f}=Cc(n.access_token);if(f.exp&&(l=f.exp,u=l<=s),u){const{data:g,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g)return{data:{user:null,session:null},error:null};c=g}else{const{data:g,error:m}=await this._getUser(n.access_token);if(m)throw m;c={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(ae(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var l;if(!n){const{data:f,error:g}=s;if(g)throw g;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Bt;const{data:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!gt())throw new Bl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Bl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Mg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Mg("No code detected.");const{data:L,error:B}=await this._exchangeCodeForSession(n.code);if(B)throw B;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:c,refresh_token:f,expires_in:g,expires_at:m,token_type:y}=n;if(!c||!g||!f||!y)throw new Bl("No session defined in URL");const x=Math.round(Date.now()/1e3),v=parseInt(g);let w=x+v;m&&(w=parseInt(m));const _=w-x;_*1e3<=Ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const N=w-v;x-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,w,x):x-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,w,x);const{data:O,error:C}=await this._getUser(c);if(C)throw C;const D={provider_token:l,provider_refresh_token:u,access_token:c,expires_in:v,expires_at:w,refresh_token:f,token_type:y,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:n.type},error:null})}catch(l){if(ae(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Hn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:u,error:c}=s;if(c)return this._returnResult({error:c});const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:g}=await this.admin.signOut(f,n);if(g&&!(Hw(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return n!=="others"&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=Jw(),l={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async s=>{var l,u;try{const{data:{session:c},error:f}=s;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Hs(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(ae(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var n;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:l,error:u}=await this._useSession(async c=>{var f,g,m,y,x;const{data:v,error:w}=c;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",_,{headers:this.headers,jwt:(x=(y=v.session)===null||y===void 0?void 0:y.access_token)!==null&&x!==void 0?x:void 0})});if(u)throw u;return gt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(ae(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var l;try{const{error:u,data:{session:c}}=s;if(u)throw u;const{options:f,provider:g,token:m,access_token:y,nonce:x}=n,v=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=c?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:g,id_token:m,access_token:y,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:sa}),{data:w,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new qs}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:_}))}catch(u){if(ae(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var l,u;const{data:c,error:f}=s;if(f)throw f;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await Ww(async u=>(u>0&&await Fw(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:sa})),(u,c)=>{const f=200*Math.pow(2,u);return c&&Ac(c)&&Date.now()+f-l<Ks})}catch(l){if(this._debug(s,"error",l),ae(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",l),gt()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await Hn(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Hn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await Is(this.userStorage,this.storageKey+"-user",f)),u.user=(n=f?.user)!==null&&n!==void 0?n:Rc()}else if(u&&!u.user&&!u.user){const f=await Hn(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await gn(this.storage,this.storageKey+"-user"),await Is(this.storage,this.storageKey,u)):u.user=Rc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const c=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Oc;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${Oc}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Ac(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(u.access_token);!g&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var s,l;if(!n)throw new Bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Wl;const{data:c,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!c.session)throw new Bt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const g={data:c.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(c){if(this._debug(u,"error",c),ae(c)){const f={data:null,error:c};return Ac(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,s,l=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,s)}catch(m){c.push(m)}});if(await Promise.all(f),c.length>0){for(let g=0;g<c.length;g+=1)console.error(c[g]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await Is(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const c=$g(u);await Is(this.storage,this.storageKey,c)}else{const u=$g(s);await Is(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await gn(this.storage,this.storageKey),await gn(this.storage,this.storageKey+"-code-verifier"),await gn(this.storage,this.storageKey+"-user"),this.userStorage&&await gn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&gt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Ks);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-n)/Ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ks}ms, refresh threshold is ${Yc} ticks`),u<=Yc&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof cy)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,l){const u=[`provider=${encodeURIComponent(s)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,f]=await Hs(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(g.toString())}if(l?.queryParams){const c=new URLSearchParams(l.queryParams);u.push(c.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;return c?this._returnResult({data:null,error:c}):await oe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var l,u;const{data:c,error:f}=s;if(f)return this._returnResult({data:null,error:f});const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:y}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(n.factorType==="totp"&&m.type==="totp"&&(!((u=m?.totp)===null||u===void 0)&&u.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?A_(n.webauthn.credential_response):C_(n.webauthn.credential_response)})}:{code:n.code}),{data:g,error:m}=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:m}))})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const f=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:g}=f;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:T_(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:O_(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=s?.factors)!==null&&n!==void 0?n:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var n,s;const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Cc(l.access_token);let f=null;c.aal&&(f=c.aal);let g=f;((s=(n=l.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(g="aal2");const y=c.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;return u?this._returnResult({data:null,error:u}):l?await oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Bt})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async l=>{const{data:{session:u},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new Bt});const f=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&gt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,s){try{return await this._useSession(async l=>{const{data:{session:u},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new Bt});const f=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&gt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;return l?this._returnResult({data:null,error:l}):s?await oe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Bt})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;return u?this._returnResult({data:null,error:u}):l?(await oe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bt})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let l=s.keys.find(g=>g.kid===n);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(g=>g.kid===n),l&&this.jwks_cached_at+Lw>u)return l;const{data:c,error:f}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,l=c.keys.find(g=>g.kid===n),!l)?null:l}async getClaims(n,s={}){try{let l=n;if(!l){const{data:_,error:N}=await this.getSession();if(N||!_.session)return this._returnResult({data:null,error:N});l=_.session.access_token}const{header:u,payload:c,signature:f,raw:{header:g,payload:m}}=Cc(l);s?.allowExpired||i_(c.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!y){const{error:_}=await this.getUser(l);if(_)throw _;return{data:{claims:c,header:u,signature:f},error:null}}const x=l_(u.alg),v=await crypto.subtle.importKey("jwk",y,x,!0,["verify"]);if(!await crypto.subtle.verify(x,v,f,Iw(`${g}.${m}`)))throw new Ic("Invalid JWT signature");return{data:{claims:c,header:u,signature:f},error:null}}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}}si.nextInstanceID={};const q_=si;class H_ extends q_{constructor(n){super(n)}}class $_{constructor(n,s,l){var u,c,f;this.supabaseUrl=n,this.supabaseKey=s;const g=Uw(n);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const m=`sb-${g.hostname.split(".")[0]}-auth-token`,y={db:Ew,realtime:Tw,auth:Object.assign(Object.assign({},Nw),{storageKey:m}),global:jw},x=kw(l??{},y);this.storageKey=(u=x.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(c=x.global.headers)!==null&&c!==void 0?c:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=x.auth)!==null&&f!==void 0?f:{},this.headers,x.global.fetch),this.fetch=Cw(s,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new Tx(new URL("rest/v1",g).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new ww(this.storageUrl.href,this.headers,this.fetch,l?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new Sx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,s,l)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,s;if(this.accessToken)return await this.accessToken();const{data:l}=await this.auth.getSession();return(s=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:l,storage:u,userStorage:c,storageKey:f,flowType:g,lock:m,debug:y,throwOnError:x},v,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new H_({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),v),storageKey:f,autoRefreshToken:n,persistSession:s,detectSessionInUrl:l,storage:u,userStorage:c,flowType:g,lock:m,debug:y,throwOnError:x,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Yx(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,l)=>{this._handleTokenChanged(s,"CLIENT",l?.access_token)})}_handleTokenChanged(n,s,l){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const G_=(i,n,s)=>new $_(i,n,s);function V_(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const n=i.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}V_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Y_="https://zaqqpnehmeqrsmoiplcw.supabase.co",P_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphcXFwbmVobWVxcnNtb2lwbGN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1Njc4NTIsImV4cCI6MjA4MDE0Mzg1Mn0.8NFx_l6LnV9LFMqp44l_xhYPs3vrqhSfeGvonQygaus";let Ll=null;function Qg(){return Ll||(Ll=G_(Y_,P_,{auth:{persistSession:!0,autoRefreshToken:!0}}),Ll)}const Je=new Proxy({},{get(i,n){const s=Qg(),l=s[n];return typeof l=="function"?l.bind(s):l},apply(i,n,s){return Qg().apply(n,s)}}),ot=i=>(console.error("Supabase error:",i),i?{message:i.message||String(i),code:i.code||null,details:i.details||null}:{message:"Unknown error",code:null,details:null}),K_=i=>i&&{...i,id:i.id,name:i.name,description:i.description,price:i.price,category:i.category,image:i.image,gallery:Array.isArray(i.gallery)?i.gallery:i.gallery?[i.gallery]:[],stock:i.stock,isNew:i.is_new??i.isNew??!1,isOnSale:i.is_on_sale??i.isOnSale??!1,isFeatured:i.is_featured??i.isFeatured??!1,isLimitedStock:i.is_limited_stock??i.isLimitedStock??!1,createdAt:i.created_at??i.createdAt,reviews:i.reviews??i.review_list??null},fy=async()=>{try{const{data:i,error:n}=await Je.from("products").select("*").order("created_at",{ascending:!1});if(n)throw n;return{data:(i||[]).map(K_),error:null}}catch(i){return{data:null,error:ot(i)}}},I_=async i=>{try{const{data:n,error:s}=await Je.from("products").insert([i]).select().single();if(s)throw s;return{data:n,error:null}}catch(n){return{data:null,error:ot(n)}}},Jg=async i=>{try{const{error:n}=await Je.from("products").delete().eq("id",i);if(n)throw n;return{error:null}}catch(n){return{error:ot(n)}}},Xg="whimsical-site-content-v1",Wt=i=>JSON.parse(JSON.stringify(i)),lt={hero:{tagline:"BY ACHLYS",heading:"Whimsical Fuzzy Bouquets & Keychains",description:"Handcrafted floral keepsakes and charming accessories designed to brighten your day. Each piece is lovingly assembled to capture a magical, cozy aesthetic.",stats:[{value:"250+",label:"Happy Customers"},{value:"120+",label:"Custom Pieces"},{value:"48h",label:"Crafting Time"}]},about:{heading:"Crafted with whimsy & heart",description:"From fuzzy petals to sparkling accents, every arrangement is handcrafted in small batches. We blend nostalgic color palettes with modern silhouettes so each bouquet or keychain feels like a keepsake.",highlights:[{title:"Sustainable fibers",detail:"Using premium hypoallergenic fuzz"},{title:"Gift-ready",detail:"Packaged with tissue and handwritten notes"}],pillars:[{icon:"",title:"Handcrafted",detail:"Each petal is shaped individually"},{icon:"",title:"Made with Love",detail:"Curated palettes & textures"},{icon:"",title:"Perfect Gifts",detail:"Custom notes & speedy shipping"},{icon:"",title:"Limited Drops",detail:"Seasonal capsules & collabs"}]},socials:{facebook:"https://facebook.com/whimsicalbyachlys",instagram:"https://instagram.com/whimsicalbyachlys",tiktok:"https://tiktok.com/@whimsicalbyachlys"},general:{shippingFee:350,taxRate:.08},products:[]},Q_=i=>i?{hero:{...Wt(lt.hero),...i.hero||{},stats:i?.hero?.stats||Wt(lt.hero.stats)},about:{...Wt(lt.about),...i.about||{},highlights:i?.about?.highlights||Wt(lt.about.highlights),pillars:i?.about?.pillars||Wt(lt.about.pillars)},socials:{...Wt(lt.socials),...i.socials||{}},general:{...Wt(lt.general),...i.general||{}},products:Array.isArray(i?.products)?i.products.map((n,s)=>{const l=lt.products[s%lt.products.length];let u=n.image||l?.image||"";u&&!u.startsWith("http://")&&!u.startsWith("https://")&&!u.startsWith("/")&&(u=l?.image||"");const c=Array.isArray(n.gallery)?n.gallery.slice(0,3).filter(Boolean).map(f=>f&&!f.startsWith("http://")&&!f.startsWith("https://")&&!f.startsWith("/")?null:f).filter(Boolean):[];return{...n,gallery:c,image:u,reviews:Array.isArray(n.reviews)?n.reviews.map((f,g)=>({id:f.id??Date.now()+g,name:f.name||"Guest",rating:Number(f.rating)||5,comment:f.comment||""})):[]}}):Wt(lt.products)}:Wt(lt),my=R.createContext();function J_({children:i}){const[n,s]=R.useState(()=>{if(typeof window>"u")return Wt(lt);try{const v=localStorage.getItem(Xg);return Q_(v?JSON.parse(v):null)}catch(v){return console.warn("Failed to parse stored content",v),Wt(lt)}});R.useEffect(()=>{try{localStorage.setItem(Xg,JSON.stringify(n))}catch(v){console.warn("Failed to persist content",v)}},[n]),R.useEffect(()=>{(async()=>{try{const{data:w,error:_}=await fy();if(_){console.warn("Failed to load products from Supabase:",_);return}w&&w.length>0&&s(N=>({...N,products:w}))}catch(w){console.warn("Error loading products from Supabase:",w)}})()},[]);const l=(v,w)=>{s(_=>({..._,[v]:{..._[v],...w}}))},u=(v,w,_,N,O)=>{s(C=>{const D=C[v][w].map((L,B)=>B===_?{...L,[N]:O}:L);return{...C,[v]:{...C[v],[w]:D}}})},c=v=>{s(w=>({...w,products:[...w.products,{...v,id:Date.now(),price:Number(v.price)||0,stock:Number(v.stock)||0,gallery:Array.isArray(v.gallery)?v.gallery.slice(0,3):[],reviews:Array.isArray(v.reviews)?v.reviews.map((_,N)=>({id:_.id??Date.now()+N,name:_.name||"Guest",rating:Number(_.rating)||5,comment:_.comment||""})):[]}]}))},f=(v,w)=>{s(_=>({..._,products:_.products.map(N=>N.id===v?{...N,...w,price:w.price!==void 0?Number(w.price)||0:N.price,stock:w.stock!==void 0?Number(w.stock)||0:N.stock,gallery:w.gallery&&Array.isArray(w.gallery)?w.gallery.slice(0,3):N.gallery,reviews:w.reviews&&Array.isArray(w.reviews)?w.reviews.map(O=>({...O,id:O.id??Date.now(),rating:Number(O.rating)||5})):N.reviews}:N)}))},g=v=>{s(w=>({...w,products:w.products.filter(_=>_.id!==v)}))},m=(v,w)=>{s(_=>({..._,products:_.products.map(N=>N.id===v?{...N,reviews:[...N.reviews,{id:Date.now(),name:w.name||"Guest",rating:Number(w.rating)||5,comment:w.comment||""}]}:N)}))},y=(v,w)=>{s(_=>({..._,products:_.products.map(N=>N.id===v?{...N,reviews:N.reviews.filter(O=>O.id!==w)}:N)}))},x=()=>s(Wt(lt));return h.jsx(my.Provider,{value:{content:n,updateContent:l,updateNestedItem:u,addProduct:c,updateProduct:f,removeProduct:g,addProductReview:m,removeProductReview:y,resetContent:x},children:i})}function od(){const i=R.useContext(my);if(!i)throw new Error("useSiteContent must be used within a SiteContentProvider");return i}const X_=()=>{const{content:i}=od(),{hero:n,about:s,socials:l}=i,u=i.products||[],c=n?.stats||[];let f=u.filter(g=>g.isNew).slice(0,4);return f.length===0&&(f=u.slice(0,4)),h.jsxs("div",{children:[h.jsxs("section",{className:"relative py-24 overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0",children:[h.jsx("img",{src:"https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=1600&q=80",alt:"Soft floral background",className:"w-full h-full object-cover opacity-20",loading:"lazy"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-muted-pink/90 via-beige/95 to-beige"})]}),h.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row items-center gap-12",children:[h.jsxs("div",{className:"text-center md:text-left space-y-6",children:[h.jsx("p",{className:"tracking-[0.5em] text-soft-brown text-sm uppercase",children:n.tagline}),h.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-accent-red",style:{fontFamily:"Georgia, serif"},children:n.heading}),h.jsx("p",{className:"text-lg text-soft-brown/80 max-w-2xl",children:n.description}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center md:justify-start",children:[h.jsx("button",{className:"btn-primary text-base px-8 py-3",children:"Shop Bouquets"}),h.jsx("button",{className:"btn-secondary text-base px-8 py-3 border border-muted-pink/50",children:"Custom Orders"})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-6 pt-6 text-soft-brown",children:[c.map(({value:g,label:m})=>h.jsxs("div",{className:"text-center md:text-left",children:[h.jsx("p",{className:"text-3xl font-bold text-accent-red",children:g}),h.jsx("p",{className:"text-xs uppercase tracking-[0.3em]",children:m})]},m)),c.length===0&&h.jsx("p",{className:"col-span-3 text-sm text-gray-500 text-center",children:"Add hero stats from the admin dashboard to highlight wins."})]})]}),h.jsxs("div",{className:"bg-white/70 backdrop-blur p-6 rounded-3xl shadow-2xl w-full max-w-sm",children:[h.jsx("img",{src:"/logo-whimsical.png",alt:"Whimsical by Achlys logo",className:"w-48 mx-auto mb-6"}),h.jsx("p",{className:"text-soft-brown text-center text-sm leading-relaxed",children:"Fuzzy petals, sparkling charms, and whimsical palettes inspired by dreamy pastels. Each collection celebrates playfulness while keeping an elegant finish perfect for gifting."})]})]})]}),h.jsx("section",{className:"py-20 bg-beige/40",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-6 mb-12",children:[h.jsxs("div",{children:[h.jsx("p",{className:"uppercase tracking-[0.5em] text-xs text-soft-brown/70",children:"Best Sellers"}),h.jsx("p",{className:"text-3xl font-bold text-soft-brown",children:"Featured Products"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Curated bouquets and accessories our customers adore."})]}),h.jsx("button",{className:"btn-secondary self-start md:self-auto",children:"View Full Catalog"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:f.map(g=>h.jsx(vp,{product:g},g.id))})]})}),h.jsx("section",{className:"bg-white py-20",children:h.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"grid gap-12 md:grid-cols-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"uppercase tracking-[0.5em] text-xs text-soft-brown/70",children:"Our Story"}),h.jsx("h2",{className:"text-4xl font-bold text-soft-brown mb-6",children:s.heading}),h.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description}),h.jsx("div",{className:"mt-8 grid grid-cols-2 gap-6 text-soft-brown",children:s.highlights.map(({title:g,detail:m})=>h.jsxs("div",{className:"bg-beige/40 rounded-2xl p-4",children:[h.jsx("p",{className:"font-semibold",children:g}),h.jsx("p",{className:"text-sm text-gray-600 mt-2",children:m})]},g))})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:s.pillars.map(({icon:g,title:m,detail:y})=>h.jsxs("div",{className:"bg-white shadow-lg rounded-3xl p-6 border border-beige/40",children:[h.jsx("div",{className:"w-12 h-12 bg-muted-pink/40 rounded-2xl flex items-center justify-center text-2xl mb-4",children:g}),h.jsx("h3",{className:"font-semibold text-soft-brown mb-2",children:m}),h.jsx("p",{className:"text-sm text-gray-600",children:y})]},m))})]})})}),h.jsx("section",{className:"py-16 bg-gradient-to-r from-beige via-white to-beige",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center space-y-4",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.5em] text-soft-brown/70",children:"Connect"}),h.jsx("h2",{className:"text-3xl font-bold text-soft-brown",children:"Follow Whimsical By Achlys"}),h.jsx("p",{className:"text-gray-600",children:"See behind-the-scenes crafting, product drops, and custom requests."}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mt-6",children:[l?.facebook&&h.jsxs("a",{href:l.facebook,target:"_blank",rel:"noreferrer",className:"w-full sm:w-auto inline-flex items-center justify-center gap-3 rounded-full border border-muted-pink px-6 py-3 text-soft-brown hover:bg-muted-pink/20 transition",children:[h.jsx("img",{src:"/logo/facebook.png",alt:"Facebook",className:"h-8 w-8 rounded-full object-contain"}),"Facebook"]}),l?.instagram&&h.jsxs("a",{href:l.instagram,target:"_blank",rel:"noreferrer",className:"w-full sm:w-auto inline-flex items-center justify-center gap-3 rounded-full border border-muted-pink px-6 py-3 text-soft-brown hover:bg-muted-pink/20 transition",children:[h.jsx("img",{src:"/logo/instagram.png",alt:"Instagram",className:"h-8 w-8 rounded-full object-contain"}),"Instagram"]}),l?.tiktok&&h.jsxs("a",{href:l.tiktok,target:"_blank",rel:"noreferrer",className:"w-full sm:w-auto inline-flex items-center justify-center gap-3 rounded-full border border-muted-pink px-6 py-3 text-soft-brown hover:bg-muted-pink/20 transition",children:[h.jsx("img",{src:"/logo/tiktok.png",alt:"TikTok",className:"h-8 w-8 rounded-full object-contain"}),"TikTok"]})]})]})})]})},Z_=async i=>{try{const{data:n,error:s}=await Je.from("product_reviews").insert([i]).select().single();if(s)throw s;return{data:n,error:null}}catch(n){return{data:null,error:ot(n)}}},F_=()=>{const[i,n]=R.useState("All"),[s,l]=R.useState("featured"),[u,c]=R.useState(!1),[f,g]=R.useState({min:"",max:""}),[m,y]=R.useState([]),[x,v]=R.useState(!0),[w,_]=R.useState(null),{addToCart:N}=Xl(),[O,C]=R.useState(null),[D,L]=R.useState(0),[B,Q]=R.useState({name:"",rating:5,comment:""});R.useEffect(()=>{let I=!0;return(async()=>{v(!0),_(null);const{data:Oe,error:Ae}=await fy();I&&(Ae?_(Ae?.message||"Failed to load products"):y(Oe||[]),v(!1))})(),()=>{I=!1}},[]);const se=R.useMemo(()=>{const I=new Set(m.map(ee=>ee.category).filter(Boolean));return["All",...Array.from(I)]},[m]),P=R.useMemo(()=>{const I=m.map(ee=>Number(ee.price)||0);return{min:I.length?Math.min(...I):0,max:I.length?Math.max(...I):0}},[m]),K=R.useMemo(()=>{let I=m;i!=="All"&&(I=I.filter(Ae=>Ae.category===i)),u&&(I=I.filter(Ae=>Ae.isNew));const ee=f.min!==""?Number(f.min):P.min,Oe=f.max!==""?Number(f.max):P.max;switch(I=I.filter(Ae=>{const qe=Number(Ae.price)||0;return qe>=ee&&qe<=Oe}),s){case"price-asc":I=[...I].sort((Ae,qe)=>(Number(Ae.price)||0)-(Number(qe.price)||0));break;case"price-desc":I=[...I].sort((Ae,qe)=>(Number(qe.price)||0)-(Number(Ae.price)||0));break;case"newest":I=[...I].sort((Ae,qe)=>qe.isNew===Ae.isNew?0:qe.isNew?1:-1);break;default:I=[...I]}return I},[m,i,u,f,P,s]),ge=I=>{C(I),L(0),Q({name:"",rating:5,comment:""})},ue=async I=>{if(I.preventDefault(),!(!O||!B.comment.trim()))try{await Z_({product_id:O.id,name:B.name||"Guest",rating:Number(B.rating)||5,comment:B.comment}),Q({name:"",rating:5,comment:""})}catch(ee){console.error("Failed to submit review",ee)}};return h.jsxs("div",{className:"py-8",children:[h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx("h1",{className:"text-4xl font-bold text-center text-soft-brown mb-8",children:"Our Products"}),x&&h.jsx("div",{className:"text-center py-12 text-soft-brown",children:"Loading products"}),w&&h.jsx("div",{className:"text-center py-12 text-red-600",children:String(w)}),!x&&!w&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"space-y-4 mb-8",children:[h.jsx("div",{className:"flex flex-wrap items-center justify-center gap-3",children:se.map(I=>h.jsx("button",{onClick:()=>n(I),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${i===I?"bg-accent-red text-white":"text-soft-brown hover:bg-muted-pink"}`,children:I},I))}),h.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[h.jsxs("label",{className:"text-sm font-medium text-soft-brown",children:["Sort by",h.jsxs("select",{value:s,onChange:I=>l(I.target.value),className:"mt-1 w-full rounded-xl border border-beige/70 bg-white/80 px-3 py-2 text-gray-700 shadow-sm",children:[h.jsx("option",{value:"featured",children:"Featured"}),h.jsx("option",{value:"newest",children:"New arrivals"}),h.jsx("option",{value:"price-asc",children:"Price: Low to High"}),h.jsx("option",{value:"price-desc",children:"Price: High to Low"})]})]}),h.jsxs("label",{className:"text-sm font-medium text-soft-brown",children:["Min Price",h.jsx("input",{type:"number",value:f.min,placeholder:P.min.toString(),onChange:I=>g(ee=>({...ee,min:I.target.value})),className:"mt-1 w-full rounded-xl border border-beige/70 bg-white/80 px-3 py-2 text-gray-700 shadow-sm"})]}),h.jsxs("label",{className:"text-sm font-medium text-soft-brown",children:["Max Price",h.jsx("input",{type:"number",value:f.max,placeholder:P.max.toString(),onChange:I=>g(ee=>({...ee,max:I.target.value})),className:"mt-1 w-full rounded-xl border border-beige/70 bg-white/80 px-3 py-2 text-gray-700 shadow-sm"})]}),h.jsxs("label",{className:"flex items-center gap-3 text-sm font-medium text-soft-brown",children:[h.jsx("input",{type:"checkbox",checked:u,onChange:I=>c(I.target.checked),className:"rounded border-muted-pink text-accent-red"}),"Show only new arrivals"]})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-8",children:K.map(I=>h.jsxs("div",{className:"relative group",children:[I.stock!==void 0&&h.jsxs("span",{className:"absolute top-3 left-3 z-10 rounded-full bg-white/95 px-3 py-1 text-xs font-semibold text-soft-brown shadow",children:["Stock: ",I.stock]}),h.jsx("button",{type:"button",onClick:()=>ge(I),className:"absolute top-3 right-3 z-10 rounded-full border border-soft-brown/20 bg-white px-3 py-1 text-xs font-semibold text-soft-brown shadow opacity-0 group-hover:opacity-100 focus-visible:opacity-100 transition","aria-label":`View details for ${I.name}`,children:"View"}),h.jsx(vp,{product:I})]},I.id))}),K.length===0&&h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-gray-500",children:"No products found in this category."})})]})]}),O&&h.jsx("div",{className:"fixed inset-0 z-40 flex items-end sm:items-center justify-center bg-black/40 p-0 sm:p-4 py-4 sm:py-0",children:h.jsxs("div",{className:"relative w-full max-w-4xl rounded-3xl bg-white shadow-2xl max-h-[90vh] overflow-y-auto",children:[h.jsx("button",{onClick:()=>C(null),className:"absolute right-4 top-4 text-soft-brown hover:text-accent-red","aria-label":"Close product details",children:""}),h.jsxs("div",{className:"grid gap-8 md:grid-cols-2 p-8",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("img",{src:(O.gallery?.length?[O.image,...O.gallery.filter(Boolean)]:[O.image])[D]||"https://via.placeholder.com/600x400/F5E6D3/8B4513?text=Whimsical+By+Achlys",alt:O.name,className:"w-full rounded-3xl object-cover"}),h.jsx("div",{className:"grid grid-cols-4 gap-3",children:[O.image,...O.gallery||[]].filter(Boolean).map((I,ee)=>h.jsx("button",{onClick:()=>L(ee),className:`rounded-2xl overflow-hidden border ${D===ee?"border-accent-red":"border-transparent"}`,children:h.jsx("img",{src:I,alt:"Alternate view",className:"h-20 w-full object-cover"})},I+ee))}),h.jsxs("div",{className:"flex gap-3 text-xs font-semibold",children:[O.isNew&&h.jsx("span",{className:"rounded-full bg-accent-red/15 px-3 py-1 text-accent-red",children:"New arrival"}),O.stock!==void 0&&h.jsxs("span",{className:"rounded-full bg-muted-pink/20 px-3 py-1 text-soft-brown",children:["Stock: ",O.stock]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"uppercase tracking-[0.4em] text-xs text-soft-brown/70",children:O.category}),h.jsx("h3",{className:"text-3xl font-bold text-soft-brown",children:O.name})]}),h.jsx("p",{className:"text-gray-600 leading-relaxed",children:O.description}),h.jsx("p",{className:"text-3xl font-bold text-accent-red",children:Ft(O.price)}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>{N(O),C(null)},className:"btn-primary flex-1",children:"Add to Cart"}),h.jsx("button",{onClick:()=>C(null),className:"btn-secondary",children:"Close"})]}),h.jsxs("div",{className:"pt-4 border-t space-y-3 max-h-60 overflow-y-auto",children:[h.jsx("p",{className:"text-sm font-semibold text-soft-brown",children:"Customer Reviews"}),(O.reviews?.length?O.reviews:[{id:"empty",name:"No reviews yet",rating:0,comment:"Be the first to leave a review!"}]).map(I=>h.jsxs("div",{className:"rounded-2xl bg-beige/40 p-3 text-left",children:[h.jsxs("div",{className:"flex items-center justify-between text-xs text-soft-brown",children:[h.jsx("span",{children:I.name}),h.jsx("span",{children:"".repeat(I.rating||0).padEnd(5,"")})]}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:I.comment})]},I.id)),h.jsxs("form",{onSubmit:ue,className:"space-y-2 rounded-2xl border border-beige/60 p-3 text-left bg-white/70",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-soft-brown/70",children:"Leave a review"}),h.jsx("input",{type:"text",value:B.name,onChange:I=>Q(ee=>({...ee,name:I.target.value})),placeholder:"Your name (optional)",className:"w-full rounded-xl border border-beige/60 px-3 py-2 text-sm"}),h.jsxs("label",{className:"flex items-center gap-3 text-sm text-soft-brown",children:["Rating",h.jsx("select",{value:B.rating,onChange:I=>Q(ee=>({...ee,rating:Number(I.target.value)})),className:"rounded-xl border border-beige/60 px-2 py-1",children:[5,4,3,2,1].map(I=>h.jsxs("option",{value:I,children:[I," "]},I))})]}),h.jsx("textarea",{value:B.comment,onChange:I=>Q(ee=>({...ee,comment:I.target.value})),placeholder:"What did you love about this item?",className:"w-full rounded-xl border border-beige/60 px-3 py-2 text-sm",rows:3,required:!0}),h.jsx("button",{type:"submit",className:"btn-secondary w-full",children:"Submit Review"})]})]})]})]})]})})]})},W_=async i=>{try{const{data:n,error:s}=await Je.from("orders").insert([i]).select().single();if(s)throw s;return{data:n,error:null}}catch(n){return{data:null,error:ot(n)}}},gy=async()=>{try{const{data:i,error:n}=await Je.from("orders").select("*").order("created_at",{ascending:!1});if(n)throw n;return{data:i,error:null}}catch(i){return{data:null,error:ot(i)}}},eS=async(i,n,s=null)=>{try{const l={status:n};s&&(l.payment_status=s);const{data:u,error:c}=await Je.from("orders").update(l).eq("id",i).select().single();if(c)throw c;return{data:u,error:null}}catch(l){return{data:null,error:ot(l)}}},tS=async i=>{try{const{data:n,error:s}=await Je.from("orders").delete().eq("id",i).select().single();if(s)throw s;return{data:n,error:null}}catch(n){return{data:null,error:ot(n)}}},aS=()=>{const{items:i,removeFromCart:n,updateQuantity:s,getTotalPrice:l,clearCart:u}=Xl(),{content:c}=od(),f=c?.general?.shippingFee??0,g=c?.general?.taxRate??0,m=c?.socials?.facebook||"#",[y,x]=R.useState(!1),[v,w]=R.useState(!1),[_,N]=R.useState(""),[O,C]=R.useState(null),[D,L]=R.useState({name:"",email:"",phone:"",address:"",notes:""}),B=(P,K)=>{if(K<=0)n(P);else{const ue=c.products?.find(I=>I.id===P)?.stock??1/0;s(P,K,ue)}},Q=()=>{x(!0),N("")},se=async P=>{if(P.preventDefault(),!D.name.trim()||!D.email.trim()||!D.phone.trim()||!D.address.trim()){N("Please fill in your name, email, contact number, and address.");return}try{w(!0),N("");const K=l(),ge=K*g,ue=K+f+ge,I={user_id:null,email:D.email.trim(),shipping_address:{name:D.name.trim(),email:D.email.trim(),phone:D.phone.trim(),address:D.address.trim()},items:i.map(Ae=>({product_id:Ae.id,name:Ae.name,quantity:Ae.quantity,price:Ae.price})),subtotal:K,shipping_fee:f,tax:ge,total:ue,notes:D.notes?.trim()||null,status:"pending",payment_status:"unpaid",payment_method:"manual"},{data:ee,error:Oe}=await W_(I);if(Oe){N(Oe.error||"Failed to place order. Please try again.");return}C(ee),u(),x(!1)}catch(K){console.error("Checkout failed:",K),N("Something went wrong. Please try again")}finally{w(!1)}};return i.length===0&&!y&&!O?h.jsx("div",{className:"py-16",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-soft-brown mb-8",children:"Your Cart"}),h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[h.jsx("p",{className:"text-gray-600 mb-6",children:"Your cart is empty"}),h.jsx(wt,{to:"/products",className:"btn-primary",children:"Continue Shopping"})]})]})}):h.jsxs("div",{className:"py-8",children:[h.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-soft-brown mb-8",children:"Your Cart"}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[i.map(P=>h.jsxs("div",{className:"flex items-center justify-between border-b pb-4 mb-4 last:border-b-0",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("img",{src:P.image,alt:P.name,className:"w-20 h-20 object-cover rounded"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-soft-brown",children:P.name}),h.jsx("p",{className:"text-sm text-gray-600",children:P.category}),h.jsx("p",{className:"text-accent-red font-semibold",children:Ft(P.price)})]})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("button",{onClick:()=>B(P.id,P.quantity-1),className:"w-8 h-8 rounded-full border border-muted-pink flex items-center justify-center hover:bg-muted-pink transition-colors",children:"-"}),h.jsx("span",{className:"w-8 text-center",children:P.quantity}),h.jsx("button",{onClick:()=>B(P.id,P.quantity+1),disabled:(()=>{const ge=c.products?.find(ue=>ue.id===P.id)?.stock??1/0;return P.quantity>=ge})(),className:`w-8 h-8 rounded-full border border-muted-pink flex items-center justify-center transition-colors ${(()=>{const ge=c.products?.find(ue=>ue.id===P.id)?.stock??1/0;return P.quantity>=ge?"bg-gray-200 text-gray-400 cursor-not-allowed":"hover:bg-muted-pink"})()}`,children:"+"})]}),h.jsx("button",{onClick:()=>n(P.id),className:"text-red-500 hover:text-red-700 transition-colors",children:h.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},P.id)),h.jsx("button",{onClick:u,className:"text-sm text-red-500 hover:text-red-700 transition-colors mt-4",children:"Clear Cart"})]})}),h.jsx("div",{className:"lg:col-span-1",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-soft-brown mb-4",children:"Order Summary"}),h.jsxs("div",{className:"space-y-2 mb-4",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsxs("span",{children:["Subtotal (",i.reduce((P,K)=>P+K.quantity,0)," items)"]}),h.jsx("span",{children:Ft(l())})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{children:"Shipping"}),h.jsx("span",{children:Ft(f)})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{children:"Tax"}),h.jsx("span",{children:Ft(l()*g)})]}),h.jsx("div",{className:"border-t pt-2",children:h.jsxs("div",{className:"flex justify-between font-semibold text-soft-brown",children:[h.jsx("span",{children:"Total"}),h.jsx("span",{children:Ft(l()+f+l()*g)})]})})]}),h.jsx("button",{className:"btn-primary w-full mb-4",onClick:Q,children:"Proceed to Checkout"}),h.jsx(wt,{to:"/products",className:"block text-center text-soft-brown hover:text-accent-red transition-colors",children:"Continue Shopping"})]})})]}),h.jsxs("div",{className:"mt-10 max-w-4xl mx-auto bg-white rounded-3xl shadow-md p-6 border border-beige/60",children:[h.jsx("h2",{className:"text-xl font-semibold text-soft-brown mb-3",children:"How checkout works"}),h.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm text-gray-700",children:[h.jsx("li",{children:"Fill in your details and place your order using the checkout form."}),h.jsx("li",{children:"After placing an order, a receipt will appear with your order number and items."}),h.jsx("li",{children:"Take a screenshot of that receipt and send it to our Facebook page so we can confirm your order."})]}),m!=="#"&&h.jsxs("p",{className:"mt-4 text-sm",children:["Facebook page:"," ",h.jsx("a",{href:m,target:"_blank",rel:"noreferrer",className:"text-accent-red underline hover:text-red-700",children:"Message us on Facebook"})]})]})]}),y&&h.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4",children:h.jsxs("div",{className:"w-full max-w-lg rounded-3xl bg-white p-6 shadow-2xl relative",children:[h.jsx("button",{onClick:()=>x(!1),className:"absolute right-4 top-4 text-soft-brown hover:text-accent-red","aria-label":"Close checkout",children:""}),h.jsx("h2",{className:"text-2xl font-semibold text-soft-brown mb-4",children:"Checkout"}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Fill in your details below. After confirming, you'll see a receipt that you can screenshot and send to us."}),h.jsxs("form",{className:"space-y-4",onSubmit:se,children:[h.jsx("div",{children:h.jsxs("label",{className:"block text-sm font-medium text-soft-brown",children:["Name",h.jsx("input",{type:"text",value:D.name,onChange:P=>L(K=>({...K,name:P.target.value})),className:"mt-1 w-full rounded-xl border border-beige/70 bg-white/80 px-3 py-2 text-gray-700 shadow-sm",required:!0})]})}),h.jsx("div",{children:h.jsxs("label",{className:"block text-sm font-medium text-soft-brown",children:["Email",h.jsx("input",{type:"email",value:D.email,onChange:P=>L(K=>({...K,email:P.target.value})),className:"mt-1 w-full rounded-xl border border-beige/70 bg-white/80 px-3 py-2 text-gray-700 shadow-sm",required:!0})]})}),h.jsx("div",{children:h.jsxs("label",{className:"block text-sm font-medium text-soft-brown",children:["Contact Number",h.jsx("input",{type:"tel",value:D.phone,onChange:P=>L(K=>({...K,phone:P.target.value})),className:"mt-1 w-full rounded-xl border border-beige/70 bg-white/80 px-3 py-2 text-gray-700 shadow-sm",required:!0})]})}),h.jsx("div",{children:h.jsxs("label",{className:"block text-sm font-medium text-soft-brown",children:["Address",h.jsx("textarea",{value:D.address,onChange:P=>L(K=>({...K,address:P.target.value})),className:"mt-1 w-full rounded-xl border border-beige/70 bg-white/80 px-3 py-2 text-gray-700 shadow-sm",rows:3,required:!0})]})}),h.jsx("div",{children:h.jsxs("label",{className:"block text-sm font-medium text-soft-brown",children:["Notes (optional)",h.jsx("textarea",{value:D.notes,onChange:P=>L(K=>({...K,notes:P.target.value})),className:"mt-1 w-full rounded-xl border border-beige/70 bg-white/80 px-3 py-2 text-gray-700 shadow-sm",rows:2})]})}),_&&h.jsx("p",{className:"text-sm text-red-500",children:_}),h.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>x(!1),className:"rounded-full border border-beige/60 px-4 py-2 text-soft-brown",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:v,className:"btn-primary disabled:opacity-60",children:v?"Placing Order...":"Confirm Order"})]})]})]})}),O&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:h.jsxs("div",{className:"w-full max-w-2xl rounded-3xl bg-white p-6 shadow-2xl relative max-h-[90vh] overflow-y-auto",children:[h.jsx("button",{onClick:()=>C(null),className:"absolute right-4 top-4 text-soft-brown hover:text-accent-red","aria-label":"Close receipt",children:""}),h.jsx("h2",{className:"text-2xl font-semibold text-soft-brown mb-2",children:"Order Receipt"}),h.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Order ID: ",O.id,"  Placed at ",new Date(O.created_at).toLocaleString()]}),h.jsxs("div",{className:"space-y-3 text-sm text-gray-700 mb-4",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Name:"})," ",O.shipping_address?.name]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Email:"})," ",O.email]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Contact:"})," ",O.shipping_address?.phone]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Address:"})," ",O.shipping_address?.address]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"font-semibold text-soft-brown mb-2",children:"Items"}),h.jsx("div",{className:"space-y-2 text-sm",children:Array.isArray(O.items)&&O.items.map((P,K)=>h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("span",{children:[P.name,"  ",P.quantity]}),h.jsx("span",{children:Ft(P.price*P.quantity)})]},K))})]}),h.jsxs("div",{className:"border-t pt-3 text-sm space-y-1 mb-4",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Subtotal"}),h.jsx("span",{children:Ft(O.subtotal)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Shipping"}),h.jsx("span",{children:Ft(O.shipping_fee)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Tax"}),h.jsx("span",{children:Ft(O.tax)})]}),h.jsxs("div",{className:"flex justify-between font-semibold text-soft-brown pt-1",children:[h.jsx("span",{children:"Total"}),h.jsx("span",{children:Ft(O.total)})]})]}),h.jsxs("div",{className:"bg-beige/40 rounded-2xl p-4 text-sm text-soft-brown mb-4",children:[h.jsx("p",{className:"font-semibold mb-1",children:"Next step"}),h.jsx("p",{children:"Please take a screenshot of this receipt and send it to our Facebook page so we can confirm your order."}),m!=="#"&&h.jsx("p",{className:"mt-2",children:h.jsx("a",{href:m,target:"_blank",rel:"noreferrer",className:"text-accent-red underline hover:text-red-700",children:"Open Facebook page"})})]}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{type:"button",onClick:()=>C(null),className:"rounded-full border border-beige/60 px-4 py-2 text-soft-brown",children:"Close"})})]})})]})},Ht="product-images",nS=async(i,n="products",s=null)=>{try{if(!i)throw new Error("No file provided");if(!i.type.startsWith("image/"))throw new Error("File must be an image");const l=5*1024*1024;if(i.size>l)throw new Error("Image size must be less than 5MB");const u=Date.now(),c=Math.random().toString(36).substring(2,15),f=i.name.split(".").pop(),g=s||`${u}-${c}.${f}`,m=`${n}/${g}`,{data:y,error:x}=await Je.storage.from(Ht).upload(m,i,{cacheControl:"3600",upsert:!1});if(x)throw x;const{data:v}=Je.storage.from(Ht).getPublicUrl(m);return{data:v.publicUrl,error:null}}catch(l){return console.error("Storage upload error:",l),{data:null,error:ot(l)}}},Zg=async i=>{try{if(!i)throw new Error("No file path provided");let n=i;if(i.includes(Ht)){const l=i.split(`${Ht}/`);n=l[l.length-1]}const{error:s}=await Je.storage.from(Ht).remove([n]);if(s)throw s;return{error:null}}catch(n){return console.error("Storage delete error:",n),{error:ot(n)}}},Fg=async i=>{try{if(!Array.isArray(i)||i.length===0)return{error:null};const n=i.map(l=>{if(l.includes(Ht)){const u=l.split(`${Ht}/`);return u[u.length-1]}return l}),{error:s}=await Je.storage.from(Ht).remove(n);if(s)throw s;return{error:null}}catch(n){return console.error("Multiple image delete error:",n),{error:ot(n)}}},sS=async(i="products",n=100)=>{try{const{data:s,error:l}=await Je.storage.from(Ht).list(i,{limit:n,offset:0,sortBy:{column:"created_at",order:"desc"}});if(l)throw l;return{data:(s||[]).filter(c=>!c.name.startsWith(".")&&!c.name.endsWith("/")).map(c=>{const f=`${i}/${c.name}`,{data:g}=Je.storage.from(Ht).getPublicUrl(f);return g.publicUrl}),error:null}}catch(s){return console.error("List images error:",s),{data:null,error:ot(s)}}},rS=async(i="products")=>{try{const{data:n,error:s}=await Je.storage.from(Ht).list(i,{limit:1e3,offset:0});if(s)throw s;let l=0;const u=(n||[]).filter(m=>!m.name.startsWith(".")&&!m.name.endsWith("/"));for(const m of u)l+=m.metadata?.size||0;const c=(l/(1024*1024)).toFixed(2),f=(l/(1024*1024*1024)).toFixed(4);return{data:{files:u.length,totalSize:l,sizeInMB:c,sizeInGB:f,bucketInfo:"Supabase Storage",usageWarning:c>800?"Approaching storage limits on free tier":""},error:null}}catch(n){return console.error("Get storage stats error:",n),{data:null,error:ot(n)}}},iS=async(i="products")=>{try{const{data:n,error:s}=await Je.storage.from(Ht).list(i,{limit:1e3,offset:0});if(s)throw s;const l=(n||[]).filter(c=>!c.name.startsWith(".")&&!c.name.endsWith("/")).map(c=>`${i}/${c.name}`);if(l.length===0)return{deletedCount:0,error:null};const{error:u}=await Je.storage.from(Ht).remove(l);if(u)throw u;return{deletedCount:l.length,error:null}}catch(n){return console.error("Clear storage error:",n),{deletedCount:0,error:ot(n)}}},Xr=async(i,n)=>{try{const{data:s,error:l}=await Je.from("site_settings").upsert({key:i,value:n},{onConflict:"key"}).select().single();if(l)throw l;return{data:s,error:null}}catch(s){return{data:null,error:ot(s)}}},py=!1,yy="Achlys2025!",lS=async(i,n)=>{try{const{data:s,error:l}=await Je.auth.signInWithPassword({email:i,password:n});if(l)throw l;return{data:s,error:null}}catch(s){const l=ot(s);return py&&typeof window<"u"&&window.location.hostname==="localhost"&&n===yy&&(i.toLowerCase().includes("admin")||i.endsWith("@whimsical.local"))?{data:{user:{email:i}},error:null}:{data:null,error:l}}},oS=async(i,n)=>py?n===yy&&(i.toLowerCase().includes("admin")||i.endsWith("@whimsical.local"))?{data:{user:{email:i}},error:null}:{data:null,error:{message:"Invalid dev credentials"}}:{data:null,error:{message:"Dev bypass disabled"}},Wg=async()=>{try{const{error:i}=await Je.auth.signOut();if(i)throw i;return{error:null}}catch(i){return{error:ot(i)}}},uS=async()=>{try{const{data:{user:i},error:n}=await Je.auth.getUser();if(n)throw n;return{user:i,error:null}}catch(i){return{user:null,error:ot(i)}}},ep=async()=>{try{const{user:i}=await uS();if(!i)return!1;const n=i.user_metadata||{},s=i.app_metadata||{},l=(i.email||"").toLowerCase();return n.role==="admin"||s.role==="admin"||l==="admin@whimsical.local"}catch{return!1}},Ys="whimsical-admin-auth",it=({label:i,value:n,onChange:s,textarea:l})=>h.jsxs("label",{className:"block text-sm font-medium text-soft-brown",children:[h.jsx("span",{children:i}),l?h.jsx("textarea",{value:n,onChange:u=>s(u.target.value),className:"mt-2 w-full rounded-lg sm:rounded-xl border border-beige/70 bg-white/80 px-3.5 sm:px-3 py-3 sm:py-2 text-base sm:text-sm text-gray-700 shadow-sm focus:border-accent-red focus:ring-2 focus:ring-accent-red/30 resize-none",rows:3}):h.jsx("input",{type:"text",value:n,onChange:u=>s(u.target.value),className:"mt-2 w-full rounded-lg sm:rounded-xl border border-beige/70 bg-white/80 px-3.5 sm:px-3 py-3 sm:py-2 text-base sm:text-sm text-gray-700 shadow-sm focus:border-accent-red focus:ring-2 focus:ring-accent-red/30"})]}),cS=()=>{const{content:i,updateContent:n,updateNestedItem:s,addProduct:l,updateProduct:u,removeProduct:c,resetContent:f}=od(),[g,m]=R.useState("Admin"),[y,x]=R.useState(""),[v,w]=R.useState(""),[_,N]=R.useState(""),[O,C]=R.useState(!1),[D,L]=R.useState(!1),[B,Q]=R.useState(!1),[se,P]=R.useState(null),[K,ge]=R.useState(""),[ue,I]=R.useState({}),[ee,Oe]=R.useState({name:"",description:"",price:"",image:"",gallery:["","",""],category:"Bouquet",isNew:!1,isLimitedStock:!1,isFeatured:!1,isOnSale:!1,stock:""}),[Ae,qe]=R.useState(!1),[ut,H]=R.useState({type:null,productId:null}),[J,ie]=R.useState({loading:!1,images:[],error:""}),[pe,Ee]=R.useState({loading:!1,error:"",items:[]}),[E,V]=R.useState({files:0,totalSize:0,sizeInMB:0}),[X,Z]=R.useState(!1),[ce,fe]=R.useState(!1),[_e,Ke]=R.useState(""),[He,qa]=R.useState(!1),[bn,Ha]=R.useState(""),[er,oa]=R.useState(!1),[In,$a]=R.useState(""),[ui,tr]=R.useState(!1),[Qn,Ga]=R.useState(""),[Jn,ci]=R.useState(!1),[di,nt]=R.useState("");ql.useEffect(()=>{let j=!0;return(async()=>{try{if(!(localStorage.getItem(Ys)==="true"))return;const Ne=await ep();if(!j)return;Ne?C(!0):(localStorage.removeItem(Ys),C(!1))}catch{localStorage.removeItem(Ys),j&&C(!1)}})(),()=>{j=!1}},[]);const[ar,nr]=R.useState(!1),hi=async j=>{j.preventDefault(),w("");let Y=g;if(g&&g.trim().toLowerCase()==="admin"&&(Y="admin@whimsical.local"),!Y.includes("@")){w("Invalid username. Use Admin or a valid email.");return}const{error:re}=await lS(Y,y);if(re){w(re?.message||"Login failed.");return}if(!await ep()){w("Not authorized. Admin role required."),await Wg();return}localStorage.setItem(Ys,"true"),C(!0),x("")},Xn=async j=>{j?.preventDefault?.(),w("");const{data:Y,error:re}=await oS(g.includes("@")?g:"admin@whimsical.local",y);if(re){w(re?.message||"Dev login failed.");return}localStorage.setItem(Ys,"true"),C(!0),x("")},eo=async()=>{localStorage.removeItem(Ys),C(!1);try{await Wg()}catch{}},Zn=async()=>{Z(!0),Ke("");const{data:j,error:Y}=await rS("products");Y?Ke(Y.message||"Failed to load storage stats."):V(j||{files:0,totalSize:0,sizeInMB:0}),Z(!1)},to=async()=>{Ke(""),Z(!0);const{deletedCount:j,error:Y}=await iS("products");Y?Ke(Y.message||"Failed to clear storage."):(Ke(""),alert(`Successfully deleted ${j} files from storage.`),await Zn()),Z(!1),fe(!1)};ql.useEffect(()=>{O&&Zn()},[O]),ql.useEffect(()=>{(async()=>{Ee(Ne=>({...Ne,loading:!0,error:""}));const{data:Y,error:re}=await gy();Ee(re?{loading:!1,error:re.error||"Failed to load orders.",items:[]}:{loading:!1,error:"",items:Y||[]})})()},[]);const At=(j,Y)=>{Oe(re=>({...re,[j]:Y}))},vn=async j=>{H(j),qe(!0),ie(Ne=>({...Ne,loading:!0,error:"",images:[]}));const{data:Y,error:re}=await sS("products");ie(re?{loading:!1,images:[],error:re.error||"Failed to load images."}:{loading:!1,images:Y||[],error:""})},bt=j=>{ut?.type&&(ut.type==="new"?Oe(Y=>({...Y,image:j})):ut.type==="existing"&&ut.productId&&u(ut.productId,{image:j}),qe(!1))},ea=j=>{P(j.id),Oe({name:j.name||"",description:j.description||"",price:j.price||"",image:j.image||"",gallery:Array.isArray(j.gallery)?j.gallery:["","",""],category:j.category||"Bouquet",isNew:j.isNew||!1,isLimitedStock:j.isLimitedStock||!1,isFeatured:j.isFeatured||!1,isOnSale:j.isOnSale||!1,stock:j.stock||""}),Q(!0)},vt=async j=>{if(j.preventDefault(),!ee.name.trim()){N("Product name is required.");return}N("");const Y={name:ee.name.trim(),description:ee.description||"",price:Number(ee.price)||0,image:ee.image||null,gallery:Array.isArray(ee.gallery)?ee.gallery.filter(Boolean):[],category:ee.category||"Bouquet",is_new:ee.isNew,is_limited_stock:ee.isLimitedStock,is_featured:ee.isFeatured,is_on_sale:ee.isOnSale,stock:Number(ee.stock)||0};if(se){u(se,Y),P(null),Q(!1),Oe({name:"",description:"",price:"",image:"",gallery:["","",""],category:"Bouquet",isNew:!1,isLimitedStock:!1,isFeatured:!1,isOnSale:!1,stock:""});return}const{data:re,error:Ne}=await I_(Y);if(Ne){N(Ne.error||"Failed to save product to Supabase.");return}l({...ee,id:re?.id,price:Y.price,stock:Y.stock}),Oe({name:"",description:"",price:"",image:"",gallery:["","",""],category:"Bouquet",isNew:!1,isLimitedStock:!1,isFeatured:!1,isOnSale:!1,stock:""}),Q(!1)},fi=async(j,Y,re="default")=>{if(j){I(Ne=>({...Ne,[re]:!0}));try{const{data:Ne,error:pa}=await nS(j,"products");if(pa){console.error("Image upload error:",pa),N(`Failed to upload image: ${pa.error||"Unknown error"}`);return}Y&&Ne&&Y(Ne)}catch(Ne){console.error("Image upload error:",Ne),N(`Failed to upload image: ${Ne.message||"Unknown error"}`)}finally{I(Ne=>({...Ne,[re]:!1}))}}},mi=(j,Y)=>{Oe(re=>{const Ne=[...re.gallery];return Ne[j]=Y,{...re,gallery:Ne}})};if(!O)return h.jsxs("section",{className:"relative py-20 overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0",children:[h.jsx("img",{src:"https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=1600&q=80",alt:"Soft floral background",className:"w-full h-full object-cover opacity-10",loading:"lazy"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-muted-pink/90 via-beige/95 to-beige"})]}),h.jsx("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-center min-h-[60vh]",children:h.jsxs("div",{className:"bg-white/80 backdrop-blur p-6 sm:p-8 rounded-3xl shadow-2xl w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-4",children:[h.jsx("img",{src:"/logo-whimsical.png",alt:"Whimsical logo",className:"w-28 mx-auto mb-4"}),h.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-soft-brown",children:"Admin"}),h.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"Store Management Portal"})]}),h.jsxs("form",{onSubmit:hi,className:"space-y-4",children:[h.jsxs("label",{className:"block text-sm font-medium text-soft-brown",children:[h.jsx("span",{children:"Username"}),h.jsx("input",{type:"text",value:g,onChange:j=>m(j.target.value),className:"mt-2 w-full rounded-xl border border-beige/60 px-4 py-3 sm:py-2.5 text-base sm:text-sm focus:border-accent-red focus:ring-2 focus:ring-accent-red/30",placeholder:"Admin",autoFocus:!0})]}),h.jsxs("label",{className:"block text-sm font-medium text-soft-brown",children:[h.jsx("span",{children:"Password"}),h.jsxs("div",{className:"relative mt-2",children:[h.jsx("input",{type:D?"text":"password",value:y,onChange:j=>x(j.target.value),className:"w-full rounded-xl border border-beige/60 px-4 py-3 sm:py-2.5 pr-12 text-base sm:text-sm focus:border-accent-red focus:ring-2 focus:ring-accent-red/30",placeholder:"Password"}),h.jsx("button",{type:"button",onClick:()=>L(j=>!j),className:"absolute inset-y-0 right-3 flex items-center text-soft-brown text-xs sm:text-sm hover:text-accent-red transition","aria-label":D?"Hide password":"Show password",children:D?"Hide":"Show"})]})]}),v&&h.jsx("p",{className:"text-xs sm:text-sm text-red-500 bg-red-50/50 p-2.5 rounded-lg",children:v}),h.jsx("button",{type:"submit",className:"btn-primary w-full py-3 sm:py-2.5 text-base sm:text-sm font-semibold",children:"Sign In"}),h.jsx("div",{className:"text-center mt-2",children:h.jsx("button",{type:"button",onClick:Xn,className:"text-xs text-accent-red hover:underline",children:"Use local dev login"})})]})]})})]});const xn=i?.hero||lt.hero,ua=i?.about||lt.about,wn=i?.socials||lt.socials,ga=i?.general||lt.general,$t=i?.products||[],Fn=$t.length,Va=$t.filter(j=>Number(j.stock)<=5).length,ao=$t.filter(j=>j.isNew).length,Wn=$t.filter(j=>j.name.toLowerCase().includes(K.toLowerCase())||j.category.toLowerCase().includes(K.toLowerCase()));return h.jsx("div",{className:"min-h-screen bg-gradient-to-b from-beige/30 to-white overflow-x-hidden",children:h.jsxs("div",{className:"w-full max-w-full mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-2 sm:py-6 md:py-10",children:[h.jsxs("div",{className:"lg:hidden flex items-center justify-between mb-3 gap-2",children:[h.jsx("h1",{className:"text-sm sm:text-lg font-bold text-soft-brown truncate",children:"Admin"}),h.jsx("button",{onClick:()=>nr(!ar),className:"p-1.5 text-soft-brown hover:text-accent-red hover:bg-muted-pink/20 rounded-lg transition flex-shrink-0","aria-label":"Toggle admin menu","aria-expanded":ar,children:h.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),h.jsxs("div",{className:"grid gap-3 md:gap-6 lg:gap-8 lg:grid-cols-[160px_1fr]",children:[h.jsx("aside",{className:`${ar?"block":"hidden"} lg:block lg:sticky lg:top-20 h-fit order-2 lg:order-1 min-w-0`,children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-beige/40 p-3 sm:p-4 md:p-5",children:[h.jsxs("div",{className:"lg:block",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.5em] text-soft-brown/60",children:"Dashboard"}),h.jsx("h1",{className:"hidden lg:block text-lg sm:text-2xl font-bold text-soft-brown mb-3 sm:mb-4",children:"Content Editor"})]}),h.jsx("nav",{className:"space-y-1 sm:space-y-2 text-xs sm:text-sm font-medium text-soft-brown",children:[["hero","Hero Banner"],["about","About Story"],["inventory","Inventory"],["orders","Orders"],["storage","Storage"]].map(([j,Y])=>h.jsx("a",{href:`#${j}`,onClick:()=>nr(!1),className:"block rounded-lg px-2.5 sm:px-3 py-2 sm:py-2 hover:bg-muted-pink/20 hover:text-accent-red transition active:bg-muted-pink/40",children:Y},j))}),h.jsxs("div",{className:"mt-4 sm:mt-6 space-y-2 sm:space-y-3",children:[h.jsx("button",{onClick:f,className:"w-full rounded-full border border-beige/80 px-3 sm:px-4 py-2.5 sm:py-2 text-xs sm:text-sm text-soft-brown hover:bg-beige/40 active:bg-beige/60 font-medium transition",children:"Reset Defaults"}),h.jsx("button",{onClick:eo,className:"w-full rounded-full bg-gray-800 px-3 sm:px-4 py-2.5 sm:py-2 text-xs sm:text-sm text-white hover:bg-gray-900 active:bg-gray-950 font-medium transition",children:"Log out"})]})]})}),h.jsxs("div",{className:"space-y-4 sm:space-y-6 md:space-y-8 lg:space-y-10 order-1 lg:order-2 w-full min-w-0",children:[h.jsxs("section",{id:"hero",className:"bg-gradient-to-br from-white to-beige/20 rounded-2xl sm:rounded-3xl shadow-lg hover:shadow-xl p-3 sm:p-5 md:p-7 space-y-4 sm:space-y-6 border-2 border-beige/40 transition-shadow duration-300 w-full",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.6em] text-accent-red font-semibold",children:"Hero Section"}),h.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-soft-brown",children:"Hero Banner"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Customize the homepage hero section that welcomes visitors"})]}),h.jsxs("div",{children:[h.jsx("button",{onClick:async()=>{$a(""),oa(!0);try{const j=await Xr("hero",xn);if(j.error)throw j.error;$a("Saved successfully")}catch(j){console.error("Failed to save hero",j),$a(j?.message||"Failed to save hero")}finally{oa(!1),setTimeout(()=>$a(""),3e3)}},disabled:er,className:"rounded-full bg-accent-red px-4 py-2 text-sm font-semibold text-white hover:bg-red-700 active:bg-red-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:er?"Saving":"Save"}),In&&h.jsx("div",{className:"text-sm text-soft-brown mt-1",children:In})]})]}),h.jsxs("div",{className:"space-y-4 sm:space-y-5 bg-white/60 rounded-2xl p-4 sm:p-6 backdrop-blur",children:[h.jsxs("div",{children:[h.jsx(it,{label:"Tagline",value:xn.tagline,onChange:j=>n("hero",{tagline:j})}),h.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-1",children:"Small text above the main heading"})]}),h.jsxs("div",{children:[h.jsx(it,{label:"Heading",value:xn.heading,onChange:j=>n("hero",{heading:j})}),h.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-1",children:"Main hero section title"})]}),h.jsxs("div",{children:[h.jsx(it,{label:"Description",value:xn.description,onChange:j=>n("hero",{description:j}),textarea:!0}),h.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-1",children:"Brief description below the heading"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("h3",{className:"text-lg sm:text-xl font-bold text-soft-brown",children:" Featured Statistics"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Show key metrics on the hero section"})]}),h.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:xn.stats.map((j,Y)=>h.jsxs("div",{className:"group bg-white rounded-2xl border-2 border-beige/40 hover:border-accent-red/60 p-4 sm:p-5 space-y-3 sm:space-y-4 transition-all duration-300 shadow-sm hover:shadow-md",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("span",{className:"text-xs uppercase tracking-wider font-semibold text-soft-brown/60 group-hover:text-accent-red transition-colors",children:["Stat ",Y+1]}),h.jsx("span",{className:"text-2xl",children:""})]}),h.jsx(it,{label:"Value",value:j.value,onChange:re=>s("hero","stats",Y,"value",re)}),h.jsx(it,{label:"Label",value:j.label,onChange:re=>s("hero","stats",Y,"label",re)})]},`${j.label}-${Y}`))})]})]}),h.jsxs("section",{className:"bg-gradient-to-br from-white to-beige/20 rounded-2xl sm:rounded-3xl shadow-lg hover:shadow-xl p-3 sm:p-5 md:p-7 space-y-4 sm:space-y-6 border-2 border-beige/40 transition-shadow duration-300",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.6em] text-accent-red font-semibold",children:" Configuration"}),h.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-soft-brown",children:"Shop Settings"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Configure checkout costs and fees"})]}),h.jsxs("div",{children:[h.jsx("button",{onClick:async()=>{Ha(""),qa(!0);try{const j=await Xr("shippingFee",ga?.shippingFee??0);if(j.error)throw j.error;const Y=await Xr("taxRate",ga?.taxRate??0);if(Y.error)throw Y.error;Ha("Saved successfully")}catch(j){console.error("Failed to save general settings",j),Ha(j?.message||"Failed to save settings")}finally{qa(!1),setTimeout(()=>Ha(""),3e3)}},disabled:He,className:"rounded-full bg-accent-red px-4 py-2 text-sm font-semibold text-white hover:bg-red-700 active:bg-red-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:He?"Saving":"Save"}),bn&&h.jsx("div",{className:"text-sm text-soft-brown mt-1",children:bn})]})]}),h.jsxs("div",{className:"grid gap-4 sm:gap-6 sm:grid-cols-2",children:[h.jsxs("div",{className:"bg-white/60 rounded-2xl p-4 sm:p-5 backdrop-blur border border-beige/40 hover:border-accent-red/30 transition-colors",children:[h.jsx(it,{label:"Flat Shipping Fee (PHP)",value:ga?.shippingFee??0,onChange:j=>n("general",{shippingFee:Number(j)||0})}),h.jsx("p",{className:"text-xs text-gray-500 mt-2 ml-1",children:"Applied to all orders"})]}),h.jsxs("div",{className:"bg-white/60 rounded-2xl p-4 sm:p-5 backdrop-blur border border-beige/40 hover:border-accent-red/30 transition-colors",children:[h.jsx(it,{label:"Tax Rate (e.g., 0.08 for 8%)",value:ga?.taxRate??0,onChange:j=>n("general",{taxRate:Number(j)||0})}),h.jsx("p",{className:"text-xs text-gray-500 mt-2 ml-1",children:"Percentage applied to subtotal"})]})]})]}),h.jsxs("section",{className:"bg-gradient-to-bl from-white to-muted-pink/10 rounded-2xl sm:rounded-3xl shadow-lg hover:shadow-xl p-3 sm:p-5 md:p-7 space-y-4 sm:space-y-6 border-2 border-beige/40 transition-shadow duration-300",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.6em] text-accent-red font-semibold",children:" Community"}),h.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-soft-brown",children:"Social Links"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Connect with customers on social media"})]}),h.jsxs("div",{children:[h.jsx("button",{onClick:async()=>{nt(""),ci(!0);try{const j=await Xr("socials",wn);if(j.error)throw j.error;nt("Saved successfully")}catch(j){console.error("Failed to save socials",j),nt(j?.message||"Failed to save socials")}finally{ci(!1),setTimeout(()=>nt(""),3e3)}},disabled:Jn,className:"rounded-full bg-accent-red px-4 py-2 text-sm font-semibold text-white hover:bg-red-700 active:bg-red-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:Jn?"Saving":"Save"}),di&&h.jsx("div",{className:"text-sm text-soft-brown mt-1",children:di})]})]}),h.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-3",children:[["facebook","Facebook","facebook.png"],["instagram","Instagram","instagram.png"],["tiktok","TikTok","tiktok.png"]].map(([j,Y,re])=>h.jsxs("div",{className:"bg-white/60 rounded-2xl p-4 sm:p-5 backdrop-blur border border-beige/40 hover:border-accent-red/30 transition-colors space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("img",{src:`/logo/${re}`,alt:Y,className:"h-7 w-7 object-contain"}),h.jsx("h3",{className:"font-semibold text-soft-brown",children:Y})]}),h.jsx(it,{label:"Profile URL",value:wn?.[j]||"",onChange:Ne=>n("socials",{[j]:Ne})})]},j))})]}),h.jsxs("section",{id:"about",className:"bg-gradient-to-br from-white to-beige/20 rounded-2xl sm:rounded-3xl shadow-lg hover:shadow-xl p-3 sm:p-5 md:p-7 space-y-4 sm:space-y-6 border-2 border-beige/40 transition-shadow duration-300",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.6em] text-accent-red font-semibold",children:" Story"}),h.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-soft-brown",children:"About Section"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Tell customers your brand story"})]}),h.jsxs("div",{children:[h.jsx("button",{onClick:async()=>{Ga(""),tr(!0);try{const j=await Xr("about",ua);if(j.error)throw j.error;Ga("Saved successfully")}catch(j){console.error("Failed to save about",j),Ga(j?.message||"Failed to save about")}finally{tr(!1),setTimeout(()=>Ga(""),3e3)}},disabled:ui,className:"rounded-full bg-accent-red px-4 py-2 text-sm font-semibold text-white hover:bg-red-700 active:bg-red-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:ui?"Saving":"Save"}),Qn&&h.jsx("div",{className:"text-sm text-soft-brown mt-1",children:Qn})]})]}),h.jsxs("div",{className:"space-y-4 sm:space-y-5 bg-white/60 rounded-2xl p-4 sm:p-6 backdrop-blur border border-beige/40",children:[h.jsxs("div",{children:[h.jsx(it,{label:"Heading",value:ua.heading,onChange:j=>n("about",{heading:j})}),h.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-1",children:"Main section title"})]}),h.jsxs("div",{children:[h.jsx(it,{label:"Description",value:ua.description,onChange:j=>n("about",{description:j}),textarea:!0}),h.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-1",children:"Your brand story"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("h3",{className:"text-lg sm:text-xl font-bold text-soft-brown",children:" Highlights"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Key points about your business"})]}),h.jsx("div",{className:"grid gap-4 sm:gap-5 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:ua.highlights.map((j,Y)=>h.jsxs("div",{className:"group bg-white rounded-2xl border-2 border-beige/40 hover:border-muted-pink/60 p-4 sm:p-5 space-y-3 transition-all duration-300 shadow-sm hover:shadow-md hover:bg-white/80",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("span",{className:"text-xs uppercase tracking-wider font-semibold text-soft-brown/60",children:["Highlight ",Y+1]}),h.jsx("span",{className:"text-lg",children:""})]}),h.jsx(it,{label:"Title",value:j.title,onChange:re=>s("about","highlights",Y,"title",re)}),h.jsx(it,{label:"Detail",value:j.detail,onChange:re=>s("about","highlights",Y,"detail",re),textarea:!0})]},`${j.title}-${Y}`))})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("h3",{className:"text-lg sm:text-xl font-bold text-soft-brown",children:" Core Pillars"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Your business values and principles"})]}),h.jsx("div",{className:"grid gap-4 sm:gap-5 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:ua.pillars.map((j,Y)=>h.jsxs("div",{className:"group bg-white rounded-2xl border-2 border-beige/40 hover:border-accent-red/40 p-4 sm:p-5 space-y-3 transition-all duration-300 shadow-sm hover:shadow-md hover:bg-white/80",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("span",{className:"text-xs uppercase tracking-wider font-semibold text-soft-brown/60",children:["Pillar ",Y+1]}),h.jsx("span",{className:"text-2xl",children:j.icon})]}),h.jsx(it,{label:"Title",value:j.title,onChange:re=>s("about","pillars",Y,"title",re)}),h.jsx(it,{label:"Description",value:j.detail,onChange:re=>s("about","pillars",Y,"detail",re),textarea:!0})]},`${j.title}-${Y}`))})]})]}),h.jsxs("section",{id:"inventory",className:"bg-gradient-to-br from-white to-beige/20 rounded-2xl sm:rounded-3xl shadow-lg hover:shadow-xl p-3 sm:p-5 md:p-7 space-y-4 sm:space-y-6 border-2 border-beige/40 transition-shadow duration-300",children:[h.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.6em] text-accent-red font-semibold",children:" Inventory"}),h.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-soft-brown",children:"Product Catalog"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Manage your product collection"})]}),h.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-3",children:[{label:"Total Products",value:Fn,icon:"",color:"from-blue-50 to-blue-100/50"},{label:"Low Stock (5)",value:Va,icon:"",color:"from-red-50 to-red-100/50",highlight:Va>0},{label:"New Arrivals",value:ao,icon:"",color:"from-green-50 to-green-100/50"}].map(({label:j,value:Y,icon:re,color:Ne,highlight:pa})=>h.jsxs("div",{className:`group rounded-2xl border-2 p-4 sm:p-5 transition-all duration-300 cursor-default hover:shadow-md ${pa?"border-accent-red/40 bg-gradient-to-br from-accent-red/5 to-red-50/30 hover:border-accent-red/60":`border-beige/40 bg-gradient-to-br ${Ne} hover:border-accent-red/40`}`,children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("p",{className:"text-xs uppercase tracking-widest font-semibold text-soft-brown/60 group-hover:text-soft-brown transition-colors",children:j}),h.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:re})]}),h.jsx("p",{className:"text-3xl sm:text-4xl font-bold text-soft-brown",children:Y}),pa&&h.jsx("p",{className:"text-xs text-accent-red font-medium mt-2",children:" Action needed"})]},j))}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 items-stretch bg-gradient-to-r from-beige/10 to-muted-pink/5 rounded-2xl p-4 sm:p-5",children:[h.jsxs("label",{className:"flex-1 text-xs sm:text-sm font-medium text-soft-brown",children:[h.jsx("span",{className:"block mb-2 font-semibold",children:" Search Products"}),h.jsx("input",{type:"search",value:K,onChange:j=>ge(j.target.value),placeholder:"Search by name or category...",className:"w-full rounded-lg sm:rounded-xl border-2 border-beige/50 hover:border-accent-red/30 focus:border-accent-red focus:ring-0 bg-white/90 px-4 py-2.5 sm:py-2 text-base sm:text-sm text-gray-700 shadow-sm transition-all duration-200 placeholder:text-gray-400"})]}),h.jsxs("button",{onClick:()=>Q(!0),className:"inline-flex items-center justify-center gap-2 rounded-full bg-gradient-to-r from-accent-red to-red-600 hover:from-red-600 hover:to-red-700 active:scale-95 px-6 sm:px-8 py-2.5 sm:py-2 text-xs sm:text-sm font-bold text-white shadow-lg hover:shadow-xl transition-all duration-200 self-end sm:self-auto whitespace-nowrap",children:[h.jsx("span",{children:""})," Add Product"]})]}),h.jsx("div",{className:"mt-8 overflow-hidden rounded-2xl border-2 border-beige/40 bg-white shadow-lg",children:Wn.length===0?h.jsxs("div",{className:"p-8 sm:p-12 text-center",children:[h.jsx("p",{className:"text-2xl mb-2",children:""}),h.jsx("p",{className:"text-gray-500",children:"No products found. Try a different search or add a new product."})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"hidden sm:block overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gradient-to-r from-beige/30 to-beige/20 border-b-2 border-beige/40",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-soft-brown uppercase tracking-wider",children:"Image"}),h.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-soft-brown uppercase tracking-wider",children:"Name"}),h.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-soft-brown uppercase tracking-wider",children:"Category"}),h.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-soft-brown uppercase tracking-wider",children:"Price"}),h.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-soft-brown uppercase tracking-wider",children:"Stock"}),h.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-soft-brown uppercase tracking-wider",children:"New"}),h.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-soft-brown uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-beige/30",children:Wn.map(j=>h.jsxs("tr",{className:"hover:bg-muted-pink/20 transition-all duration-200 group",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.image?h.jsx("img",{src:j.image,alt:j.name,className:"h-14 w-14 object-cover rounded-lg border border-beige/40 shadow-sm group-hover:shadow-md transition-all",loading:"lazy"}):h.jsx("div",{className:"h-14 w-14 bg-gradient-to-br from-beige/40 to-beige/20 rounded-lg border-2 border-dashed border-beige/40 flex items-center justify-center group-hover:border-accent-red/40 transition-colors",children:h.jsx("span",{className:"text-xs text-soft-brown/60",children:"No img"})})}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"space-y-1 min-w-0",children:[h.jsx("p",{className:"font-semibold text-soft-brown truncate",children:j.name||"Untitled"}),h.jsx("p",{className:"text-xs text-gray-500 truncate",children:j.description})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("select",{value:j.category,onChange:Y=>u(j.id,{category:Y.target.value}),className:"text-sm rounded-lg border border-beige/60 bg-white/90 hover:bg-white hover:border-accent-red/40 px-3 py-2 text-gray-700 shadow-sm focus:border-accent-red focus:ring-1 focus:ring-accent-red/30 transition-all",children:[h.jsx("option",{value:"Bouquet",children:"Bouquet"}),h.jsx("option",{value:"Keychain",children:"Keychain"}),h.jsx("option",{value:"Accessory",children:"Accessory"})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("input",{type:"number",value:j.price,onChange:Y=>u(j.id,{price:Y.target.value}),className:"text-sm w-28 rounded-lg border border-beige/60 bg-white/90 hover:bg-white hover:border-accent-red/40 px-3 py-2 text-gray-700 shadow-sm focus:border-accent-red focus:ring-1 focus:ring-accent-red/30 transition-all font-medium"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("input",{type:"number",value:j.stock,onChange:Y=>u(j.id,{stock:Y.target.value}),className:`text-sm w-20 rounded-lg border-2 bg-white/90 hover:bg-white px-3 py-2 text-gray-700 shadow-sm focus:ring-1 focus:ring-accent-red/30 transition-all font-medium ${Number(j.stock)<=5?"border-accent-red/60 focus:border-accent-red":"border-beige/60 hover:border-accent-red/40 focus:border-accent-red"}`})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("label",{className:"flex items-center cursor-pointer",children:h.jsx("input",{type:"checkbox",checked:j.isNew,onChange:Y=>u(j.id,{isNew:Y.target.checked}),className:"rounded border-beige/60 text-accent-red focus:ring-accent-red/40 cursor-pointer w-5 h-5"})})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>ea(j),className:"px-3 py-1.5 rounded-lg bg-accent-red/10 text-accent-red hover:bg-accent-red/20 font-medium text-xs transition-all hover:shadow-md",children:" Edit"}),h.jsx("button",{onClick:async()=>{if(window.confirm("Delete this product?")){const Y=[j.image,...Array.isArray(j.gallery)?j.gallery:[]].filter(Boolean);try{Y.length===1?await Zg(Y[0]):Y.length>1&&await Fg(Y)}catch(re){console.warn("Failed to delete images",re)}if(j.id)try{await Jg(j.id)}catch(re){console.warn("Failed to delete product",re)}c(j.id)}},className:"px-3 py-1.5 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 font-medium text-xs transition-all hover:shadow-md",children:" Delete"})]})})]},j.id))})]})}),h.jsx("div",{className:"sm:hidden space-y-4 p-4",children:Wn.map(j=>h.jsxs("div",{className:"rounded-2xl border-2 border-beige/40 bg-white p-4 space-y-3 hover:border-accent-red/40 transition-colors shadow-sm hover:shadow-md",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"flex-shrink-0",children:j.image?h.jsx("img",{src:j.image,alt:j.name,className:"h-16 w-16 object-cover rounded-lg border border-beige/40 shadow-sm",loading:"lazy"}):h.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-beige/40 to-beige/20 rounded-lg border-2 border-dashed border-beige/40 flex items-center justify-center",children:h.jsx("span",{className:"text-xs text-soft-brown/60",children:"No img"})})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"text-sm font-semibold text-soft-brown truncate",children:j.name}),h.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 mt-1",children:j.description}),h.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[h.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-beige/30 text-soft-brown",children:j.category}),j.isNew&&h.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-accent-red/20 text-accent-red",children:" New"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-beige/30",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-semibold text-soft-brown/70 block mb-1",children:"Price"}),h.jsx("input",{type:"number",value:j.price,onChange:Y=>u(j.id,{price:Y.target.value}),className:"w-full text-sm rounded-lg border border-beige/60 bg-white/90 hover:bg-white hover:border-accent-red/40 px-2 py-2 text-gray-700 shadow-sm focus:border-accent-red focus:ring-1 focus:ring-accent-red/30 transition-all"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-semibold text-soft-brown/70 block mb-1",children:"Stock"}),h.jsx("input",{type:"number",value:j.stock,onChange:Y=>u(j.id,{stock:Y.target.value}),className:`w-full text-sm rounded-lg border-2 bg-white/90 hover:bg-white px-2 py-2 text-gray-700 shadow-sm focus:ring-1 focus:ring-accent-red/30 transition-all font-medium ${Number(j.stock)<=5?"border-accent-red/60 focus:border-accent-red":"border-beige/60 hover:border-accent-red/40 focus:border-accent-red"}`})]})]}),h.jsxs("div",{className:"space-y-2 pt-2 border-t border-beige/30",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-semibold text-soft-brown/70 block mb-1",children:"Category"}),h.jsxs("select",{value:j.category,onChange:Y=>u(j.id,{category:Y.target.value}),className:"w-full text-sm rounded-lg border border-beige/60 bg-white/90 hover:bg-white hover:border-accent-red/40 px-2 py-2 text-gray-700 shadow-sm focus:border-accent-red focus:ring-1 focus:ring-accent-red/30 transition-all",children:[h.jsx("option",{value:"Bouquet",children:"Bouquet"}),h.jsx("option",{value:"Keychain",children:"Keychain"}),h.jsx("option",{value:"Accessory",children:"Accessory"})]})]}),h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:j.isNew,onChange:Y=>u(j.id,{isNew:Y.target.checked}),className:"rounded border-beige/60 text-accent-red focus:ring-accent-red/40 cursor-pointer w-4 h-4"}),h.jsx("span",{className:"text-xs font-medium text-soft-brown",children:"Mark as New"})]})]}),h.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-beige/30",children:[h.jsx("button",{onClick:()=>ea(j),className:"flex-1 px-4 py-2.5 rounded-lg bg-accent-red/10 text-accent-red hover:bg-accent-red/20 font-semibold text-sm transition-all hover:shadow-md",children:" Edit"}),h.jsx("button",{onClick:async()=>{if(window.confirm("Delete this product?")){const Y=[j.image,...Array.isArray(j.gallery)?j.gallery:[]].filter(Boolean);try{Y.length===1?await Zg(Y[0]):Y.length>1&&await Fg(Y)}catch(re){console.warn("Failed to delete images",re)}if(j.id)try{await Jg(j.id)}catch(re){console.warn("Failed to delete product",re)}c(j.id)}},className:"flex-1 px-4 py-2.5 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 font-semibold text-sm transition-all hover:shadow-md",children:" Delete"})]})]},j.id))})]})})]}),h.jsxs("section",{id:"orders",className:"bg-white rounded-2xl sm:rounded-3xl shadow-xl p-3 sm:p-5 md:p-7 space-y-4 sm:space-y-6 border-2 border-beige/40",children:[h.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.6em] text-accent-red font-semibold",children:"Orders"}),h.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-soft-brown",children:"Recent Orders"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Guest and customer orders placed from the checkout page."})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-6 text-xs sm:text-sm",children:[h.jsxs("span",{className:"text-soft-brown font-medium",children:[pe.items.length," total orders"]}),h.jsxs("span",{className:"text-muted-pink font-medium",children:[pe.items.filter(j=>j.status==="pending").length," pending"]})]}),h.jsx("a",{href:"/orders",className:"inline-flex items-center rounded-full bg-accent-red px-4 sm:px-6 py-2.5 sm:py-2 text-xs sm:text-sm text-white font-semibold shadow-md hover:bg-red-700 active:bg-red-800 transition",children:"View Detailed Orders "})]}),pe.error&&h.jsx("p",{className:"text-sm text-red-500",children:pe.error}),pe.loading?h.jsx("p",{className:"text-sm text-soft-brown",children:"Loading orders..."}):pe.items.length===0?h.jsx("p",{className:"text-sm text-gray-500",children:"No orders have been placed yet."}):h.jsxs("div",{className:"overflow-hidden rounded-2xl border-2 border-beige/40 bg-white shadow-lg",children:[h.jsx("div",{className:"hidden sm:block overflow-x-auto",children:h.jsxs("table",{className:"min-w-full text-sm",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b-2 border-beige/40 bg-gradient-to-r from-beige/30 to-beige/20 text-left text-xs uppercase tracking-wider font-bold text-soft-brown",children:[h.jsx("th",{className:"px-6 py-4",children:"Date"}),h.jsx("th",{className:"px-6 py-4",children:"Order ID"}),h.jsx("th",{className:"px-6 py-4",children:"Customer"}),h.jsx("th",{className:"px-6 py-4 hidden md:table-cell",children:"Email"}),h.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),h.jsx("th",{className:"px-6 py-4",children:"Status"})]})}),h.jsx("tbody",{className:"divide-y divide-beige/30",children:pe.items.map(j=>h.jsxs("tr",{className:"hover:bg-muted-pink/20 transition-colors group",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs sm:text-sm font-medium text-soft-brown/80",children:new Date(j.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),h.jsxs("td",{className:"px-6 py-4 text-xs text-gray-600 font-mono max-w-[100px] truncate group-hover:text-soft-brown",children:["#",j.id.substring(0,8)]}),h.jsx("td",{className:"px-6 py-4 text-xs sm:text-sm font-semibold text-soft-brown",children:j.shipping_address?.name||" Guest"}),h.jsx("td",{className:"px-6 py-4 text-xs text-gray-600 hidden md:table-cell max-w-[150px] truncate",children:j.email||""}),h.jsxs("td",{className:"px-6 py-4 text-right text-xs sm:text-sm font-bold text-accent-red",children:["",Number(j.total||0).toFixed(2)]}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1.5 text-xs font-bold transition-colors ${j.status==="completed"?"bg-green-100 text-green-700":j.status==="pending"?"bg-yellow-100 text-yellow-700":j.status==="cancelled"?"bg-red-100 text-red-700":"bg-muted-pink/30 text-soft-brown"}`,children:j.status==="completed"?" Completed":j.status==="pending"?" Pending":j.status==="cancelled"?" Cancelled":j.status})})]},j.id))})]})}),h.jsx("div",{className:"sm:hidden space-y-4 p-4",children:pe.items.map(j=>h.jsxs("div",{className:"rounded-2xl border-2 border-beige/40 bg-white p-4 space-y-3 hover:border-accent-red/40 transition-colors shadow-sm hover:shadow-md",children:[h.jsxs("div",{className:"flex justify-between items-start gap-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-xs text-soft-brown/70 font-semibold uppercase tracking-wide mb-1",children:"Order ID"}),h.jsxs("p",{className:"text-xs text-gray-700 font-mono",children:[j.id.substring(0,12),"..."]})]}),h.jsxs("span",{className:`inline-flex items-center rounded-full px-3 py-1.5 text-xs font-bold flex-shrink-0 transition-colors ${j.status==="completed"?"bg-green-100 text-green-700":j.status==="pending"?"bg-yellow-100 text-yellow-700":j.status==="cancelled"?"bg-red-100 text-red-700":"bg-muted-pink/30 text-soft-brown"}`,children:[j.status==="completed"?"":j.status==="pending"?"":j.status==="cancelled"?"":""," ",j.status]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs pt-2 border-t border-beige/30",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-soft-brown/70 font-semibold mb-1",children:"Date"}),h.jsx("p",{className:"text-gray-700",children:new Date(j.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-soft-brown/70 font-semibold mb-1",children:"Total"}),h.jsxs("p",{className:"text-gray-700 font-bold text-accent-red",children:["",Number(j.total||0).toFixed(2)]})]})]}),h.jsxs("div",{className:"space-y-2 pt-2 border-t border-beige/30",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-soft-brown/70 font-semibold text-xs mb-1",children:"Customer"}),h.jsx("p",{className:"text-gray-700 text-xs font-medium",children:j.shipping_address?.name||" Guest"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-soft-brown/70 font-semibold text-xs mb-1",children:"Email"}),h.jsx("p",{className:"text-gray-700 text-xs break-all",children:j.email||""})]})]})]},j.id))})]})]}),h.jsxs("section",{id:"storage",className:"bg-gradient-to-br from-white to-beige/10 rounded-2xl sm:rounded-3xl shadow-xl p-3 sm:p-5 md:p-7 space-y-4 sm:space-y-6 border-2 border-beige/40",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.6em] text-accent-red font-semibold",children:"Storage"}),h.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-soft-brown",children:"Storage Management"})]}),h.jsxs("div",{className:"rounded-2xl bg-gradient-to-r from-beige/30 to-beige/20 border-2 border-beige/40 p-4 sm:p-6 space-y-3",children:[h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs sm:text-sm font-semibold text-soft-brown/70 uppercase tracking-wide mb-1",children:" Supabase Free Tier"}),h.jsx("p",{className:"text-lg sm:text-xl font-bold text-soft-brown",children:"1 GB Total"})]}),E.usageWarning&&h.jsx("div",{className:"px-3 py-1.5 rounded-full bg-amber-100 border border-amber-300",children:h.jsxs("p",{className:"text-xs font-bold text-amber-800",children:[" ",E.usageWarning]})})]}),h.jsx("div",{className:"relative h-2 bg-beige/40 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-gradient-to-r from-accent-red/60 to-accent-red transition-all duration-500",style:{width:`${Math.min(E.sizeInGB/1*100,100)}%`}})}),h.jsxs("p",{className:"text-xs text-gray-600 font-medium",children:[h.jsx("strong",{children:"Current Usage:"})," ",E.sizeInGB," GB / 1 GB (",Math.round(E.sizeInGB/1*100),"%)"]})]}),h.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[h.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-muted-pink/20 to-muted-pink/5 border-2 border-muted-pink/40 p-4 sm:p-6 space-y-3 hover:border-muted-pink/60 transition-colors group",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsx("p",{className:"text-xs font-bold text-soft-brown/70 uppercase tracking-wider",children:" Files"}),h.jsx("span",{className:"text-2xl",children:""})]}),h.jsx("p",{className:"text-4xl sm:text-5xl font-bold text-soft-brown group-hover:text-accent-red transition-colors",children:E.files}),h.jsx("p",{className:"text-xs text-gray-600",children:"total files"})]}),h.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-accent-red/15 to-accent-red/5 border-2 border-accent-red/40 p-4 sm:p-6 space-y-3 hover:border-accent-red/60 transition-colors group",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsx("p",{className:"text-xs font-bold text-soft-brown/70 uppercase tracking-wider",children:" Used"}),h.jsx("span",{className:"text-2xl",children:""})]}),h.jsxs("p",{className:"text-3xl sm:text-4xl font-bold text-accent-red",children:[E.sizeInMB," ",h.jsx("span",{className:"text-lg",children:"MB"})]}),h.jsxs("p",{className:"text-sm font-semibold text-gray-600",children:[E.sizeInGB," GB"]})]}),h.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-beige/30 to-beige/10 border-2 border-beige/40 p-4 sm:p-6 space-y-3 hover:border-beige/60 transition-colors group",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsx("p",{className:"text-xs font-bold text-soft-brown/70 uppercase tracking-wider",children:" Limit"}),h.jsx("span",{className:"text-2xl",children:""})]}),h.jsxs("p",{className:"text-3xl sm:text-4xl font-bold text-soft-brown",children:["1 ",h.jsx("span",{className:"text-lg",children:"GB"})]}),h.jsx("p",{className:"text-xs text-gray-600",children:"Free tier"})]})]}),_e&&h.jsx("div",{className:"rounded-2xl bg-red-50 border-2 border-red-200 p-4 sm:p-6",children:h.jsxs("p",{className:"text-xs sm:text-sm text-red-800 font-semibold",children:[" ",_e]})}),h.jsxs("div",{className:"space-y-4 pt-4 border-t-2 border-beige/30",children:[h.jsx("button",{onClick:Zn,disabled:X,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 rounded-lg bg-accent-red/10 hover:bg-accent-red/20 text-accent-red px-6 py-3 text-sm font-semibold transition-all hover:shadow-md active:bg-accent-red/30 disabled:opacity-50 disabled:cursor-not-allowed",children:X?" Refreshing...":" Refresh Stats"}),h.jsxs("div",{className:"pt-6 border-t-2 border-beige/30 space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-soft-brown text-sm uppercase tracking-wide",children:" Clear All Storage"}),h.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mt-2 leading-relaxed",children:["Permanently delete all ",E.files," product image(s). This action cannot be undone and will free up ",E.sizeInMB," MB of storage."]})]}),ce?h.jsxs("div",{className:"rounded-2xl bg-red-50 border-2 border-red-300 p-4 sm:p-6 space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-sm font-bold text-red-800",children:" Confirm Deletion"}),h.jsxs("p",{className:"text-xs sm:text-sm text-red-700 leading-relaxed",children:["You are about to permanently delete ",h.jsx("strong",{children:E.files})," file(s) totaling ",h.jsxs("strong",{children:[E.sizeInMB," MB"]}),". This action is ",h.jsx("strong",{children:"irreversible"})," and cannot be recovered."]})]}),h.jsxs("div",{className:"flex gap-3 flex-col sm:flex-row",children:[h.jsx("button",{onClick:to,disabled:X,className:"flex-1 rounded-lg bg-red-600 hover:bg-red-700 text-white px-4 py-3 text-sm font-bold transition-all hover:shadow-md active:bg-red-800 disabled:opacity-50 disabled:cursor-not-allowed",children:X?" Deleting...":" Yes, Delete All Files"}),h.jsx("button",{onClick:()=>fe(!1),disabled:X,className:"flex-1 rounded-lg border-2 border-red-300 bg-white hover:bg-red-50 text-red-700 px-4 py-3 text-sm font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:" Cancel"})]})]}):h.jsxs("button",{onClick:()=>fe(!0),disabled:X||E.files===0,className:"w-full rounded-lg bg-red-50 hover:bg-red-100 text-red-700 px-6 py-3 text-sm font-bold border-2 border-red-200 hover:border-red-400 transition-all hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:[" Delete All ",E.files," File(s)"]})]})]})]})]})]}),B&&h.jsx("div",{className:"fixed inset-0 z-40 flex items-end sm:items-center justify-center bg-black/40 p-0 sm:p-4 py-4 sm:py-0",children:h.jsxs("div",{className:"w-full max-w-2xl rounded-t-3xl sm:rounded-3xl bg-white p-4 sm:p-6 shadow-2xl relative max-h-[85vh] sm:max-h-[90vh] overflow-y-auto",children:[h.jsx("button",{onClick:()=>Q(!1),className:"absolute right-4 top-4 text-soft-brown hover:text-accent-red transition p-1 hover:bg-muted-pink/20 rounded-lg","aria-label":"Close add product dialog",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),h.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-soft-brown mb-4 sm:mb-6 pr-8",children:se?"Edit Product":"Add New Product"}),h.jsxs("form",{className:"grid gap-3 sm:gap-4 md:grid-cols-2",onSubmit:vt,children:[h.jsx(it,{label:"Name",value:ee.name,onChange:j=>At("name",j)}),h.jsx(it,{label:"Price",value:ee.price,onChange:j=>At("price",j)}),h.jsxs("label",{className:"text-sm font-medium text-soft-brown",children:[h.jsx("span",{children:"Main Image URL"}),h.jsx("input",{type:"text",value:ee.image,onChange:j=>At("image",j),placeholder:"https://...",className:"mt-2 w-full rounded-lg sm:rounded-xl border border-beige/70 bg-white/80 px-3.5 sm:px-3 py-3 sm:py-2 text-base sm:text-sm text-gray-700 shadow-sm focus:border-accent-red focus:ring-2 focus:ring-accent-red/30"})]}),h.jsxs("label",{className:"text-sm font-medium text-soft-brown",children:[h.jsx("span",{children:"Upload Main Image"}),h.jsx("input",{type:"file",accept:"image/*",onChange:j=>fi(j.target.files?.[0],Y=>At("image",Y),"new-product-image"),disabled:ue["new-product-image"],className:"mt-2 w-full rounded-lg sm:rounded-xl border border-dashed border-beige/70 bg-white/50 px-3.5 sm:px-3 py-3 sm:py-2 text-xs sm:text-sm text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-muted-pink/5 transition"}),ue["new-product-image"]&&h.jsx("p",{className:"text-xs text-accent-red mt-2 font-medium",children:"Uploading..."})]}),h.jsx("button",{type:"button",onClick:()=>vn({type:"new",productId:null}),className:"md:col-span-2 inline-flex items-center text-xs sm:text-sm text-accent-red hover:text-accent-red/80 font-medium transition rounded-lg px-3 py-2 hover:bg-accent-red/5 active:bg-accent-red/10",children:" Browse image library"}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("h4",{className:"text-sm font-semibold text-soft-brown mb-3",children:"Gallery Images (Optional)"}),h.jsx("div",{className:"grid gap-3 sm:grid-cols-3",children:new Array(3).fill(0).map((j,Y)=>h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-xs font-medium text-soft-brown",children:h.jsxs("span",{children:["Image ",Y+1]})}),h.jsx("input",{type:"text",value:ee.gallery?.[Y]||"",onChange:re=>mi(Y,re.target.value),placeholder:"URL or upload below",className:"w-full rounded-lg border border-beige/70 bg-white/80 px-3 py-2 text-xs text-gray-700 shadow-sm focus:border-accent-red focus:ring-2 focus:ring-accent-red/30"}),h.jsx("input",{type:"file",accept:"image/*",onChange:re=>fi(re.target.files?.[0],Ne=>mi(Y,Ne),`new-product-gallery-${Y}`),disabled:ue[`new-product-gallery-${Y}`],className:"w-full rounded-lg border border-dashed border-beige/70 bg-white/50 px-3 py-2 text-xs text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-muted-pink/5 transition"}),ue[`new-product-gallery-${Y}`]&&h.jsx("p",{className:"text-xs text-accent-red font-medium",children:"Uploading..."})]},Y))})]}),h.jsx(it,{label:"Stock Quantity",value:ee.stock,onChange:j=>At("stock",j)}),h.jsxs("label",{className:"text-sm font-medium text-soft-brown",children:[h.jsx("span",{children:"Category"}),h.jsxs("select",{value:ee.category,onChange:j=>At("category",j.target.value),className:"mt-2 w-full rounded-xl border border-beige/70 bg-white/80 px-3 py-3 sm:py-2 text-base sm:text-sm text-gray-700 shadow-sm focus:border-accent-red focus:ring-2 focus:ring-accent-red/30",children:[h.jsx("option",{value:"Bouquet",children:"Bouquet"}),h.jsx("option",{value:"Keychain",children:"Keychain"}),h.jsx("option",{value:"Accessory",children:"Accessory"})]})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("h4",{className:"text-sm font-semibold text-soft-brown mb-3",children:"Product Flags"}),h.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[h.jsxs("label",{className:"flex items-center gap-3 text-sm font-medium text-soft-brown cursor-pointer hover:bg-muted-pink/10 p-2 rounded-lg transition",children:[h.jsx("input",{type:"checkbox",checked:ee.isNew,onChange:j=>At("isNew",j.target.checked),className:"rounded border-beige/60 text-accent-red focus:ring-accent-red/40 cursor-pointer"}),h.jsx("span",{children:" New Arrival"})]}),h.jsxs("label",{className:"flex items-center gap-3 text-sm font-medium text-soft-brown cursor-pointer hover:bg-muted-pink/10 p-2 rounded-lg transition",children:[h.jsx("input",{type:"checkbox",checked:ee.isLimitedStock,onChange:j=>At("isLimitedStock",j.target.checked),className:"rounded border-beige/60 text-accent-red focus:ring-accent-red/40 cursor-pointer"}),h.jsx("span",{children:" Limited Stock"})]}),h.jsxs("label",{className:"flex items-center gap-3 text-sm font-medium text-soft-brown cursor-pointer hover:bg-muted-pink/10 p-2 rounded-lg transition",children:[h.jsx("input",{type:"checkbox",checked:ee.isFeatured,onChange:j=>At("isFeatured",j.target.checked),className:"rounded border-beige/60 text-accent-red focus:ring-accent-red/40 cursor-pointer"}),h.jsx("span",{children:" Featured"})]}),h.jsxs("label",{className:"flex items-center gap-3 text-sm font-medium text-soft-brown cursor-pointer hover:bg-muted-pink/10 p-2 rounded-lg transition",children:[h.jsx("input",{type:"checkbox",checked:ee.isOnSale,onChange:j=>At("isOnSale",j.target.checked),className:"rounded border-beige/60 text-accent-red focus:ring-accent-red/40 cursor-pointer"}),h.jsx("span",{children:" On Sale"})]})]})]}),h.jsx("div",{className:"md:col-span-2",children:h.jsx(it,{label:"Description",value:ee.description,onChange:j=>At("description",j),textarea:!0})}),_&&h.jsx("p",{className:"text-xs sm:text-sm text-red-500 md:col-span-2 bg-red-50/50 p-3 rounded-lg font-medium",children:_}),h.jsxs("div",{className:"md:col-span-2 flex flex-col-reverse sm:flex-row justify-end gap-2.5 sm:gap-3 pt-2 border-t border-beige/40",children:[h.jsx("button",{type:"button",onClick:()=>{Q(!1),P(null),Oe({name:"",description:"",price:"",image:"",gallery:["","",""],category:"Bouquet",isNew:!1,isLimitedStock:!1,isFeatured:!1,isOnSale:!1,stock:""})},className:"rounded-full border border-beige/60 px-4 py-2.5 sm:py-2 text-sm font-semibold text-soft-brown hover:bg-beige/20 active:bg-beige/40 transition",children:"Cancel"}),h.jsx("button",{type:"submit",className:"rounded-full bg-accent-red px-6 py-2.5 sm:py-2 text-sm font-semibold text-white hover:bg-red-700 active:bg-red-800 transition shadow-md",children:se?"Update Product":"Save Product"})]})]})]})}),Ae&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/40 p-0 sm:p-4 py-4 sm:py-0",children:h.jsxs("div",{className:"w-full max-w-3xl rounded-t-3xl sm:rounded-3xl bg-white p-4 sm:p-6 shadow-2xl relative max-h-[85vh] sm:max-h-[90vh] overflow-hidden flex flex-col",children:[h.jsx("button",{onClick:()=>qe(!1),className:"absolute right-4 top-4 text-soft-brown hover:text-accent-red transition p-1 hover:bg-muted-pink/20 rounded-lg z-10","aria-label":"Close image library",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),h.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-soft-brown mb-4 sm:mb-6 pr-8",children:" Image Library"}),J.error&&h.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-red-700",children:J.error})}),J.loading?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx("p",{className:"text-sm text-soft-brown",children:"Loading images..."})}):h.jsx("div",{className:"flex-1 overflow-y-auto",children:J.images.length===0?h.jsx("p",{className:"text-sm text-gray-500 py-8 text-center",children:"No images found in storage yet."}):h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-3 md:gap-4",children:J.images.map(j=>h.jsx("button",{type:"button",onClick:()=>bt(j),className:"group rounded-2xl border-2 border-beige/60 overflow-hidden hover:border-accent-red focus:outline-none focus:ring-2 focus:ring-accent-red/40 transition active:scale-95",children:h.jsxs("div",{className:"relative bg-beige/20 overflow-hidden",children:[h.jsx("img",{src:j,alt:"Product gallery",className:"w-full h-24 sm:h-32 object-cover group-hover:scale-110 transition-transform duration-200",loading:"lazy"}),h.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition flex items-center justify-center group-hover:opacity-100 opacity-0",children:h.jsx("span",{className:"text-white text-xl",children:""})})]})},j))})}),h.jsx("div",{className:"mt-4 pt-4 border-t border-beige/40 flex justify-end",children:h.jsx("button",{type:"button",onClick:()=>qe(!1),className:"rounded-full border border-beige/60 px-4 sm:px-6 py-2.5 sm:py-2 text-sm font-semibold text-soft-brown hover:bg-beige/20 active:bg-beige/40 transition",children:"Close"})})]})})]})})},by=R.createContext();function dS(){const i=ql.useContext(by);if(!i)throw new Error("useOrders must be used within an OrderProvider");return i}function hS({children:i}){const[n,s]=R.useState([]),[l,u]=R.useState(!0);R.useEffect(()=>{(async()=>{u(!0);const{data:x,error:v}=await gy();v?(console.error("Failed to fetch orders:",v),s([])):s(x||[]),u(!1)})()},[]);const m={orders:n,loading:l,updateOrderStatus:async(y,x)=>{s(w=>w.map(_=>_.id===y?{..._,status:x}:_));const{error:v}=await eS(y,x);v&&(console.error("Failed to update order status:",v),s(w=>w.map(_=>_.id===y?{..._,status:_.status}:_)))},deleteOrder:async y=>{const{error:x}=await tS(y);if(x){console.error("Failed to delete order:",x);return}s(v=>v.filter(w=>w.id!==y))},addOrder:y=>{const x={id:`ORD-2025-${String(n.length+1).padStart(3,"0")}`,...y,date:new Date().toISOString(),status:"pending"};return s(v=>[x,...v]),x}};return h.jsx(by.Provider,{value:m,children:i})}const fS=()=>{const{orders:i,updateOrderStatus:n,deleteOrder:s,loading:l}=dS(),[u,c]=R.useState("all"),f=i.filter(v=>u==="all"?!0:v.status===u),g=(v,w)=>{n(v,w)},m=v=>{window.confirm("Are you sure you want to delete this order?")&&s(v)},y=v=>new Date(v).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),x=v=>v.shipping_address?.name||"Guest";return l?h.jsx("div",{className:"container mx-auto px-4 py-8",children:h.jsx("div",{className:"text-center",children:"Loading orders..."})}):h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Recent Orders"}),h.jsx("div",{className:"mb-6",children:h.jsxs("select",{value:u,onChange:v=>c(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"all",children:"All Orders"}),h.jsx("option",{value:"pending",children:"Pending"}),h.jsx("option",{value:"processing",children:"Processing"}),h.jsx("option",{value:"shipped",children:"Shipped"}),h.jsx("option",{value:"delivered",children:"Delivered"}),h.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),h.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 border-b",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer Name"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(v=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y(v.created_at)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.id}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x(v)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.email}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["P",Number(v.total||0).toLocaleString()]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("select",{value:v.status,onChange:w=>g(v.id,w.target.value),className:`px-3 py-1 rounded-full text-xs font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500 ${v.status==="pending"?"bg-yellow-100 text-yellow-800":v.status==="processing"?"bg-blue-100 text-blue-800":v.status==="shipped"?"bg-purple-100 text-purple-800":v.status==="delivered"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[h.jsx("option",{value:"pending",children:"Pending"}),h.jsx("option",{value:"processing",children:"Processing"}),h.jsx("option",{value:"shipped",children:"Shipped"}),h.jsx("option",{value:"delivered",children:"Delivered"}),h.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:h.jsx("button",{onClick:()=>m(v.id),className:"text-red-600 hover:text-red-900 font-medium",children:"Delete"})})]},v.id))})]})}),f.length===0&&h.jsx("div",{className:"text-center py-8 text-gray-500",children:"No orders found"})]})]})};function mS(){return h.jsx(hS,{children:h.jsx(J_,{children:h.jsx(fx,{children:h.jsx(ax,{children:h.jsxs("div",{className:"min-h-screen bg-beige",children:[h.jsx(mx,{}),h.jsx("main",{children:h.jsxs(U0,{children:[h.jsx(Ps,{path:"/",element:h.jsx(X_,{})}),h.jsx(Ps,{path:"/products",element:h.jsx(F_,{})}),h.jsx(Ps,{path:"/cart",element:h.jsx(aS,{})}),h.jsx(Ps,{path:"/admin",element:h.jsx(cS,{})}),h.jsx(Ps,{path:"/orders",element:h.jsx(fS,{})})]})}),h.jsx(gx,{})]})})})})})}$v.createRoot(document.getElementById("root")).render(h.jsx(R.StrictMode,{children:h.jsx(mS,{})}));
